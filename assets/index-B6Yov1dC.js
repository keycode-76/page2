(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();const Rt="/page2/assets/btn_3-CIXqESXT.mp3",Qt="/page2/assets/slot_1-BTjXaHny.wav",Wt="/page2/assets/hint_1-CGGxhJa2.wav",Xt="data:audio/mpeg;base64,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",Yt="/page2/assets/hit_3-D7EOFD9K.mp3",zt="/page2/assets/lose_1-B4UCIDkq.wav",Jt="/page2/assets/win_2-DJErmnub.wav",Zt="/page2/assets/buy_1-BOFyt1Rj.mp3",jt="/page2/assets/coin_2-l7ffaYco.wav",$t="/page2/assets/info_2-DqiafzHX.wav",eo="/page2/assets/lock_1-CPU6wXwn.wav",no="/page2/assets/bomb_1-Celdewrb.m4a",m=new Audio(Rt),bn=new Audio(Qt),ct=new Audio(Wt),pn=new Audio(Xt),dt=new Audio(Yt),rt=new Audio(zt),At=new Audio(Jt),Be=new Audio(Zt),pt=new Audio(jt),mn=new Audio($t),to=new Audio(eo),En=new Audio(no);En.volume=.5;const mt=document.createElement("audio");mt.append(m,bn,ct,pn,mn,Be,pt,to,dt,At,rt,En);const ft=e=>{mt.childNodes.forEach(n=>{n instanceof HTMLAudioElement&&(n.volume=e)})};ft(.3);const U=document.createElement("div"),Ce=document.createElement("div"),Se=document.createElement("div"),qn=document.createElement("div"),oo=e=>(Ce.id="openClick",U.id="openingArea",Se.id="openingDiv",qn.id="openingImg",Ce.textContent="click to start",U.appendChild(Ce),e.appendChild(U));Ce.addEventListener("click",()=>{U.innerHTML="",U.appendChild(Se),Se.appendChild(qn),En.play()});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&(qn.classList.add("openLastImg"),Se.classList.add("logoFin"),U.classList.add("openingFin"))});const so="/page2/assets/menu-B6ut6jWp.mp3",ut="/page2/assets/night_game-BI7Yq-Zl.m4a",lo=new Audio(so),v=new Audio(ut),k=new Audio(ut);k.loop=!0;v.muted=!0;v.autoplay=!0;v.loop=!0;const L=(e,n)=>{const s=document.createElement("button");return s.textContent=e,s.addEventListener("click",n),s};let t={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_fix:49,curr_key_pos:[],curr_info_pos:[],curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0};const He=document.createElement("button"),R=document.createElement("div"),ye=document.createElement("div"),Je=document.createElement("label"),xe=document.createElement("button"),ee=document.createElement("button"),ne=document.createElement("div"),Le=document.createElement("div"),Ze=document.createElement("label"),ke=document.createElement("button"),Q=document.createElement("div"),te=document.createElement("div"),we=document.createElement("div"),Rn=document.createElement("div"),je=document.createElement("div"),oe=document.createElement("div"),be=document.createElement("div"),Qn=document.createElement("div"),Ee=document.createElement("button"),fn=He.cloneNode(!0),io=()=>{R.id="pauseArea",ye.id="pauseDiv",Je.id="pauseLabel",xe.id="resumeBtn",ee.id="setBackMenuBtn",ne.id="settingArea",Le.id="settingDiv",Ze.id="settingLabel",ke.id="setScreenBtn",Ee.id="setBackBtn",ne.className="overlay",R.className="overlay",ye.className="setDivBox",Le.className="setDivBox",Q.className="setAudioBtn",je.className="setAudioBtn",te.className="audioBar",we.className="audioSlider",Rn.className="audioDot",oe.className="audioBar",be.className="audioSlider",Qn.className="audioDot",He.textContent="setting",fn.textContent="setting",Je.textContent="- pause -",xe.textContent="resume",ee.textContent="back to Menu",Ze.textContent="- setting -",ke.textContent="fullscreen",Q.textContent="Music",je.textContent="Sound",Ee.textContent="back",we.appendChild(Rn),te.appendChild(we),be.appendChild(Qn),oe.appendChild(be),ne.appendChild(Le),R.appendChild(ye),Le.append(Ze,ke,Q,te,je,oe,Ee),ye.append(Je,xe,fn,ee)};io();const ao=e=>{e.appendChild(R)};He.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ne),m.play()});Ee.addEventListener("click",()=>{let n=event.target.parentNode.parentNode;n.parentNode.removeChild(n),m.play()});ke.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});let $e=!0;Q.addEventListener("click",()=>{$e?(k.muted=!0,v.muted=!0,$e=!1,Q.textContent="Mute"):($e=!0,Q.textContent="Music",t.curr_scene==="menu"?(k.muted=!1,k.play()):t.curr_scene==="battle"&&(v.muted=!1,v.play()))});xe.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(R)});fn.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ne)});ee.addEventListener("click",()=>{app.removeChild(R),v.pause(),k.play()});let Dn=!1;te.addEventListener("mousedown",function(e){Dn=!0,Mn(e.clientX)});document.addEventListener("mousemove",function(e){Dn&&Mn(e.clientX)});document.addEventListener("mouseup",function(e){Dn=!1});const Mn=function(e,n){let s,l=te;if(n)s=n*100;else{var a=e-l.offsetLeft;s=100*a/l.clientWidth}s>100&&(s=100),s<0&&(s=0),we.style.width=s+"%",k.volume=s/100,v.volume=s/100};oe.addEventListener("mousedown",function(e){co(e.clientX)});const co=function(e,n){let s,l=oe;if(n)s=n*100;else{var a=e-l.offsetLeft;s=100*a/l.clientWidth}s>100&&(s=100),s<0&&(s=0),be.style.width=s+"%",ft(s/100)};window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"&&(k.muted=!1,k.play(),Mn(498))});let vt=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]}],ro=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]}],Ao=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0]}],me=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0}],i,o;const ge=localStorage.getItem("threeSlot");!ge||ge==="undefined"||ge==="null"?i=me:i=JSON.parse(ge);const Ne={1:vt,2:ro,3:Ao},po=e=>{if(e===0)return;const n=e,s=`cardData_${n}`,l=localStorage.getItem(s);!l||l==="undefined"||l==="null"?Ne[n]?o=Ne[n]:o=vt:o=JSON.parse(l),console.log("RDR userData")},mo=()=>{t.now_slot!==0&&(me=i,localStorage.setItem("threeSlot",JSON.stringify(me)))},se=document.createElement("button"),Bn=document.createElement("button");se.textContent="SAVE";Bn.textContent="reset";se.addEventListener("click",()=>{if(t.now_slot===0)return;console.log("save"),mo(),me=i,localStorage.setItem("threeSlot",JSON.stringify(me));const e=t.now_slot;Ne[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(Ne[e]))});Bn.addEventListener("click",()=>{console.log("reset");const e=t.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),t.now_slot=0});const I=document.createElement("div"),qe=document.createElement("div"),Sn=document.createElement("div"),ht=document.createElement("div");I.id="menuArea";qe.id="menuDiv";Sn.id="menuImgDiv";ht.id="menuImg";Sn.appendChild(ht);const z=document.createElement("div"),N=document.createElement("div"),Nn=document.createElement("label"),fo=L("X",()=>{Fn(1)}),uo=L("X",()=>{Fn(2)}),vo=L("X",()=>{Fn(3)}),ho=L("",()=>{Pe(1)}),_o=L("",()=>{Pe(2)}),yo=L("",()=>{Pe(3)});ho.classList.add("slotDel_btn");_o.classList.add("slotDel_btn");yo.classList.add("slotDel_btn");N.id="saveSlotDiv";Nn.id="saveSlotLabel";z.classList.add("overlay");N.classList.add("setDivBox");Nn.textContent="- Load -";const Lo=L("Back",()=>Co()),un=e=>{t.curr_scene="menu",qe.innerHTML="";const n=L("Start",()=>go(I)),s=L("Quit",()=>ko());return qe.append(n,He,s),I.append(Sn,qe),e.appendChild(I)},_t=()=>{z.innerHTML="",N.innerHTML="",N.appendChild(Nn),i.forEach((e,n)=>{if(n===0)return;const s=document.createElement("div"),l=document.createElement("div");if(s.classList.add("slotDiv"),l.classList.add("slot_btn"),l.textContent=e.slotName,s.appendChild(l),e.slotName!=="New Game"){const a=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),E=document.createElement("div"),ze=document.createElement("div"),Un=L("X",()=>{Pe(n)});a.classList.add("slotInfo"),c.classList.add("slotCHAL"),d.classList.add("slotGrade"),E.classList.add("slotMoney"),ze.classList.add("slotLevel"),Un.classList.add("slotDel_btn"),c.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,d.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,E.innerHTML=`<h4>money</h4>${e.currMoney}`,ze.innerHTML=`<h4>level</h4>${e.currLevel}`,a.append(c,d,E,ze),l.appendChild(a),s.appendChild(Un)}N.appendChild(s),z.appendChild(N),l.addEventListener("click",()=>{n===1?fo.click():n===2?uo.click():n===3&&vo.click()})}),N.appendChild(Lo)},go=e=>{e.appendChild(z),_t(),m.play()},Co=()=>{I.removeChild(z),m.play()},Fn=e=>{t.now_slot=e,po(e),i[e].slotName==="New Game"&&(i[e].challengeTime=0,i[e].boardGrade=0,i[e].currMoney=0,i[e].currLevel=0,i[e].treasureCol=0,i[e].bossCol=0),I.classList.add("transOut_circle"),i[e].slotName="data_"+e,m.play(),k.pause()},xo=()=>{I.removeChild(z)},Pe=e=>{t.now_slot=e,i[e].slotName="New Game",i[e].challengeTime=0,i[e].boardGrade=0,i[e].currMoney=0,i[e].currLevel=0,i[e].currLevel=0,i[e].farLevel=0,i[e].hint=0,Bn.click(),_t(),m.play()},ko=()=>{window.close()},Wn=[{move:"",info:"To the new owner of the computer: If I were you, I'd spend money to buy a normal computer. But since you're so insistent, I won't say much. I can only offer you some advice."},{move:"",info:"The keyboard is very old. I suggest updating it as soon as possible, ideally replacing each keycap."},{move:"",info:"By the way, this computer has viruses. Please prioritize removing them. Believe me, those viruses are really tough to deal with."},{move:"",info:"Finally, enjoy the new /KO@**M?UT)R of yours. Oh! and, Whenever you get a chance, update the keycaps immediately!"},{move:"Enter text.",info:"Wellcome to the Keyboard Usage Guidelines."},{move:"Enter text.",info:"The one at the right corner is the offence integration of each keycap."},{move:"Press back key.",info:"To clear the entered text, simply press 'back', please note that the entire string of text will be deleted since the button is a bit damaged."},{move:"Enter 'input'.",info:"The way of remove virus is to enter the correct words."},{move:"",info:"Every time when remove a virus, you can go online to purchase equipment. Don't hesitate to spend money, it's the key to the end."},{move:"",info:""},{move:"hint 1",info:"Choosing a class for a keycap."},{move:"hint 2",info:"Upgrade a keycap to level two."}],p=document.createElement("div"),A=document.createElement("div"),vn=document.createElement("div"),hn=document.createElement("div"),yt=document.createElement("div");A.id="hintDiv";p.id="hintArea";vn.className="hintInfo";hn.id="hintMove";yt.id="hint_img1";const wo=e=>e.appendChild(p),w=()=>{ct.play(),console.log(i[t.now_slot].hint),vn.textContent=Wn[i[t.now_slot].hint].info,A.append(vn,hn),hn.textContent=Wn[i[t.now_slot].hint].move,i[t.now_slot].hint===0?(p.appendChild(yt),p.appendChild(A),A.classList.add("hint1")):i[t.now_slot].hint===1||i[t.now_slot].hint===2||i[t.now_slot].hint===3?p.appendChild(A):i[t.now_slot].hint===4?(p.innerHTML="",A.classList.value="",p.appendChild(A),A.classList.add("hint2")):i[t.now_slot].hint===5||i[t.now_slot].hint===6||i[t.now_slot].hint===7||i[t.now_slot].hint===8||i[t.now_slot].hint===9?p.appendChild(A):i[t.now_slot].hint===10?(A.classList.value="",p.appendChild(A),A.classList.add("hint10")):i[t.now_slot].hint===11?(p.innerHTML="",A.classList.value="",p.appendChild(A),A.classList.add("hint11")):i[t.now_slot].hint===12?p.appendChild(A):i[t.now_slot].hint===13&&(A.classList.value="")},_n=document.createElement("div"),O=document.createElement("div"),b=document.createElement("input"),Fe=document.createElement("label");let Xn=!1;_n.id="codeAreaDiv";O.id="labelContainer";b.id="codingInput";b.setAttribute("autocomplete","off");b.setAttribute("type","text");Fe.id="lvlComText";Fe.textContent="";const bo=6,yn=e=>{if(t.codeLength_is0=!1,i[t.now_slot].currLevel>=bo)return;if(O.innerHTML="",Xn=e.every(s=>s.done),Xn)return t.codeLength_is0=!0,Fe.classList.add("lvlFin"),O.appendChild(Fe);let n=0;e.forEach((s,l)=>{if(s.done||O.childElementCount>=5)return;const a=document.createElement("div"),c=document.createElement("label");a.className="codeLabelDiv",c.className="codeLabel",c.style.animationDelay=n+"ms",n+=200,s.content.split("").forEach(d=>{const E=document.createElement("span");E.textContent=d,E.textContent===" "&&(E.style.width="10px"),c.appendChild(E)}),a.appendChild(c),O.append(a),b.addEventListener("input",()=>{Eo(s,c)})}),m.play(),console.log("render code")},Lt=e=>{t.boss_code.forEach(n=>{n.done=!1}),yn(t.boss_code),_n.append(O,b),e.append(_n)},Eo=(e,n)=>{let s=b.value.toString(),l=s.split("");const a=l.length-1;if(n.children.length-1>=a&&a>=0&&n.children[a].textContent===s[a]&&n.children[a].classList.add("activeLabel"),e.content===s){if(n.classList.add("finLabel"),e.done===!0||i[t.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(c=>{c.classList.remove("activeLabel")}),e.done=!0,l=[]}};window.addEventListener("keydown",e=>{b.focus(),e.keyCode==8&&(b.value="",document.querySelectorAll(".activeLabel").forEach(n=>{n.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?yn(t.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),b.value="",yn(t.boss_code),console.log("finLabAnim : end"))});const qo=(e,n,s,l,a,c)=>{const d=document.createElement("div");return d.id=e,s&&(d.textContent=s),n&&(d.className=n),l&&d.addEventListener("click",l),c&&d.append(a,c),d},en=document.createElement("div"),J=document.createElement("label"),T=qo("usergetCoin"),gt=e=>(en.id="userMoney",J.id="moneyLabel",en.append(T,J),T.style.opacity=0,e.appendChild(en)),Tn=()=>{console.log(t.key_getCoin,i[t.now_slot].currMoney),t.key_getCoin!==0?(T.textContent="+"+t.key_getCoin,T.classList.add("getCoin"),T.style.opacity=1):T.style.opacity=0};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),i[t.now_slot].currMoney+=t.key_getCoin,J.textContent=i[t.now_slot].currMoney,t.key_getCoin=0,T.style.opacity=0,pt.play())});const Do=["off_0_1","off_0_2","off_0_3"],Mo=["off_1_1","off_1_2","off_1_3"],Yn=["off_2_1","off_2_2","off_2_3"],Bo=["off_3_1","off_3_2","off_3_3"];let C=0,f=0,le=0;const g=(e,n,s,l,a,c)=>{const d=document.createElement("div");return d.id=e,s&&(d.textContent=s),n&&(d.className=n),l&&d.addEventListener("click",l),c&&d.append(a,c),d},So=document.createElement("div"),zn=g("bossContainer"),Te=g("bossDiv"),W=g("bossImg"),q=g("bossHeartDiv"),ie=g("bossHeartVal"),Jn=g("attackArea"),nn=g("infoDiv"),Ln=g("scoreDiv"),V=document.createElement("div"),fe=g("cardContainer"),Zn=g("hurtImg"),ae=document.createElement("div"),ce=document.createElement("div");ae.textContent="K.O";ce.textContent="You Lose";So.id="computerDiv";const Ct=e=>{f=0,t.key_getCoin=0,C=t.curr_boss.blood,Ie=[],fe.innerHTML="",ae.classList.value="",ae.className="userWin",ce.classList.value="",ce.className="userLose",W.classList.value="",W.classList.add(t.curr_boss.id),q.appendChild(ie),q.classList.value="",q.classList.add("heartBeat"),q.style.opacity=1,ie.textContent=C,V.textContent="0",Ln.appendChild(V),J.textContent=i[t.now_slot].currMoney,gt(nn),J.text=i[t.now_slot].currMoney,nn.append(q,Ln),Te.append(ce,ae,W),zn.append(Te),Jn.append(nn,fe),Lt(e),e.append(zn,Jn),console.log("import battle")};let Ie=[];const No=e=>{if(t.curr_scene!=="battle"||typeof e.keyCode!="number")return;let n=0;for(t.curr_key=e.keyCode;n<o.length;){if(o[n].code===e.keyCode){Ie.push(e.keyCode);const s=document.createElement("label"),l=document.createElement("div"),a=document.createElement("div");a.classList.value="",a.className="cardDiv fadeIn",l.classList.value="",o[n].class===1?l.classList.add(Mo[o[n].level-1]):o[n].class===2?l.classList.add(Yn[o[n].level-1]):o[n].class===3?l.classList.add(Bo[o[n].level-1]):o[n].class===4?l.classList.add(Yn[o[n].level-1]):l.classList.add(Do[o[n].level-1]),s.classList.add("cardOff"),l.classList.add("cardName"),l.textContent=o[n].name,s.textContent="+"+o[n].off,o[n].mp>1&&(s.textContent="x"+o[n].mp),o[n].coin>0&&(s.textContent="$"+o[n].coin),f+=o[n].off,f*=o[n].mp,le+=o[n].coin,console.log("coin",le,"total coin",t.key_getCoin),a.append(s,l),fe.appendChild(a);break}n++}e.keyCode===8&&(fe.innerHTML="",f=0,le=0),f%1!=0?V.textContent=f.toFixed(2):V.textContent=f,pn.currentTime=0,pn.play()};window.addEventListener("keydown",No);window.addEventListener("animationend",e=>{t.now_slot===0||i[t.now_slot].currScene==="shop"||(e.animationName==="finLabelAnim"?(e.target.classList.remove("finLabel"),t.key_battle=t.key_battle.concat(Ie),Ie=[],fe.innerHTML="",C-=f,Te.appendChild(Zn),f%1!=0?V.textContent=f.toFixed(2):V.textContent=f,t.key_getCoin+=le,Tn(),C<1&&i[t.now_slot].currLevel!=0&&(q.classList.remove("heartDisapear"),q.classList.add("heartDisapear"),ie.textContent=0,v.pause()),le=0,f=0,Ln.classList.add("attactScore")):e.animationName==="attactScoreAnim"?(e.target.classList.remove("attactScore"),Te.removeChild(Zn),V.textContent=f,C%1!=0?ie.textContent=C.toFixed(2):ie.textContent=C,dt.play()):e.animationName==="heartDisapearAnim"?(q.style.opacity=0,ae.classList.add("KO"),W.classList.add("finBoss"),At.play()):e.animationName==="finBossAnim"?(e.target.classList.remove("finBoss"),i[t.now_slot].currLevel+=1,i[t.now_slot].farLevel=i[t.now_slot].currLevel,C=t.curr_boss.blood,W.classList.value="",f=0):e.animationName==="lvlFinAnim"&&t.codeLength_is0&&C>0&&(ce.classList.add("LOSE"),W.classList.add("bossWin"),console.log("battle lose",t.codeLength_is0),t.curr_boss.reward=0,rt.play(),v.pause(),lo.play()))});const M=document.createElement("div"),Ke=document.createElement("button"),B=document.createElement("button");Ke.textContent="pass";B.textContent="next";M.id="tutorialArea";Ke.id="tourPassBtn";B.id="tourNextBtn";const Fo=e=>(wo(M),w(),M.appendChild(B),B.classList.add("nextBtn1"),e.append(M,Ke));Ke.addEventListener("click",()=>{M.classList.add("tourFin"),i[t.now_slot].hint=10,m.play()});B.addEventListener("click",()=>{i[t.now_slot].hint+=1,w(),i[t.now_slot].hint===4?(M.removeChild(B),t.curr_scene="battle"):i[t.now_slot].hint===9&&(M.classList.add("tourFin"),i[t.now_slot].hint=10),m.play()});window.addEventListener("keydown",e=>{i[t.now_slot].hint===4?(i[t.now_slot].hint=5,Ct(middleArea),middleArea.removeChild(codeAreaDiv),w()):i[t.now_slot].hint===5?(i[t.now_slot].hint=6,w()):e.keyCode===8&&i[t.now_slot].hint===6&&(i[t.now_slot].hint=7,Lt(middleArea),w())});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&i[t.now_slot].hint===7&&(i[t.now_slot].hint=8,M.appendChild(B),document.querySelector("#headArea").innerHTML="",middleArea.removeChild(bossContainer),middleArea.removeChild(attackArea),middleArea.removeChild(codeAreaDiv),B.classList.value="",w())});document.createElement("div");const xt=e=>{let n=o.length,l=o.filter(a=>a.level===1).length/n;l*=10,l<5&&(i[t.now_slot].boardGrade=2,i[t.now_slot].hint===11&&(i[t.now_slot].hint=12,w()))},To=[{content:"true",done:!1},{content:"const",done:!1},{content:"var",done:!1},{content:"boolean",done:!1},{content:"false",done:!1}],Io=[{content:"insects",done:!1},{content:"const",done:!1},{content:"0=false",done:!1},{content:"number",done:!1},{content:"1=true",done:!1}],Vo=[{content:"bat=''",done:!1},{content:"const",done:!1},{content:"string",done:!1},{content:"''",done:!1},{content:"let",done:!1}],Ho={id:"boss_1_1",name:"Spider",blood:2,reward:30},Po={id:"boss_1_2",name:"Swarm of Insects",blood:5,reward:30},Ko={id:"boss_1_3",name:"Bat",blood:2,reward:35},Oo=[{content:"string",done:!1},{content:"number",done:!1},{content:"boolean",done:!1},{content:"undefined",done:!1},{content:"null",done:!1}],Go=[{content:"function",done:!1},{content:"()",done:!1},{content:"sayHello()",done:!1},{content:"'hello!'",done:!1},{content:"Parenthesis",done:!1}],Uo=[{content:"addEventListener",done:!1},{content:"click()",done:!1},{content:"array",done:!1},{content:"console",done:!1},{content:"log",done:!1}],Ro={id:"boss_2_1",name:"Kobold",blood:3,reward:50},Qo={id:"boss_2_2",name:"Goblin",blood:3,reward:50},Wo={id:"boss_2_3",name:"Octopus",blood:3,reward:55},Xo=[{content:"html",done:!1},{content:"body",done:!1},{content:"head",done:!1},{content:"main",done:!1},{content:"footer",done:!1}],Yo=[{content:"<audio>",done:!1},{content:"<div>",done:!1},{content:"<h1>",done:!1},{content:"<button>",done:!1},{content:"<img>",done:!1}],zo=[{content:"animationend",done:!1},{content:"click",done:!1},{content:"keydown",done:!1},{content:"change",done:!1},{content:"load",done:!1}],Jo={id:"boss_3_1",name:"Skeleton",blood:5,reward:70},Zo={id:"boss_3_2",name:"Ogre",blood:5,reward:70},jo={id:"boss_3_3",name:"Fire Elemental",blood:5,reward:70},$o=[{content:"label",done:!1},{content:"span",done:!1},{content:"textarea",done:!1},{content:"input",done:!1},{content:"code",done:!1}],es=[{content:"document",done:!1},{content:"getElementById",done:!1},{content:"function",done:!1},{content:"event",done:!1},{content:"listener",done:!1}],ns=[{content:"stylesheet",done:!1},{content:"href",done:!1},{content:"a",done:!1},{content:"link",done:!1},{content:"rel",done:!1}],ts={id:"boss_4_1",name:"Werewolf",blood:8,reward:90},os={id:"boss_4_2",name:"Stone Giant",blood:8,reward:90},ss={id:"boss_4_3",name:"Homunculi",blood:8,reward:90},ls=[{content:"br/",done:!1},{content:"p",done:!1},{content:"td",done:!1},{content:"a",done:!1},{content:"h2",done:!1}],is=[{content:"!DOCTYPE",done:!1},{content:"UTF-8",done:!1},{content:"HTML5",done:!1},{content:"Big5",done:!1},{content:"ASCII",done:!1}],as=[{content:"5173",done:!1},{content:"3000",done:!1},{content:"8081",done:!1},{content:"http://",done:!1},{content:"CORS",done:!1}],cs={id:"boss_5_1",name:"Giant Duck",blood:2,reward:100},ds={id:"boss_5_2",name:"Unicorn",blood:2,reward:100},rs={id:"boss_5_3",name:"Bog Troll",blood:2,reward:100},_=document.createElement("div"),de=document.createElement("div"),gn=document.createElement("div"),De=document.createElement("div"),Me=document.createElement("div"),re=document.createElement("div"),Oe=document.createElement("div"),Ge=document.createElement("div");_.id="prologueArea";de.id="prolMainDiv";gn.id="prolLvlDiv";De.id="prolBounty";Me.id="prolBlood";re.id="prolBtnDiv";Oe.id="prolFightBtn";Ge.id="prolPassBtn";Oe.textContent="fighting";Ge.textContent="Pass";const Cn=e=>{const n=i[t.now_slot].currLevel;return console.log("import prol",xn.length,n),_.innerHTML="",re.innerHTML="",de.innterHtml="",de.append(De,Me),re.appendChild(Oe),n<i[t.now_slot].farLevel&&re.appendChild(Ge),n<xn.length?(gs(n),gn.textContent="Level. "+n,De.textContent="Bounty: "+t.curr_boss.reward,Me.textContent="score: "+t.curr_boss.blood,_.appendChild(gn)):(De.textContent="Next level and more features are in development. Devlog will updates on X and IG.",Me.textContent="To be countinue...",_.appendChild(de)),e.appendChild(_)},kt=[To,Io,Vo],As=[Oo,Go,Uo],ps=[Xo,Yo,zo],ms=[$o,es,ns],fs=[ls,is,as],us=[Ho,Po,Ko],vs=[Ro,Qo,Wo],hs=[Jo,Zo,jo],_s=[ts,os,ss],ys=[cs,ds,rs],xn=[0,kt,As,ps,ms,fs],Ls=[0,us,vs,hs,_s,ys],gs=e=>{let n=0;n=Math.floor(Math.random()*kt.length);let s=xn[e],l=Ls[e];t.boss_code=s[n],t.curr_boss=l[n],console.log("RDR boss",l[n])};Oe.addEventListener("click",()=>{_.classList.value="",_.classList.add("prolFightFin"),m.play(),v.muted=!1,v.play(),console.log(v)});Ge.addEventListener("click",()=>{_.classList.value="",_.classList.add("prolPassFin"),m.play()});let tn=!1;window.addEventListener("animationend",()=>{t.curr_scene==="prologue"&&(event.animationName==="showAnim"?(console.log("111"),_.appendChild(de),tn=!1):event.animationName==="fadeInAnim_2"&&tn===!1&&(_.appendChild(re),tn=!0))});const X=[{id:0,name:"Heal",price:0,info:"heal + 1 ( still in adjust )"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:40,info:"wizard suit"},{id:0,name:"Rogue",price:25,info:"rogue suit"},{id:11,name:"basic sword",price:10,info:"offence + 1"},{id:12,name:"better sword",price:30,info:"offence + 2"},{id:13,name:"strong sword",price:60,info:"offence + 3"},{id:51,name:"lock",price:0,info:"still working on..."},{id:52,name:"lock",price:0,info:"still working on..."}],In=e=>{const n=document.createElement("div");return n.id=e,n},ue=In("infoName"),ve=In("infoContent"),jn=In("infoBox"),Cs=e=>(jn.append(ue,ve),e.appendChild(jn)),on=[{title:"XP",info:"Experience Points: Successfully attacking each round will increase experience points. When full, it will increase one level."},{title:"HP",info:"Health: When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power: Starts at one point. Equipment can increase attack power."},{title:"Mp",info:"Magic power is calculated using multiplication. The sum of all keycap attacks will be multiplied by Magic power, it will be displayed starting from one decimal place."},{title:"Coin",info:"Golden Coin: the amount of coins that will be brought after a successful attack."},{title:"Civilian",info:"Offence is one. Can accumulate experience to increase level, but level update will not have any bonus effects."},{title:"Fighter",info:"Good at fight, offence is higher then other class, initial offence is two"},{title:"Wizard",info:"It is a powerful character. Normal attacks use addition, while the wizard can use multiplication. The initial value is 1.1."},{title:"Rogue",info:"Can steal coins, is a great help for earning money while also having relatively high attack power, initiall offence is two."},{title:"",info:""}],xs=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],ks=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],ws=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],wt=[{name:"Esc",code:27,pos:"office",class:"keyShort"},{name:"1",code:49,pos:"field"},{name:"2",code:50,pos:"field"},{name:"3",code:51,pos:"field"},{name:"4",code:52,pos:"field"},{name:"5",code:53,pos:"field"},{name:"6",code:54,pos:"field"},{name:"7",code:55,pos:"field"},{name:"8",code:56,pos:"field"},{name:"9",code:57,pos:"field"},{name:"0",code:48,pos:"field"},{name:"-",code:189,pos:"field"},{name:"=",code:187,pos:"field"},{name:"Back",code:8,pos:"office",class:"keyBack"}],bt=[{name:"Tab",code:9,pos:"office",class:"keyTab"},{name:"Q",code:81,pos:"field"},{name:"W",code:87,pos:"field"},{name:"E",code:69,pos:"field"},{name:"R",code:82,pos:"field"},{name:"T",code:84,pos:"field"},{name:"Y",code:89,pos:"field"},{name:"U",code:85,pos:"field"},{name:"I",code:73,pos:"field"},{name:"O",code:79,pos:"field"},{name:"P",code:80,pos:"field"},{name:"[",code:219,pos:"field"},{name:"]",code:221,pos:"field"},{name:"\\",code:220,pos:"office"}],Et=[{name:"CapsLock",code:20,pos:"office",class:"keyLong"},{name:"A",code:65,pos:"field"},{name:"S",code:83,pos:"field"},{name:"D",code:68,pos:"field"},{name:"F",code:70,pos:"field"},{name:"G",code:71,pos:"field"},{name:"H",code:72,pos:"field"},{name:"J",code:74,pos:"field"},{name:"K",code:75,pos:"field"},{name:"L",code:76,pos:"field"},{name:";",code:186,pos:"field"},{name:"'",code:222,pos:"field"},{name:"Enter",code:13,pos:"office",class:"keyMiddle"}],qt=[{name:"Shift",code:16,pos:"office",class:"keyLong"},{name:"Z",code:90,pos:"field"},{name:"X",code:88,pos:"field"},{name:"C",code:67,pos:"field"},{name:"V",code:86,pos:"field"},{name:"B",code:66,pos:"field"},{name:"N",code:78,pos:"field"},{name:"M",code:77,pos:"field"},{name:",",code:188,pos:"field"},{name:".",code:190,pos:"field"},{name:"/",code:191,pos:"field"},{name:"Shift",code:16,pos:"office",class:"keyLong"}],Dt=[{name:"Ctrl",code:17,pos:"office",class:"keyShort"},{name:"Win",code:91,pos:"office",class:"keyShort"},{name:"Alt",code:18,pos:"office",class:"keyShort"},{name:"Space",code:32,pos:"office",class:"keySpace"},{name:"Alt",code:18,pos:"office",class:"keyShort"},{name:"Fn",code:0,pos:"office",class:"keyShort"},{name:"Ctrl",code:17,pos:"office",class:"keyShort"}];let Vn=document.createElement("div");Vn.classList.add("keyContainer");let Ue=document.createElement("div");Ue.classList.add("keyLine");let Re=document.createElement("div");Re.classList.add("keyLine");let Qe=document.createElement("div");Qe.classList.add("keyLine");let We=document.createElement("div");We.classList.add("keyLine");let Xe=document.createElement("div");Xe.classList.add("keyLine");Vn.append(Ue,Re,Qe,We,Xe);const y=(e,n)=>{n.innerHTML="",e.forEach(s=>{let l=document.createElement("div");if(l.textContent=s.name,l.id=s.code,n.append(l),l.classList.value="",l.className="keycap",console.log(s.class),s.class?l.classList.add(s.class):l.classList.add("keyField"),s.pos==="field"){let a=0;for(;a<o.length;){if(o[a].code===s.code){o[a].class===1?(l.classList.add(xs[o[a].level-1]),l.classList.add("keyFighterLv1")):o[a].class===2?(l.classList.add(ks[o[a].level-1]),l.classList.add("keyWizard")):o[a].class===3?(l.classList.add(ws[o[a].level-1]),l.classList.add("keyRogue")):l.classList.add("keyCivilian");break}a++}}else l.classList.add("keyOffice")})},G=e=>{e.append(Vn),y(wt,Ue),y(bt,Re),y(Et,Qe),y(qt,We),y(Dt,Xe)},bs=e=>{if(typeof e.keyCode!="number")return;const n=document.querySelector(`div[id="${e.keyCode}"`);n&&t.curr_scene==="battle"&&(n.classList.add("keyDownAnim"),setTimeout(()=>{n.classList.remove("keyDownAnim")},100))},Es=()=>{const e=document.querySelector(`div[id="${t.curr_fix}"`);if(e&&t.curr_scene==="shop"){const n=e.getBoundingClientRect(),s=n.left+window.scrollX,l=n.top+window.scrollY;t.curr_key_pos[0]=s,t.curr_key_pos[1]=l,qs(),e.classList.add("keyFixing")}},qs=()=>{if(document.getElementsByClassName("keyFixing").length===0)return;document.querySelectorAll(".keyFixing").forEach(function(n){n.classList.remove("keyFixing")})};window.addEventListener("keydown",bs);const Ds=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],S=(e,n,s,l,a,c)=>{const d=document.createElement("div");return d.id=e,s&&(d.textContent=s),n&&(d.className=n),l&&d.addEventListener("click",l),c&&d.append(a,c),d},sn=S("shopContainer"),$n=S("shopTopDiv"),Ms=S("marketDiv"),Bs=S("bossColDiv"),Ss=S("trophyDiv"),ln=S("mdseContainer"),an=S("shopCounter"),Mt=S("shopPurchaseBtn",0,"buy"),Ns=e=>{if($n.append(Ms,Bs,Ss),gt(an),an.append(Mt),sn.append($n,ln,an),Cs(sn),t.key_getCoin=t.curr_boss.reward,Tn(),ln.innerHTML="",X.forEach((n,s)=>{const l=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div");l.append(a,c),l.classList.add("mdseItem"),a.classList.value="",a.classList.add("mdseImg"),a.classList.add(Ds[s]),c.classList.add("mdsePrice"),c.textContent=n.price.toString(),ln.appendChild(l),l.addEventListener("click",()=>{Bt(),t.targetMdse_index=s,ue.textContent=n.name,ve.textContent=n.info,a.classList.add("clickMdse"),bn.play()}),s===0&&l.click()}),t.key_battle!=[]){for(let n=0;n<o.length;n++)for(let s=0;s<t.key_battle.length;s++)t.key_battle[s]===o[n].code&&(o[n].xp[0]+=1,o[n].xp[0]>=o[n].xp[1]&&(o[n].level+=1,o[n].xp[0]=0));t.key_battle=[]}return console.log("import shop"),e.appendChild(sn)},Bt=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(n){n.classList.remove("clickMdse")})};Mt.addEventListener("click",()=>{let e=X[t.targetMdse_index];e.price>i[t.now_slot].currMoney||(i[t.now_slot].currMoney-=e.price,J.textContent=i[t.now_slot].currMoney,Fs(e),Ye(t.curr_key),Be.currentTime=0,Be.play())});const Fs=e=>{let n=0;for(;n<o.length;)if(o[n].code===t.curr_key){let s=o[n].equip.indexOf(0);e.name==="Heal"?o[n].hp[1]>o[n].hp[0]&&(o[n].hp[0]+=1):e.name==="Experience"?o[n].xp[1]>o[n].xp[0]?o[n].xp[0]+=1:(o[n].level+=1,o[n].xp[0]=0,i[t.now_slot].hint===12&&(i[t.now_slot].hint=13,w())):e.name==="Fighter"?o[n].class=1:e.name=="Wizard"?o[n].class=2:e.name==="Rogue"?o[n].class=3:e.name==="basic sword"?o[n].equip[s]=11:e.name==="better sword"?o[n].equip[s]=12:e.name==="strong sword"?o[n].equip[s]=13:e.name==="Shield_1"?o[n].equip[s]=4:e.name==="Shield_2"&&(o[n].equip[s]=5);break}else n++;Ye(t.curr_key),y(wt,Ue),y(bt,Re),y(Et,Qe),y(qt,We),y(Dt,Xe),console.log("render keycap")},Ts=["key_0_1","key_1_2","key_1_3","key_1_4"],Is=["key_1_1","key_1_2","key_1_3","key_1_4"],Vs=["key_2_1","key_2_2","key_2_3"],Hs=["key_3_1","key_3_2","key_3_3"],Ps=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],r=(e,n,s,l,a,c)=>{const d=document.createElement("div");return d.id=e,n&&(d.className=n),s&&(d.textContent=s),l&&d.addEventListener("click",l),c&&d.append(a,c),d},P=e=>{if(t.curr_scene==="shop"){if(console.log(on[e].title),e===5){let n=F.textContent;n==="Civilian"?e=5:n==="Fighter"?e=6:n==="Wizard"?e=7:n==="Rogue"&&(e=8)}ue.textContent=on[e].title,ve.textContent=on[e].info,mn.currentTime=0,mn.play()}},Ks=[49,50,51,52,53,54,55,56,57,48,189,187,81,87,69,82,84,89,85,73,79,80,219,221,65,83,68,70,71,72,74,75,76,186,222,90,88,67,86,66,78,77,188,190,191],he=r("skillContainer"),et=r("skillBDiv"),nt=r("skillImg"),St=r("keymanName"),Nt=r("keymanLvl"),F=r("keymanClassName",0,0,()=>{P(5)}),K=r("keymanImg",0,0,()=>{P(5)}),Ae=r("keyfixDiv"),j=r("keymanValDiv"),cn=r("keymanXpDiv","keymanVal",0,()=>{P(0)}),dn=r("keymanHpDiv","keymanVal",0,()=>{P(1)}),tt=r("keymanMpDiv","keymanVal",0,()=>{P(2)}),rn=r("keymanOffDiv","keymanVal",0,()=>{P(3)}),ot=r("keymanCoinDiv","keymanVal",0,()=>{P(4)}),Os=r("xp","keymanValIcon"),Gs=r("hp","keymanValIcon"),Us=r("mp","keymanValIcon"),Rs=r("off","keymanValIcon"),Qs=r("coin","keymanValIcon"),Ft=r("xpVal","keyVal"),Tt=r("hpVal","keyVal"),It=r("mpVal","keyVal"),Vt=r("offVal","keyVal"),Ht=r("coinVal","keyVal"),st=r("skillTDiv"),kn=r("keymanEquipDiv"),pe=r("keymanSellBtn",0),$=e=>{st.append(nt,j),et.append(kn),nt.append(St,Nt,K,F),cn.append(Os,Ft),dn.append(Gs,Tt),rn.append(Rs,Vt),e===1?(tt.append(Us,It),j.innerHTML="",j.append(cn,dn,rn,tt)):e===3&&(ot.append(Qs,Ht),j.innerHTML="",j.append(cn,dn,rn,ot)),he.append(st,et,pe)},Hn=e=>(he.textContent="Enter Key...",Ae.style.opacity=0,e.append(he,Ae)),Ye=e=>{if(t.now_slot===0||typeof e!="number")return;let n=0;for(he.innerHTML="";n<o.length;)if(o[n].code===e){t.targetKey_index=n,t.curr_fix=e,St.textContent=o[n].name,K.classList.value="",o[n].off=1,o[n].mp=1,o[n].coin=0,he.innerHTML="",o[n].class===1?($(1),F.textContent="Fighter",K.classList.add(Is[o[n].level-1]),o[n].level===1?o[n].off=2:o[n].level===2?o[n].off=3:o[n].level>=3&&(o[n].off=5)):o[n].class===2?($(1),F.textContent="Wizard",K.classList.add(Vs[o[n].level-1]),o[n].level===1?o[n].mp=1.1:o[n].level===2?o[n].mp=1.2:o[n].level>=3&&(o[n].mp=1.4)):o[n].class===3?($(3),F.textContent="Rogue",K.classList.add(Hs[o[n].level-1]),o[n].level===1?o[n].coin=2:o[n].level===2?o[n].coin=5:o[n].level>=3&&(o[n].coin=1,o[n].coin=8)):o[n].class===4?($(1),F.textContent="Druid"):($(1),F.textContent="Civilian",K.classList.add(Ts[0])),i[t.now_slot].hint===11&&o[n].class!==0&&(i[t.now_slot].hint=12,w()),kn.innerHTML="";for(let s=0;s<o[n].equip.length;s++){let l=document.createElement("div"),a=[0,0],c=0;l.classList.value="",l.classList.add("equipLog"),kn.appendChild(l),o[n].equip[s]===11?(o[n].off+=1,c=5):o[n].equip[s]===12?(o[n].off+=2,c=6):o[n].equip[s]===13&&(o[n].off+=3,c=7),c!==0&&(l.classList.add(Ps[c]),a[0]=X[c].name,a[1]=X[c].info),l.addEventListener("click",()=>{console.log("e",s,o[n].equip[s],o[n].off),Bt(),Ws(),t.targetEquip_index=s,a[0]===0?(ue.textContent="equip slot",ve.textContent="An empty box",pe.style.opacity=0):(ue.textContent=a[0],ve.textContent=a[1],pe.style.opacity=1,pe.textContent="sell for $"+X[c].price/2),l.classList.add("clickEquip"),bn.play()}),s===0&&l.click()}Nt.textContent=o[n].level,Tt.textContent=o[n].hp[0]+" /"+o[n].hp[1],Ft.textContent=o[n].xp[0]+" /"+o[n].xp[1],It.textContent=o[n].mp,Vt.textContent=o[n].off,Ht.textContent=o[n].coin;break}else n++;console.log("render skill")},Ws=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(n){n.classList.remove("clickEquip")})};pe.addEventListener("click",()=>{let e=o[t.targetKey_index].equip[t.targetEquip_index];if(e===11?(t.targetMdse_index=5,o[t.targetKey_index].off-=1):e===12?(t.targetMdse_index=6,o[t.targetKey_index].off-=2):e===13&&(t.targetMdse_index=7,o[t.targetKey_index].off-=3),e!==0){let n=X[t.targetMdse_index];t.key_getCoin+=n.price/2,Tn()}o[t.targetKey_index].equip[t.targetEquip_index]=0,Ye(o[t.targetKey_index].code),Be.play()});const Xs=e=>{t.curr_scene!=="shop"||!Ks.includes(e.keyCode)||e.keyCode===t.curr_key||(console.log("keydown-",e.keyCode,t.curr_key,t.curr_fix),t.curr_key=e.keyCode,Ye(t.curr_key),t.curr_key===t.curr_fix&&(Es(),Ae.style.opacity=1,Ae.style.left=t.curr_key_pos[0]+"px",Ae.style.top=t.curr_key_pos[1]+"px"))};window.addEventListener("keydown",Xs);const Ys=document.createElement("label"),Z=document.createElement("div"),Pn=document.createElement("div"),H=document.createElement("label"),_e=document.createElement("div"),Kn=document.createElement("div"),On=document.createElement("div"),Gn=document.createElement("div"),Ve=document.createElement("div");Ys.id="titleArea";H.id="titleLabel";Z.id="nextLvlBtn";Pn.id="titShopDiv";_e.id="titShopBtn";Kn.id="titTreasureBtn";On.id="titBugCollBtn";Gn.id="titKeyCollBtn";Ve.id="titDictBtn";_e.className="titBtn";Kn.className="titBtn";On.className="titBtn";Gn.className="titBtn";Ve.className="titBtn";Kn.classList.add("lock_img");On.classList.add("lock_img");Gn.classList.add("lock_img");const Pt=(e,n)=>{if(i[t.now_slot])return console.log("import tit",n),H.textContent=t.curr_boss.name,Z.style.display="none",e.append(H,Pn,Z)};Z.addEventListener("click",()=>{Z.classList.add("shopFin"),m.play()});_e.addEventListener("click",()=>{const e=document.getElementById("middleArea");H.textContent="Shop",e.innerHTML="",Hn(e),Ns(e),Kt(),_e.classList.add("titleFocus"),m.play()});Ve.addEventListener("click",()=>{zs(),renderPage1(0),Kt(),Ve.classList.add("titleFocus"),m.play()});const Kt=()=>{if(!document.getElementsByClassName("titleFocus"))return;document.querySelectorAll(".titleFocus").forEach(function(n){n.classList.remove("titleFocus")})},zs=()=>{const e=document.getElementById("middleArea");H.textContent="Dictionary",e.innerHTML="",Hn(e),importDiction(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(H.textContent="Shop",Z.style.display="block"):e.animationName==="prolFightFinAnim"&&(Pn.innerHTML="",H.textContent="name: "+t.curr_boss.name)});const h=(e,n,s,l,a,c)=>{const d=document.createElement("div");return d.id=e,s&&(d.textContent=s),n&&(d.moveClass=n),l&&d.addEventListener("click",l),c&&d.append(a,c),d},lt=h("wallArea"),it=h("windowDiv"),Y=h("windowImg"),Js=h("backMiddleDiv"),Zs=h("shelf_1"),js=h("shelf_2"),$s=h("shelfDiv",0,0,0,Zs,js),el=h("deskArea"),An=h("gameArea"),wn=h("headArea"),u=h("middleArea"),D=h("keyBoardArea");window.addEventListener("keydown",e=>{if(e.keyCode===27){const n=document.getElementById("app");ao(n)}});const Ot=e=>{e.className="transIn_circle",Gt(Y,"window_move"),it.appendChild(Y),lt.append(it,Js,$s),u.innerHTML="",An.innerHTML="",An.append(wn,u,D),e.append(lt,el,An),xt(),i[t.now_slot].currLevel===0?(console.log("RDR tutorial"),Fo(u),t.curr_boss={id:"boss_0",name:"PT guy",blood:5,reward:0},t.boss_code=[{content:"input",done:!1}],Pt(wn,i[t.now_slot].currLevel),G(D)):(Cn(u),G(D),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),i[t.now_slot].currLevel=1,console.log("tourFin lvl",i[t.now_slot].currLevel),t.curr_scene="prologue",u.innerHTML="";const n=document.querySelector("#app");G(D),Ot(n)}else e.animationName==="prolFightFinAnim"?(e.target.classList.remove("prolFightFin"),console.log("scene now: ",t.curr_scene),t.curr_scene="battle",se.click(),u.innerHTML="",Pt(wn,i[t.now_slot].currLevel),G(D),Ct(u),xt()):e.animationName==="prolPassFinAnim"?(e.target.classList.remove("prolPassFin"),document.querySelector("#app"),i[t.now_slot].currLevel+=1,u.innerHTML="",Cn(u)):e.animationName==="finBossAnim"?(e.target.classList.remove("finBoss"),t.curr_scene="shop",console.log("scene now: ",t.curr_scene),u.innerHTML="",D.innerHTML="",Hn(u),_e.click(),G(D),se.click()):e.animationName==="shopFinAnim"?(e.target.classList.remove("shopFin"),e.target.style.display="none",console.log("next lvl"),document.querySelector("#app"),u.innerHTML="",t.curr_scene="prologue",G(D),Cn(u)):e.animationName==="bossWinAnim"?(e.target.classList.remove("bossWinAnim"),i[t.now_slot].currLevel=1,i[t.now_slot].challengeTime+=1,i[t.now_slot].currMoney=0,t.curr_scene="menu",se.click()):e.animationName==="window_moveAnim"&&(Y.classList.value="",Y.classList.add("window_idle"),Gt(Y,"window_move"))});const Gt=(e,n)=>{const s=Math.floor(Math.random()*1e4)+4e3;Y.className="window_idle",setTimeout(()=>{e.classList.value="",e.classList.add(n)},s)},Ut=document.createElement("div");Ut.id="myCursor";document.body.appendChild(Ut);let at=document.getElementById("myCursor");window.addEventListener("mousemove",function(e){let n=e.pageX,s=e.pageY;at.style.left=n-10+"px",at.style.top=s-2+"px"});const x=document.querySelector("#app"),nl=()=>{oo(x),t.curr_scene="menu"};nl();ee.addEventListener("click",()=>{x.innerHTML="",un(x)});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&un(x),event.animationName==="openingFinAnim"?(event.target.classList.remove("openingFin"),console.log("opening finish"),x.removeChild(openingArea)):event.animationName==="bossWinAnim"?(console.log("you lose! back to lvl 1"),x.innerHTML="",un(x)):event.animationName==="transOut_circleAnim"&&t.curr_scene==="menu"&&(event.target.classList.remove("transOut_circle"),xo(),x.innerHTML="",Ot(x),t.curr_scene="prologue")});
