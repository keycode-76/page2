(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(i){if(i.ep)return;i.ep=!0;const d=s(i);fetch(i.href,d)}})();const ho="/page2/assets/btn_3-CIXqESXT.mp3",_o="/page2/assets/slot_1-BTjXaHny.wav",Lo="/page2/assets/hint_1-CGGxhJa2.wav",yo="data:audio/mpeg;base64,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",xo="/page2/assets/hit_3-D7EOFD9K.mp3",Co="/page2/assets/lose_1-B4UCIDkq.wav",Eo="/page2/assets/win_1-BGr8rV3N.wav",wo="/page2/assets/buy_1-BOFyt1Rj.mp3",go="/page2/assets/coin_2-l7ffaYco.wav",ko="/page2/assets/info_2-DqiafzHX.wav",bo="/page2/assets/lock_1-CPU6wXwn.wav",qo="/page2/assets/bomb_1-Celdewrb.m4a",r=new Audio(ho),Zt=new Audio(_o),Tn=new Audio(Lo),Ct=new Audio(yo),In=new Audio(xo),Fn=new Audio(Co),Vn=new Audio(Eo),Ye=new Audio(wo),Hn=new Audio(go),le=new Audio(ko),Mo=new Audio(bo),jt=new Audio(qo);jt.volume=.5;const Pn=document.createElement("audio");Pn.append(r,Zt,Tn,Ct,le,Ye,Hn,Mo,In,Vn,Fn,jt);const Kn=e=>{Pn.childNodes.forEach(t=>{t instanceof HTMLAudioElement&&(t.volume=e)})};Kn(.3);const R=document.createElement("div"),Ve=document.createElement("div"),ze=document.createElement("div"),$t=document.createElement("div"),Do=e=>(Ve.id="openClick",R.id="openingArea",ze.id="openingDiv",$t.id="openingImg",Ve.textContent="click to start",R.appendChild(Ve),e.appendChild(R));Ve.addEventListener("click",()=>{R.innerHTML="",R.appendChild(ze),ze.appendChild($t),jt.play()});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&($t.classList.add("openLastImg"),ze.classList.add("logoFin"),R.classList.add("openingFin"))});const Bo="/page2/assets/menu-B6ut6jWp.mp3",So="/page2/assets/beat_1-D9EBUP2P.m4a",h=new Audio(Bo),w=new Audio(So);h.muted=!0;h.autoplay=!0;h.loop=!0;w.muted=!0;w.autoplay=!0;w.loop=!0;const y=(e,t)=>{const s=document.createElement("button");return s.textContent=e,s.addEventListener("click",t),s},lt=document.createElement("button"),Q=document.createElement("div"),Te=document.createElement("div"),vt=document.createElement("label"),He=document.createElement("button"),de=document.createElement("button"),re=document.createElement("div"),Ie=document.createElement("div"),ht=document.createElement("label"),Pe=document.createElement("button"),X=document.createElement("div"),pe=document.createElement("div"),Ke=document.createElement("div"),bn=document.createElement("div"),_t=document.createElement("div"),Ae=document.createElement("div"),Ge=document.createElement("div"),qn=document.createElement("div"),Oe=document.createElement("button"),Et=lt.cloneNode(!0),No=()=>{Q.id="pauseArea",Te.id="pauseDiv",vt.id="pauseLabel",He.id="resumeBtn",de.id="setBackMenuBtn",re.id="settingArea",Ie.id="settingDiv",ht.id="settingLabel",Pe.id="setScreenBtn",Oe.id="setBackBtn",re.className="overlay",Q.className="overlay",Te.className="setDivBox",Ie.className="setDivBox",X.className="setAudioBtn",_t.className="setAudioBtn",pe.className="audioBar",Ke.className="audioSlider",bn.className="audioDot",Ae.className="audioBar",Ge.className="audioSlider",qn.className="audioDot",lt.textContent="setting",Et.textContent="setting",vt.textContent="- pause -",He.textContent="resume",de.textContent="back to Menu",ht.textContent="- setting -",Pe.textContent="fullscreen",X.textContent="Music",_t.textContent="Sound",Oe.textContent="back",Ke.appendChild(bn),pe.appendChild(Ke),Ge.appendChild(qn),Ae.appendChild(Ge),re.appendChild(Ie),Q.appendChild(Te),Ie.append(ht,Pe,X,pe,_t,Ae,Oe),Te.append(vt,He,Et,de)};No();const To=e=>{e.appendChild(Q)};lt.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(re),r.play()});Oe.addEventListener("click",()=>{let t=event.target.parentNode.parentNode;t.parentNode.removeChild(t),r.play()});Pe.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});let Lt=!0;X.addEventListener("click",()=>{Lt?(h.muted=!0,Lt=!1,X.textContent="Mute"):(h.muted=!1,h.play(),Lt=!0,X.textContent="Music")});He.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(Q)});Et.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(re)});de.addEventListener("click",()=>{app.removeChild(Q),w.pause(),h.play()});let en=!1;pe.addEventListener("mousedown",function(e){en=!0,tn(e.clientX)});document.addEventListener("mousemove",function(e){en&&tn(e.clientX)});document.addEventListener("mouseup",function(e){en=!1});const tn=function(e,t){let s,a=pe;if(t)s=t*100;else{var i=e-a.offsetLeft;s=100*i/a.clientWidth}s>100&&(s=100),s<0&&(s=0),Ke.style.width=s+"%",h.volume=s/100};Ae.addEventListener("mousedown",function(e){Io(e.clientX)});const Io=function(e,t){let s,a=Ae;if(t)s=t*100;else{var i=e-a.offsetLeft;s=100*i/a.clientWidth}s>100&&(s=100),s<0&&(s=0),Ge.style.width=s+"%",Kn(s/100)};window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"&&(h.muted=!1,h.play(),tn(498))});let n={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0},Le=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:0,currLevel:0,farLevel:1,hint:0,treasureCol:0,bossCol:0}],Gn=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],Fo=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],Vo=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],l,o;const Fe=localStorage.getItem("threeSlot");!Fe||Fe==="undefined"||Fe==="null"?l=Le:l=JSON.parse(Fe);const Je={1:Gn,2:Fo,3:Vo},Ho=e=>{if(e===0)return;const t=e,s=`cardData_${t}`,a=localStorage.getItem(s);!a||a==="undefined"||a==="null"?Je[t]?o=Je[t]:o=Gn:o=JSON.parse(a),console.log("RDR userData")},Po=()=>{n.now_slot!==0&&(Le=l,localStorage.setItem("threeSlot",JSON.stringify(Le)))},me=document.createElement("button"),nn=document.createElement("button");me.textContent="SAVE";nn.textContent="reset";me.addEventListener("click",()=>{if(n.now_slot===0)return;console.log("save"),Po(),Le=l,localStorage.setItem("threeSlot",JSON.stringify(Le));const e=n.now_slot;Je[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(Je[e]))});nn.addEventListener("click",()=>{console.log("reset");const e=n.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),n.now_slot=0});const W=document.createElement("div"),Ue=document.createElement("div"),on=document.createElement("div"),On=document.createElement("div");W.id="menuArea";Ue.id="menuDiv";on.id="menuImgDiv";On.id="menuImg";on.appendChild(On);const te=document.createElement("div"),B=document.createElement("div"),sn=document.createElement("label"),Un=y("X",()=>{ln(1)}),Rn=y("X",()=>{ln(2)}),Qn=y("X",()=>{ln(3)}),Ko=y("",()=>{at(1)}),Go=y("",()=>{at(2)}),Oo=y("",()=>{at(3)});Ko.classList.add("slotDel_btn");Go.classList.add("slotDel_btn");Oo.classList.add("slotDel_btn");B.id="saveSlotDiv";sn.id="saveSlotLabel";te.classList.add("overlay");B.classList.add("setDivBox");sn.textContent="- Load -";const Uo=y("Back",()=>Qo()),wt=e=>{n.curr_scene="menu",Ue.innerHTML="";const t=y("Start",()=>Ro(W)),s=y("Quit",()=>Xo());return Ue.append(t,lt,s),W.append(on,Ue),e.appendChild(W)},Xn=()=>{te.innerHTML="",B.innerHTML="",B.appendChild(sn),l.forEach((e,t)=>{if(t===0)return;const s=document.createElement("div"),a=document.createElement("div");if(s.classList.add("slotDiv"),a.classList.add("slot_btn"),a.textContent=e.slotName,s.appendChild(a),e.slotName!=="New Game"){const i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),b=document.createElement("div"),ut=document.createElement("div"),kn=y("X",()=>{at(t)});i.classList.add("slotInfo"),d.classList.add("slotCHAL"),u.classList.add("slotGrade"),b.classList.add("slotMoney"),ut.classList.add("slotLevel"),kn.classList.add("slotDel_btn"),d.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,u.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,b.innerHTML=`<h4>money</h4>${e.currMoney}`,ut.innerHTML=`<h4>level</h4>${e.currLevel}`,i.append(d,u,b,ut),a.appendChild(i),s.appendChild(kn)}B.appendChild(s),te.appendChild(B),a.addEventListener("click",()=>{t===1?Un.click():t===2?Rn.click():t===3&&Qn.click()})}),B.appendChild(Uo)},Ro=e=>{e.appendChild(te),Xn(),r.play()},Qo=()=>{W.removeChild(te),r.play()},ln=e=>{n.now_slot=e,Ho(e),l[e].slotName==="New Game"&&(l[e].challengeTime=0,l[e].boardGrade=0,l[e].currMoney=200,l[e].currLevel=0,l[e].treasureCol=0,l[e].bossCol=0),l[e].slotName="data_"+e,W.removeChild(te),n.curr_scene="prologue",r.play(),h.pause()},at=e=>{n.now_slot=e,l[e].slotName="New Game",l[e].challengeTime=0,l[e].boardGrade=0,l[e].currMoney=0,l[e].currLevel=0,l[e].currLevel=0,l[e].farLevel=0,l[e].hint=0,nn.click(),Xn(),r.play()},Xo=()=>{window.close()},Mn=[{move:"",info:"There is a type of alien that likes to invade home computers. They have various different appearances. And will continuously expand its influence until it occupies the computer host."},{move:"",info:"Entering the correct words will weaken their physical strength. So upgrade your keyboard and capture as many aliens as possible."},{move:"Enter text.",info:"This is your Keyboard."},{move:"",info:"Here is the attack power integration of your Keyboard."},{move:"Enter letters and press back key.",info:"When the last letter is pressed, the attack will be successful, Before that, you can press the back key to clear the attack area."},{move:"Enter the text.",info:"The weaknesses of aliens will appear in text form. Enter the correct word to weaken the strength of the aliens."},{move:"",info:"When the alien's stamina reaches zero, the capture is successful."},{move:"",info:"Now lets start capturing the first alien."},{move:"",info:""},{move:"mission 1",info:"Choosing a class for a keycap."},{move:"mission 2",info:"Upgrade a keycap to level two."},{move:"mission 3",info:"Grade the keyboard up a level."}],p=document.createElement("div"),c=document.createElement("div"),gt=document.createElement("div"),kt=document.createElement("div"),Wn=document.createElement("div"),Yn=document.createElement("div");c.id="hintDiv";p.id="hintArea";gt.className="hintInfo";kt.id="hintMove";Wn.id="hint_img1";Yn.id="hint_img2";const zn=e=>e.appendChild(p),g=()=>{Tn.play(),gt.textContent=Mn[l[n.now_slot].hint].info,c.append(gt,kt),kt.textContent=Mn[l[n.now_slot].hint].move,l[n.now_slot].hint===0?(p.appendChild(Wn),p.appendChild(c),c.classList.add("hint1")):l[n.now_slot].hint===1?(p.innerHTML="",p.appendChild(Yn),p.appendChild(c),c.classList.add("hint1")):l[n.now_slot].hint===2?(p.innerHTML="",c.classList.value="",p.appendChild(c),c.classList.add("hint2")):l[n.now_slot].hint===3?(c.classList.value="",p.appendChild(c),c.classList.add("hint3")):l[n.now_slot].hint===4?(c.classList.value="",p.appendChild(c),c.classList.add("hint4")):l[n.now_slot].hint===5?(c.classList.value="",p.appendChild(c),c.classList.add("hint5")):l[n.now_slot].hint===6?(c.classList.value="",p.appendChild(c),c.classList.add("hint6")):l[n.now_slot].hint===7?(c.classList.value="",p.appendChild(c),c.classList.add("hint7")):l[n.now_slot].hint===8?(c.classList.value="",p.appendChild(c),c.classList.add("hint8")):l[n.now_slot].hint===9?(p.innerHTML="",c.classList.value="",p.appendChild(c),c.classList.add("hint9")):l[n.now_slot].hint===10?(c.classList.value="",p.appendChild(c),c.classList.add("hint10")):l[n.now_slot].hint===11?(c.classList.value="",p.appendChild(c),c.classList.add("hint11")):l[n.now_slot].hint===12&&(c.classList.value="")},Wo=["off_0_1","off_0_2","off_0_3"],Yo=["off_1_1","off_1_2","off_1_3"],Dn=["off_2_1","off_2_2","off_2_3"],zo=["off_3_1","off_3_2","off_3_3"];let C=0,bt=0,f=0,fe=0;const Re=document.createElement("div"),qt=document.createElement("div"),Jo=document.createElement("div"),Mt=document.createElement("div"),F=document.createElement("div"),Ze=document.createElement("div"),I=document.createElement("label"),Dt=document.createElement("div"),Bt=document.createElement("div"),q=document.createElement("div"),ne=document.createElement("div"),ue=document.createElement("div"),ve=document.createElement("div");ue.textContent="K.O";ve.textContent="You Lose";Re.id="battleDiv";qt.id="bossContainer";Jo.id="bossTitle";Mt.id="bossDiv";F.id="bossImg";Dt.id="attackArea";Bt.id="scoreDiv";ne.id="cardContainer";Ze.classList.add("bossBloodDiv");I.classList.add("bossBloodLabel");const ye=e=>{f=0,n.key_getCoin=0,C=n.curr_boss.blood,bt=n.curr_boss.reward,je=[],ne.innerHTML="",Re.innerHTML="",ue.classList.value="",ue.className="userWin",ve.classList.value="",ve.className="userLose",F.classList.value="",F.classList.add(n.curr_boss.id),console.log("boss",n.curr_boss.id),Ze.appendChild(I),I.textContent=C,q.textContent="0",Bt.appendChild(q),Mt.append(ve,ue,F),qt.append(Mt,Ze),Dt.append(Bt,ne),Re.append(qt,Dt),e.append(Re),console.log("import battle")};let je=[];const Zo=e=>{if(n.curr_scene!=="battle"||typeof e.keyCode!="number")return;let t=0;for(n.curr_key=e.keyCode;t<o.length;){if(o[t].code===e.keyCode){je.push(e.keyCode);const s=document.createElement("label"),a=document.createElement("div");a.classList.value="",a.className="cardDiv fadeIn",o[t].class===1?a.classList.add(Yo[o[t].level-1]):o[t].class===2?a.classList.add(Dn[o[t].level-1]):o[t].class===3?a.classList.add(zo[o[t].level-1]):o[t].class===4?a.classList.add(Dn[o[t].level-1]):a.classList.add(Wo[o[t].level-1]),s.classList.add("cardOff"),a.textContent=o[t].name,s.textContent=o[t].off,f+=o[t].off,f*=o[t].mp,fe+=o[t].coin,console.log("coin",fe,"total coin",n.key_getCoin),a.appendChild(s),ne.appendChild(a);break}t++}e.keyCode===8&&(ne.innerHTML="",f=0,fe=0),f%1!=0?q.textContent=f.toFixed(2):q.textContent=f,Ct.currentTime=0,Ct.play()};window.addEventListener("keydown",Zo);window.addEventListener("animationend",e=>{n.now_slot===0||l[n.now_slot].currScene==="shop"||(e.animationName==="finLabelAnim"?(e.target.classList.remove("finLabel"),n.key_battle=n.key_battle.concat(je),je=[],ne.innerHTML="",C-=f,f%1!=0?q.textContent=f.toFixed(2):q.textContent=f,n.key_getCoin+=fe,C<1&&l[n.now_slot].currLevel!=0&&(ue.classList.add("KO"),F.classList.add("finBoss"),I.textContent=0,Ze.removeChild(I),Vn.play(),w.pause()),fe=0,f=0,q.classList.add("attactScore")):e.animationName==="attactScoreAnim"?(e.target.classList.remove("attactScore"),q.textContent=f,C%1!=0?I.textContent=C.toFixed(2):I.textContent=C,In.play()):e.animationName==="finBossAnim"?(e.target.classList.remove("finBoss"),l[n.now_slot].currLevel+=1,l[n.now_slot].farLevel=l[n.now_slot].currLevel,C=n.curr_boss.blood,l[n.now_slot].currMoney+=bt,bt=0,F.classList.value="",f=0):e.animationName==="lvlFinAnim"&&n.codeLength_is0&&C>0&&(ve.classList.add("LOSE"),F.classList.add("bossWin"),console.log("battle lose",n.codeLength_is0),Fn.play(),w.pause(),h.play()))});const St=document.createElement("div"),U=document.createElement("div"),k=document.createElement("input"),$e=document.createElement("label");let Bn=!1;St.id="codeAreaDiv";U.id="labelContainer";k.id="codingInput";k.setAttribute("autocomplete","off");k.setAttribute("type","text");$e.id="lvlComText";$e.textContent="";const jo=6,Nt=e=>{if(n.codeLength_is0=!1,l[n.now_slot].currLevel>=jo)return;if(U.innerHTML="",Bn=e.every(s=>s.done),Bn)return n.codeLength_is0=!0,$e.classList.add("lvlFin"),U.appendChild($e);let t=0;e.forEach((s,a)=>{if(s.done||U.childElementCount>=5)return;const i=document.createElement("label"),d=document.createElement("label");i.className="codeLabelDiv",d.className="codeLabel",d.style.animationDelay=t+"ms",t+=200,s.content.split("").forEach(u=>{const b=document.createElement("span");b.textContent=u,b.textContent===" "&&(b.style.width="10px"),d.appendChild(b)}),i.appendChild(d),U.append(i),k.addEventListener("input",()=>{$o(s,d)})}),r.play(),console.log("render code")},Jn=e=>{n.boss_code.forEach(t=>{t.done=!1}),Nt(n.boss_code),St.append(U,k),e.append(St)},$o=(e,t)=>{let s=k.value.toString(),a=s.split("");const i=a.length-1;if(t.children.length-1>=i&&i>=0&&t.children[i].textContent===s[i]&&t.children[i].classList.add("activeLabel"),e.content===s){if(t.classList.add("finLabel"),e.done===!0||l[n.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(d=>{d.classList.remove("activeLabel")}),e.done=!0,a=[]}};window.addEventListener("keydown",e=>{k.focus(),e.keyCode==8&&(k.value="",document.querySelectorAll(".activeLabel").forEach(t=>{t.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?Nt(n.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),k.value="",Nt(n.boss_code),console.log("finLabAnim : end"))});const es=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],ts=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],ns=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],an=[{name:"Esc",code:27,pos:"office",width:"25px"},{name:"1",code:49,pos:"field",width:"25px"},{name:"2",code:50,pos:"field",width:"25px"},{name:"3",code:51,pos:"field",width:"25px"},{name:"4",code:52,pos:"field",width:"25px"},{name:"5",code:53,pos:"field",width:"25px"},{name:"6",code:54,pos:"field",width:"25px"},{name:"7",code:55,pos:"field",width:"25px"},{name:"8",code:56,pos:"field",width:"25px"},{name:"9",code:57,pos:"field",width:"25px"},{name:"0",code:48,pos:"field",width:"25px"},{name:"-",code:189,pos:"field",width:"25px"},{name:"=",code:187,pos:"field",width:"25px"},{name:"Back",code:8,pos:"office",width:"74px"}],cn=[{name:"Tab",code:9,pos:"office",width:"50px"},{name:"Q",code:81,pos:"field",width:"25px"},{name:"W",code:87,pos:"field",width:"25px"},{name:"E",code:69,pos:"field",width:"25px"},{name:"R",code:82,pos:"field",width:"25px"},{name:"T",code:84,pos:"field",width:"25px"},{name:"Y",code:89,pos:"field",width:"25px"},{name:"U",code:85,pos:"field",width:"25px"},{name:"I",code:73,pos:"field",width:"25px"},{name:"O",code:79,pos:"field",width:"25px"},{name:"P",code:80,pos:"field",width:"25px"},{name:"[",code:219,pos:"field",width:"25px"},{name:"]",code:221,pos:"field",width:"25px"},{name:"\\",code:220,pos:"office",width:"50px"}],dn=[{name:"CapsLock",code:20,pos:"office",width:"70px"},{name:"A",code:65,pos:"field",width:"25px"},{name:"S",code:83,pos:"field",width:"25px"},{name:"D",code:68,pos:"field",width:"25px"},{name:"F",code:70,pos:"field",width:"25px"},{name:"G",code:71,pos:"field",width:"25px"},{name:"H",code:72,pos:"field",width:"25px"},{name:"J",code:74,pos:"field",width:"25px"},{name:"K",code:75,pos:"field",width:"25px"},{name:"L",code:76,pos:"field",width:"25px"},{name:";",code:186,pos:"field",width:"25px"},{name:"'",code:222,pos:"field",width:"25px"},{name:"Enter",code:13,pos:"office",width:"60px"}],rn=[{name:"Shift",code:16,pos:"office",width:"79px"},{name:"Z",code:90,pos:"field",width:"25px"},{name:"X",code:88,pos:"field",width:"25px"},{name:"C",code:67,pos:"field",width:"25px"},{name:"V",code:86,pos:"field",width:"25px"},{name:"B",code:66,pos:"field",width:"25px"},{name:"N",code:78,pos:"field",width:"25px"},{name:"M",code:77,pos:"field",width:"25px"},{name:",",code:188,pos:"field",width:"25px"},{name:".",code:190,pos:"field",width:"25px"},{name:"/",code:191,pos:"field",width:"25px"},{name:"Shift",code:16,pos:"office",width:"79px"}],pn=[{name:"Ctrl",code:17,pos:"office",width:"40px"},{name:"Win",code:91,pos:"office",width:"40px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Space",code:32,pos:"office",width:"232px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Fn",code:0,pos:"office",width:"25px"},{name:"Ctrl",code:17,pos:"office",width:"40px"}];let An=document.createElement("div");An.classList.add("keyContainer");let ge=document.createElement("div");ge.classList.add("keyLine");let ke=document.createElement("div");ke.classList.add("keyLine");let be=document.createElement("div");be.classList.add("keyLine");let qe=document.createElement("div");qe.classList.add("keyLine");let Me=document.createElement("div");Me.classList.add("keyLine");An.append(ge,ke,be,qe,Me);const A=(e,t)=>{t.innerHTML="",e.forEach(s=>{let a=document.createElement("div");if(a.textContent=s.name,a.id=s.code,a.style.width=s.width,t.append(a),s.pos==="field"){a.classList.value="";let i=0;for(;i<o.length;){if(o[i].code===s.code){o[i].class===1?(a.classList.add(es[o[i].level-1]),a.classList.add("keyFighterLv1")):o[i].class===2?(a.classList.add(ts[o[i].level-1]),a.classList.add("keyWizard")):o[i].class===3?(a.classList.add(ns[o[i].level-1]),a.classList.add("keyRogue")):a.classList.add("keyCivilian");break}i++}}else a.classList.add("keyOffice");a.classList.add("keycap")})},xe=e=>{e.append(An),A(an,ge),A(cn,ke),A(dn,be),A(rn,qe),A(pn,Me)},os=e=>{if(typeof e.keyCode!="number"||n.curr_scene!=="battle")return;const t=document.querySelector(`div[id="${e.keyCode}"`);t.classList.add("keyDownAnim"),setTimeout(()=>{t.classList.remove("keyDownAnim")},100)};window.addEventListener("keydown",os);const v=document.createElement("div"),L=document.createElement("div"),oe=document.createElement("div"),it=document.createElement("button"),m=document.createElement("button");it.textContent="PASS";m.textContent="next";v.id="tutorialArea";L.id="middleTArea";oe.id="keyboardTArea";it.id="tourPassBtn";m.id="tourNextBtn";v.append(L,oe);const ss=e=>(zn(v),g(),v.appendChild(m),m.classList.add("nextBtn1"),e.append(v,it));it.addEventListener("click",()=>{v.classList.add("tourFin"),l[n.now_slot].hint=9,r.play()});m.addEventListener("click",()=>{console.log("hint",l[n.now_slot].hint+1),l[n.now_slot].hint+=1,g(),l[n.now_slot].hint===2?(xe(oe),v.removeChild(m),n.curr_scene="battle"):l[n.now_slot].hint===4?(v.removeChild(m),ye(L)):l[n.now_slot].hint===7?(v.appendChild(m),m.classList.add("nextBtn7"),L.innerHTML=""):l[n.now_slot].hint===8&&(L.innerHTML="",oe.innerHTML="",v.classList.add("tourFin"),l[n.now_slot].hint=9,console.log(888)),r.play()});window.addEventListener("keydown",e=>{if(l[n.now_slot].hint===2)l[n.now_slot].hint=3,ye(L),xe(oe),g(),v.appendChild(m),m.classList.value="",m.classList.add("nextBtn3");else if(e.keyCode===8)if(l[n.now_slot].hint===4)l[n.now_slot].hint=5,ye(L),Jn(L),xe(oe),g();else return;else return});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&l[n.now_slot].hint===5&&(l[n.now_slot].hint=6,L.innerHTML="",ye(L),v.appendChild(m),m.classList.value="",m.classList.add("nextBtn6"),g())});document.createElement("div");const Zn=e=>{let t=o.length,a=o.filter(i=>i.level===1).length/t;a*=10,a<5&&(l[n.now_slot].boardGrade=2,l[n.now_slot].hint===11&&(l[n.now_slot].hint=12,g()))},ls=[{content:"true",done:!1},{content:"const",done:!1},{content:"var",done:!1},{content:"boolean",done:!1},{content:"false",done:!1}],as=[{content:"insects",done:!1},{content:"const",done:!1},{content:"0=false",done:!1},{content:"number",done:!1},{content:"1=true",done:!1}],is=[{content:"bat=''",done:!1},{content:"const",done:!1},{content:"string",done:!1},{content:"''",done:!1},{content:"let",done:!1}],cs={id:"boss_1_1",name:"Spider",blood:20,reward:30},ds={id:"boss_1_2",name:"Swarm of Insects",blood:15,reward:30},rs={id:"boss_1_3",name:"Bat",blood:21,reward:35},ps=[{content:"string",done:!1},{content:"number",done:!1},{content:"boolean",done:!1},{content:"undefined",done:!1},{content:"null",done:!1}],As=[{content:"function",done:!1},{content:"()",done:!1},{content:"sayHello()",done:!1},{content:"'hello!'",done:!1},{content:"Parenthesis",done:!1}],ms=[{content:"addEventListener",done:!1},{content:"click()",done:!1},{content:"array",done:!1},{content:"console",done:!1},{content:"log",done:!1}],fs={id:"boss_2_1",name:"Kobold",blood:30,reward:50},us={id:"boss_2_2",name:"Goblin",blood:30,reward:50},vs={id:"boss_2_3",name:"Octopus",blood:35,reward:55},hs=[{content:"html",done:!1},{content:"body",done:!1},{content:"head",done:!1},{content:"main",done:!1},{content:"footer",done:!1}],_s=[{content:"<audio>",done:!1},{content:"<div>",done:!1},{content:"<h1>",done:!1},{content:"<button>",done:!1},{content:"<img>",done:!1}],Ls=[{content:"animationend",done:!1},{content:"click",done:!1},{content:"keydown",done:!1},{content:"change",done:!1},{content:"load",done:!1}],ys={id:"boss_3_1",name:"Skeleton",blood:50,reward:70},xs={id:"boss_3_2",name:"Ogre",blood:50,reward:70},Cs={id:"boss_3_3",name:"Fire Elemental",blood:50,reward:70},Es=[{content:"label",done:!1},{content:"span",done:!1},{content:"textarea",done:!1},{content:"input",done:!1},{content:"code",done:!1}],ws=[{content:"document",done:!1},{content:"getElementById",done:!1},{content:"function",done:!1},{content:"event",done:!1},{content:"listener",done:!1}],gs=[{content:"stylesheet",done:!1},{content:"href",done:!1},{content:"a",done:!1},{content:"link",done:!1},{content:"rel",done:!1}],ks={id:"boss_4_1",name:"Werewolf",blood:80,reward:90},bs={id:"boss_4_2",name:"Stone Giant",blood:80,reward:90},qs={id:"boss_4_3",name:"Homunculi",blood:80,reward:90},Ms=[{content:"br/",done:!1},{content:"p",done:!1},{content:"td",done:!1},{content:"a",done:!1},{content:"h2",done:!1}],Ds=[{content:"!DOCTYPE",done:!1},{content:"UTF-8",done:!1},{content:"HTML5",done:!1},{content:"Big5",done:!1},{content:"ASCII",done:!1}],Bs=[{content:"5173",done:!1},{content:"3000",done:!1},{content:"8081",done:!1},{content:"http://",done:!1},{content:"CORS",done:!1}],Ss={id:"boss_5_1",name:"Giant Duck",blood:200,reward:100},Ns={id:"boss_5_2",name:"Unicorn",blood:200,reward:100},Ts={id:"boss_5_3",name:"Bog Troll",blood:200,reward:100},E=document.createElement("div"),Y=document.createElement("div"),Tt=document.createElement("div"),z=document.createElement("div"),J=document.createElement("div"),ie=document.createElement("div"),ct=document.createElement("div"),dt=document.createElement("div");E.id="prologueArea";Y.id="prolMainDiv";Tt.id="prolLvlDiv";z.id="prolBounty";J.id="prolBlood";ie.id="prolBtnDiv";ct.id="prolFightBtn";dt.id="prolPassBtn";ct.textContent="fighting";dt.textContent="Pass";const It=e=>{const t=l[n.now_slot].currLevel;return console.log("import prol",Ft.length,t),E.innerHTML="",ie.innerHTML="",Y.innterHtml="",z.style.display="none",J.style.display="none",ie.appendChild(ct),t<l[n.now_slot].farLevel&&ie.append(dt),t<Ft.length?(Qs(t),Tt.textContent="Level. "+t,z.textContent="Bounty: "+n.curr_boss.reward,J.textContent="score: "+n.curr_boss.blood,E.append(Tt,Y,ie)):(z.textContent="Thank you for playing this far! The next levels and new features are currently in development.",J.textContent="Stay tuned",E.appendChild(Y)),e.appendChild(E)},jn=[ls,as,is],Is=[ps,As,ms],Fs=[hs,_s,Ls],Vs=[Es,ws,gs],Hs=[Ms,Ds,Bs],Ps=[cs,ds,rs],Ks=[fs,us,vs],Gs=[ys,xs,Cs],Os=[ks,bs,qs],Us=[Ss,Ns,Ts],Ft=[0,jn,Is,Fs,Vs,Hs],Rs=[0,Ps,Ks,Gs,Os,Us],Qs=e=>{let t=0;t=Math.floor(Math.random()*jn.length);let s=Ft[e],a=Rs[e];n.boss_code=s[t],n.curr_boss=a[t],console.log("RDR boss",a[t])};ct.addEventListener("click",()=>{E.classList.value="",E.classList.add("prolFightFin"),r.play(),w.muted=!1,w.play(),console.log(w)});dt.addEventListener("click",()=>{E.classList.value="",E.classList.add("prolPassFin"),r.play()});let yt=!1;window.addEventListener("animationend",()=>{console.log(n.curr_scene),n.curr_scene==="prologue"&&(event.animationName==="showAnim_2"?(Y.appendChild(z),z.style.display="flex",yt=!1):event.animationName==="fadeInAnim_2"&&yt===!1&&(Y.appendChild(J),J.style.display="flex",yt=!0))});const Sn=[{title:"XP",info:"Experience Points: Successfully attacking each round will increase experience points. When full, it will increase one level."},{title:"HP",info:"Health: When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power: Starts at one point. Equipment can increase attack power."},{title:"Mp",info:"Magic attribute: The total attack will be multiplied by this value."},{title:"Coin",info:"Golden Coin: the amount of coins that will be brought after a successful attack."},{title:"",info:""}],Vt=document.createElement("div");let H=document.createElement("div");const Ht=document.createElement("div"),mn=document.createElement("div"),V=document.createElement("div"),fn=document.createElement("div");let _=[0,1];Vt.id="dictionArea";H.id="pageContentArea";Ht.id="pageBtnArea";V.id="pageDotDiv";mn.id="pageLBtn";fn.id="pageRBtn";document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");const Xs=[0,0,0,0,0],Ws=[0,0,0,0,0],he=document.createElement("div");document.createElement("div");document.createElement("div");const Qe=document.createElement("div");he.className="dict_page";Qe.className="dict_page";const Ys=e=>{V.innerHTML="";for(let t=0;t<_[1]+1;t++){const s=document.createElement("div");s.className="pageDot",V.append(s)}Ht.append(mn,V,fn),Vt.append(H,Ht),e.appendChild(Vt)},$n=e=>{e.forEach((t,s)=>{const a=document.createElement("div"),i=document.createElement("div");i.className="blockDiv",a.className="blockInfo",i.textContent=Sn[s].title,a.textContent=Sn[s].info,i.appendChild(a),he.appendChild(i)})},eo=e=>{e===0?K(0):e===1?zs(0):e===2&&(H.textContent="p3"),console.log(V.children[e])},to=()=>{if(!document.getElementsByClassName("clickDict"))return;document.querySelectorAll(".clickDict").forEach(function(t){t.classList.remove("clickDict")})};mn.addEventListener("click",()=>{console.log(_),_[0]>0&&(_[0]-=1,eo(_[0])),r.play()});fn.addEventListener("click",()=>{_[0]<_[1]&&(_[0]+=1,eo(_[0])),r.play()});const K=e=>{to(),he.innerHTML="",H.innerHTML="",$n(Xs),H.appendChild(he),he.children[e].classList.add("clickDict"),_[0]=0,uo(),V.children[0].classList.add("clickDict")},zs=e=>{to(),Qe.innerHTML="",H.innerHTML="",$n(Ws),H.appendChild(Qe),Qe.children[e].classList.add("clickDict"),_[0]=1,V.children[1].classList.add("clickDict")},Z=[{id:0,name:"Heal",price:10,info:"heal + 1"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:40,info:"wizard suit"},{id:0,name:"Rogue",price:25,info:"rogue suit"},{id:11,name:"basic sword",price:10,info:"offence + 1"},{id:12,name:"better sword",price:30,info:"offence + 2"},{id:13,name:"strong sword",price:60,info:"offence + 3"},{id:51,name:"lock",price:0,info:"still working on..."},{id:52,name:"lock",price:0,info:"still working on..."}],Js=["key_0_1","key_1_2","key_1_3","key_1_4"],Zs=["key_1_1","key_1_2","key_1_3","key_1_4"],js=["key_2_1","key_2_2","key_2_3"],$s=["key_3_1","key_3_2","key_3_3"],xt=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],rt=document.createElement("div"),Pt=document.createElement("div"),et=document.createElement("div"),el=document.createElement("div"),tl=document.createElement("div"),un=document.createElement("div"),Kt=document.createElement("div"),S=document.createElement("div"),no=document.createElement("div"),Gt=document.createElement("div"),N=document.createElement("div"),O=document.createElement("div"),j=document.createElement("div"),$=document.createElement("div"),Ce=document.createElement("div"),ee=document.createElement("div"),Ee=document.createElement("div"),oo=document.createElement("div"),so=document.createElement("div"),lo=document.createElement("div"),ao=document.createElement("div"),io=document.createElement("div"),vn=document.createElement("div"),hn=document.createElement("div"),_n=document.createElement("div"),Ln=document.createElement("div"),yn=document.createElement("div"),Ot=document.createElement("div"),tt=document.createElement("div"),Ut=document.createElement("div"),_e=document.createElement("div"),De=document.createElement("button");rt.id="skillContainer";Pt.id="keyHeadDiv";et.id="keyManNameDiv";un.id="keyManLvl";Kt.id="keyManClassDiv";S.id="keyManClassName";no.id="keyManClassIcon";Gt.id="keyManMiddle";O.id="keyManValDiv";N.id="keyManImg";j.classList.add("keyManValDiv");$.classList.add("keyManValDiv");Ce.classList.add("keyManValDiv");ee.classList.add("keyManValDiv");Ee.classList.add("keyManValDiv");j.textContent="XP";$.textContent="HP";Ce.textContent="MP";ee.textContent="OFF";Ee.textContent="Coin";De.textContent="Sell";oo.className="keyManValIcon xp";so.className="keyManValIcon hp";lo.className="keyManValIcon mp";ao.className="keyManValIcon off";io.className="keyManValIcon coin";vn.classList.add("keyManValValue");hn.classList.add("keyManValValue");_n.classList.add("keyManValValue");Ln.classList.add("keyManValValue");yn.classList.add("keyManValValue");Ot.id="keyManEquipArea";tt.id="keyManEquipDiv";Ut.id="keyManSellDiv";_e.id="keyManInfo";De.id="keyManSellBtn";const ae=e=>{et.append(el,tl),Pt.append(et,un),Kt.append(no,S),j.append(oo,vn),$.append(so,hn),ee.append(ao,Ln),e===1?(Ce.append(lo,_n),O.innerHTML="",O.append(j,$,ee,Ce)):e===3&&(Ee.append(io,yn),O.innerHTML="",O.append(j,$,ee,Ee)),Gt.append(N,O),Ut.append(_e,De),Ot.append(tt,Ut),rt.append(Pt,Kt,Gt,Ot)},xn=e=>e.appendChild(rt),G=e=>{if(n.now_slot===0||typeof e!="number")return;let t=0;for(;t<o.length;)if(o[t].code===e){n.targetKey_index=t,et.textContent=o[t].name,N.classList.value="",o[t].off=1,o[t].mp=1,o[t].coin=0,rt.innerHTML="",o[t].class===1?(ae(1),S.textContent="Fighter",N.classList.add(Zs[o[t].level-1]),o[t].level===1?o[t].off=2:o[t].level===2?o[t].off=3:o[t].level>=3&&(o[t].off=5)):o[t].class===2?(ae(1),S.textContent="Wizard",N.classList.add(js[o[t].level-1]),o[t].level===1?o[t].mp=1.1:o[t].level===2?o[t].mp=1.2:o[t].level>=3&&(o[t].mp=1.4)):o[t].class===3?(ae(3),S.textContent="Rogue",N.classList.add($s[o[t].level-1]),o[t].level===1?o[t].coin=2:o[t].level===2?o[t].coin=5:o[t].level>=3&&(o[t].coin=1,o[t].coin=8)):o[t].class===4?(ae(1),S.textContent="Druid"):(ae(1),S.textContent="Civilian",N.classList.add(Js[0])),l[n.now_slot].hint===9&&o[t].class!==0&&(l[n.now_slot].hint=10,g()),tt.innerHTML="",_e.textContent="none";for(let s=0;s<o[t].equip.length;s++){let a=document.createElement("div");a.classList.value="",a.classList.add("equipLog"),a.textContent="none",tt.appendChild(a),o[t].equip[s]===11?(o[t].off+=1,a.classList.add(xt[5]),a.textContent=Z[5].info):o[t].equip[s]===12?(o[t].off+=2,a.classList.add(xt[6]),a.textContent=Z[6].info):o[t].equip[s]===13&&(o[t].off+=3,a.classList.add(xt[7]),a.textContent=Z[7].info),a.addEventListener("click",()=>{nl(),n.targetEquip_index=s,a.textContent==="none"?_e.textContent="none":_e.textContent=a.textContent,a.classList.add("clickEquip"),Zt.play()}),s===0&&a.click()}un.textContent=o[t].level,hn.textContent=o[t].hp[0]+" /"+o[t].hp[1],vn.textContent=o[t].xp[0]+" /"+o[t].xp[1],_n.textContent=o[t].mp,Ln.textContent=o[t].off,yn.textContent=o[t].coin;break}else t++;console.log("render skill")},nl=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(t){t.classList.remove("clickEquip")})};De.addEventListener("click",()=>{let e=o[n.targetKey_index].equip[n.targetEquip_index];if(e===11?(n.targetMdse_index=5,o[n.targetKey_index].off-=1):e===12?(n.targetMdse_index=6,o[n.targetKey_index].off-=2):e===13&&(n.targetMdse_index=7,o[n.targetKey_index].off-=3),e!==0){let t=Z[n.targetMdse_index];l[n.now_slot].currMoney+=t.price/2}o[n.targetKey_index].equip[n.targetEquip_index]=0,G(o[n.targetKey_index].code),Ye.play()});const ol=e=>{n.curr_scene==="shop"&&(console.log("keyDown code",n.curr_key),n.curr_key=e.keyCode,G(n.curr_key))};j.addEventListener("click",()=>{K(0),le.play()});$.addEventListener("click",()=>{K(1),le.play()});ee.addEventListener("click",()=>{K(2),le.play()});Ce.addEventListener("click",()=>{K(3),le.play()});Ee.addEventListener("click",()=>{K(4),le.play()});window.addEventListener("keydown",ol);const sl=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],Rt=document.createElement("div"),Qt=document.createElement("div"),Xe=document.createElement("div"),Xt=document.createElement("div"),nt=document.createElement("div"),Wt=document.createElement("div"),Yt=document.createElement("div"),co=document.createElement("div"),P=document.createElement("div"),T=document.createElement("div"),ot=document.createElement("div"),pt=document.createElement("div");Rt.id="shopContainer";Qt.id="mdseContainer";Xe.id="mdseArea";Xt.id="shopCounter";nt.id="mdseBankArea";Wt.id="mdseInfoArea";Yt.id="mdseInfoName";co.id="bankImg";P.id="userMoney";T.id="usergetCoin";ot.id="mdseInfoBox";pt.id="shopPurchaseBtn";ot.classList.add("scrollbar");P.textContent=0;pt.textContent="Buy";const ll=e=>{if(nt.append(Yt,P,T,co),Wt.append(ot,pt),Xt.append(nt,Wt),Rt.append(Qt,Xt),P.textContent=l[n.now_slot].currMoney,n.key_getCoin!==0?(T.textContent="+"+n.key_getCoin,T.classList.add("getCoin"),T.style.display="flex"):T.style.display="none",Xe.innerHTML="",Z.forEach((t,s)=>{const a=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");a.append(i,d,u),a.classList.add("mdseItem"),i.classList.add("mdseName"),d.classList.value="",d.classList.add("mdseImg"),d.classList.add(sl[s]),u.classList.add("mdsePrice"),i.textContent=t.name,u.textContent=t.price.toString(),Xe.appendChild(a),Qt.appendChild(Xe),a.addEventListener("click",()=>{al(),n.targetMdse_index=s,Yt.textContent=t.name,ot.textContent=t.info,d.classList.add("clickMdse"),Zt.play()}),s===0&&a.click()}),n.key_battle!=[]){for(let t=0;t<o.length;t++)for(let s=0;s<n.key_battle.length;s++)n.key_battle[s]===o[t].code&&(o[t].xp[0]+=1,o[t].xp[0]>=o[t].xp[1]&&(o[t].level+=1,o[t].xp[0]=0));n.key_battle=[]}return console.log("import shop"),e.appendChild(Rt)},al=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(t){t.classList.remove("clickMdse")})};pt.addEventListener("click",()=>{let e=Z[n.targetMdse_index];e.price>l[n.now_slot].currMoney||(l[n.now_slot].currMoney-=e.price,P.textContent=l[n.now_slot].currMoney,il(e),G(n.curr_key),Ye.currentTime=0,Ye.play())});De.addEventListener("click",()=>{P.textContent=l[n.now_slot].currMoney});const il=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let s=o[t].equip.indexOf(0);e.name==="Heal"?o[t].hp[1]>o[t].hp[0]&&(o[t].hp[0]+=1):e.name==="Experience"?o[t].xp[1]>o[t].xp[0]?o[t].xp[0]+=1:(o[t].level+=1,o[t].xp[0]=0,l[n.now_slot].hint===10&&(l[n.now_slot].hint=11,g())):e.name==="Fighter"?o[t].class=1:e.name=="Wizard"?o[t].class=2:e.name==="Rogue"?o[t].class=3:e.name==="basic sword"?o[t].equip[s]=11:e.name==="better sword"?o[t].equip[s]=12:e.name==="strong sword"?o[t].equip[s]=13:e.name==="Shield_1"?o[t].equip[s]=4:e.name==="Shield_2"&&(o[t].equip[s]=5);break}else t++;G(n.curr_key),A(an,ge),A(cn,ke),A(dn,be),A(rn,qe),A(pn,Me),console.log("render keycap")};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),l[n.now_slot].currMoney+=n.key_getCoin,n.key_getCoin=0,P.textContent=l[n.now_slot].currMoney,nt.removeChild(T),Hn.play())});const cl=[{name:"sword_1",price:10,info:"heal + 1"},{name:"sword_2",price:20,info:"Experience + 1"},{name:"sword_3",price:10,info:"fighter suit"},{name:"sheild_1",price:20,info:"wizard suit"},{name:"sheild_2",price:30,info:"rogue suit"},{name:"sheild_3",price:50,info:"druid suit"}],ro=document.createElement("div"),po=document.createElement("div"),dl=document.createElement("div"),Cn=document.createElement("div"),En=document.createElement("div"),wn=document.createElement("div"),Ao=document.createElement("div"),mo=document.createElement("div"),At=document.createElement("div"),gn=document.createElement("div"),mt=document.createElement("div");ro.id="shopContainer";po.id="mdseContainer";dl.id="mdseArea";Cn.id="shopCounter";En.id="mdseBankArea";wn.id="mdseInfoArea";Ao.id="mdseInfoName";mo.id="bankImg";At.id="userMoney";gn.id="mdseInfoBox";mt.id="treasBuyBtn";gn.classList.add("scrollbar");At.textContent=0;mt.textContent="Buy";En.append(Ao,At,mo);wn.append(gn,mt);Cn.append(En,wn);ro.append(po,Cn);mt.addEventListener("click",()=>{let e=cl[n.targetMdse_index];e.price>l[n.now_slot].currMoney||(l[n.now_slot].currMoney-=e.price,At.textContent=l[n.now_slot].currMoney,rl(e),G(n.curr_key))});const rl=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let s=o[t].equip.indexOf(0);e.name==="sword_1"?o[t].equip[s]=1:e.name==="sword_2"?o[t].equip[s]=2:e.name==="sword_3"?o[t].equip[s]=3:e.name==="shield_1"?o[t].equip[s]=4:(e.name==="shield_2"||e.name==="shield_3")&&(o[t].equip[s]=5);break}else t++;G(n.curr_key),A(an,ge),A(cn,ke),A(dn,be),A(rn,qe),A(pn,Me)},zt=document.createElement("label"),M=document.createElement("div"),st=document.createElement("div"),x=document.createElement("label"),se=document.createElement("div"),Be=document.createElement("div"),Se=document.createElement("div"),Ne=document.createElement("div"),we=document.createElement("div");zt.id="titleArea";x.id="titleLabel";M.id="nextLvlBtn";M.textContent="NEXT";st.id="titShopDiv";se.id="titShopBtn";Be.id="titTreasureBtn";Se.id="titBugCollBtn";Ne.id="titKeyCollBtn";we.id="titDictBtn";se.className="titBtn";Be.className="titBtn";Se.className="titBtn";Ne.className="titBtn";we.className="titBtn";Be.classList.add("lock_img");Se.classList.add("lock_img");Ne.classList.add("lock_img");const pl=(e,t)=>{if(l[n.now_slot])return console.log("import tit",t),x.textContent=n.curr_boss.name,M.style.display="none",zt.append(x,st,M),e.append(zt)};M.addEventListener("click",()=>{M.classList.add("shopFin"),r.play()});se.addEventListener("click",()=>{const e=document.getElementById("middleArea");x.textContent="Shop",e.innerHTML="",xn(e),ll(e),fo(),se.classList.add("titleFocus"),r.play()});Be.addEventListener("click",()=>{document.getElementById("middleArea"),x.textContent="Treasure",r.play()});Se.addEventListener("click",()=>{document.getElementById("middleArea"),x.textContent="Bug Collection",r.play()});Ne.addEventListener("click",()=>{document.getElementById("middleArea"),x.textContent="Keyboard",r.play()});we.addEventListener("click",()=>{uo(),K(0),fo(),we.classList.add("titleFocus"),r.play()});const fo=()=>{if(!document.getElementsByClassName("titleFocus"))return;document.querySelectorAll(".titleFocus").forEach(function(t){t.classList.remove("titleFocus")})},uo=()=>{const e=document.getElementById("middleArea");x.textContent="Dictionary",e.innerHTML="",xn(e),Ys(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(x.textContent="Shop",st.append(se,Be,Se,Ne,we),M.style.display="block"):e.animationName==="prolFightFinAnim"&&(st.innerHTML="",x.textContent="name: "+n.curr_boss.name,M.style.display="none")});const We=document.createElement("div"),Jt=document.createElement("div"),D=document.createElement("div"),ce=document.createElement("div");We.id="gameArea";Jt.id="headArea";D.id="middleArea";ce.id="keyBoardArea";window.addEventListener("keydown",e=>{if(e.keyCode===27){const t=document.getElementById("app");To(t)}});const ft=e=>{Zn(),l[n.now_slot].currLevel===0?(console.log("RDR tutorial"),ss(e)):(It(e),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),l[n.now_slot].currLevel=1,console.log("tourFin lvl",l[n.now_slot].currLevel);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="prologue",ft(t)}else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),console.log("scene now: ",n.curr_scene),D.innerHTML="",ce.innerHTML="",xn(D),G(n.curr_key),se.click(),xe(ce),n.curr_scene="shop",me.click();else if(e.animationName==="shopFinAnim"){e.target.classList.remove("shopFin"),console.log("next lvl");const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="prologue",It(t)}else if(e.animationName==="prolFightFinAnim"){e.target.classList.remove("prolFightFin"),console.log("scene now: ",n.curr_scene);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="battle",me.click(),We.innerHTML="",D.innerHTML="",t.appendChild(We),pl(Jt,l[n.now_slot].currLevel),xe(ce),ye(D),Jn(D),We.append(Jt,D,ce),Zn(),zn(t),l[n.now_slot].hint<12&&g()}else if(e.animationName==="prolPassFinAnim"){e.target.classList.remove("prolPassFin");const t=document.querySelector("#app");t.innerHTML="",l[n.now_slot].currLevel+=1,It(t)}else e.animationName==="bossWinAnim"&&(e.target.classList.remove("bossWinAnim"),l[n.now_slot].currLevel=1,l[n.now_slot].challengeTime+=1,l[n.now_slot].currMoney=0,n.curr_scene="menu",me.click())});const vo=document.createElement("div");vo.id="myCursor";document.body.appendChild(vo);let Nn=document.getElementById("myCursor");window.addEventListener("mousemove",function(e){let t=e.clientX,s=e.clientY;Nn.style.left=t-10+"px",Nn.style.top=s-2+"px"});const Al=()=>{const e=document.querySelector("#app");Do(e)};Al();Un.addEventListener("click",()=>{app.innerHTML="",ft(app)});Rn.addEventListener("click",()=>{app.innerHTML="",ft(app)});Qn.addEventListener("click",()=>{app.innerHTML="",ft(app)});de.addEventListener("click",()=>{app.innerHTML="",wt(app)});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&wt(app),event.animationName==="openingFinAnim"?(event.target.classList.remove("openingFin"),console.log("opening finish"),app.removeChild(openingArea)):event.animationName==="bossWinAnim"&&(console.log("you lose! back to lvl 1"),app.innerHTML="",wt(app))});
