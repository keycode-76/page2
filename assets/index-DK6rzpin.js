(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(i){if(i.ep)return;i.ep=!0;const d=a(i);fetch(i.href,d)}})();const Ut="/page2/assets/btn_2-x7v2jOeS.mp3",Qt="/page2/assets/slot_1-BTjXaHny.wav",Wt="/page2/assets/hint_1-CGGxhJa2.wav",Yt="data:audio/mpeg;base64,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",Zt="/page2/assets/lose_1-B4UCIDkq.wav",Jt="/page2/assets/win_1-BGr8rV3N.wav",zt="/page2/assets/buy_1-BOFyt1Rj.mp3",Xt="/page2/assets/coin_2-l7ffaYco.wav",jt="/page2/assets/info_2-DqiafzHX.wav",$t="/page2/assets/lock_1-CPU6wXwn.wav",p=new Audio(Ut),mt=new Audio(Qt),eo=new Audio(Wt),ft=new Audio(Yt),no=new Audio(Zt),to=new Audio(Jt),ut=new Audio(zt),oo=new Audio(Xt),de=new Audio(jt);new Audio($t);p.volume=.2;ft.volume=.5;const so="/page2/assets/menu-DFmr72KD.m4a",Cn=new Audio(so);Cn.loop=!0;const x=(e,n)=>{const a=document.createElement("button");return a.textContent=e,a.addEventListener("click",n),a},Be=document.createElement("button"),Z=document.createElement("div"),Se=document.createElement("div"),En=document.createElement("label"),Te=document.createElement("button"),pe=document.createElement("button"),re=document.createElement("div"),Ne=document.createElement("div"),gn=document.createElement("label"),Ie=document.createElement("button"),Mn=document.createElement("button"),Fe=document.createElement("button");Z.id="pauseArea";Se.id="pauseDiv";En.id="pauseLabel";Te.id="resumeBtn";pe.id="setBackMenuBtn";re.id="settingArea";Ne.id="settingDiv";gn.id="settingLabel";Ie.id="setVideoBtn";Mn.id="setAudioBtn";Fe.id="setBackBtn";re.classList.add("overlay");Z.classList.add("overlay");Se.classList.add("setDivBox");Ne.classList.add("setDivBox");Be.textContent="setting";En.textContent="- pause -";Te.textContent="resume";pe.textContent="back to Menu";gn.textContent="- setting -";Ie.textContent="fullscreen";Mn.textContent="audio";Fe.textContent="back";re.appendChild(Ne);Z.appendChild(Se);Ne.append(gn,Ie,Mn,Fe);const vt=Be.cloneNode(!0);Se.append(En,Te,vt,pe);const ao=e=>{e.appendChild(Z)};Be.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(re),p.play()});Fe.addEventListener("click",()=>{let n=event.target.parentNode.parentNode;n.parentNode.removeChild(n),p.play()});Ie.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});Te.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(Z)});vt.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(re)});pe.addEventListener("click",()=>{app.removeChild(Z)});let t={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0},oe=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,treasureCol:0,bossCol:0}],qt=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],io=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],lo=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],l,o;const Ae=localStorage.getItem("threeSlot");!Ae||Ae==="undefined"||Ae==="null"?l=oe:l=JSON.parse(Ae);const we={1:qt,2:io,3:lo},co=e=>{if(e===0)return;const n=e,a=`cardData_${n}`,s=localStorage.getItem(a);!s||s==="undefined"||s==="null"?we[n]?o=we[n]:o=qt:o=JSON.parse(s),console.log("RDR userData")},po=()=>{t.now_slot!==0&&(oe=l,localStorage.setItem("threeSlot",JSON.stringify(oe)))},X=document.createElement("button"),Dn=document.createElement("button");X.textContent="SAVE";Dn.textContent="reset";X.addEventListener("click",()=>{if(t.now_slot===0)return;console.log("save"),po(),oe=l,localStorage.setItem("threeSlot",JSON.stringify(oe));const e=t.now_slot;we[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(we[e]))});Dn.addEventListener("click",()=>{console.log("reset");const e=t.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),t.now_slot=0});const P=document.createElement("div"),xe=document.createElement("div"),bn=document.createElement("div"),ht=document.createElement("div");P.id="menuArea";xe.id="menuDiv";bn.id="menuImgDiv";ht.id="menuImg";bn.appendChild(ht);const Q=document.createElement("div"),E=document.createElement("div"),Bn=document.createElement("label"),At=x("X",()=>{Tn(1)}),xt=x("X",()=>{Tn(2)}),_t=x("X",()=>{Tn(3)}),ro=x("",()=>{He(1)}),mo=x("",()=>{He(2)}),fo=x("",()=>{He(3)});ro.classList.add("slotDel_btn");mo.classList.add("slotDel_btn");fo.classList.add("slotDel_btn");E.id="saveSlotDiv";Bn.id="saveSlotLabel";Q.classList.add("overlay");E.classList.add("setDivBox");Bn.textContent="- Load -";const uo=x("Back",()=>qo()),Sn=e=>{t.curr_scene="menu",xe.innerHTML="";const n=x("Start",()=>vo(P)),a=x("Quit",()=>ho());return xe.append(n,Be,a),P.append(bn,xe),Cn.play(),e.appendChild(P)},Lt=()=>{Q.innerHTML="",E.innerHTML="",E.appendChild(Bn),l.forEach((e,n)=>{if(n===0)return;const a=document.createElement("div"),s=document.createElement("div");if(a.classList.add("slotDiv"),s.classList.add("slot_btn"),s.textContent=e.slotName,a.appendChild(s),e.slotName!=="New Game"){const i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),w=document.createElement("div"),Je=document.createElement("div"),at=x("X",()=>{He(n)});i.classList.add("slotInfo"),d.classList.add("slotCHAL"),u.classList.add("slotGrade"),w.classList.add("slotMoney"),Je.classList.add("slotLevel"),at.classList.add("slotDel_btn"),d.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,u.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,w.innerHTML=`<h4>money</h4>${e.currMoney}`,Je.innerHTML=`<h4>level</h4>${e.currLevel}`,i.append(d,u,w,Je),s.appendChild(i),a.appendChild(at)}E.appendChild(a),Q.appendChild(E),s.addEventListener("click",()=>{n===1?At.click():n===2?xt.click():n===3&&_t.click()})}),E.appendChild(uo)},vo=e=>{e.appendChild(Q),Lt(),p.play()},qo=()=>{P.removeChild(Q),p.play()},Tn=e=>{t.now_slot=e,co(e),l[e].slotName==="New Game"&&(l[e].challengeTime=0,l[e].boardGrade=0,l[e].currMoney=200,l[e].currLevel=0,l[e].treasureCol=0,l[e].bossCol=0),l[e].slotName="data_"+e,P.removeChild(Q),p.play(),Cn.pause()},He=e=>{t.now_slot=e,l[e].slotName="New Game",l[e].challengeTime=0,l[e].boardGrade=0,l[e].currMoney=200,l[e].currLevel=0,Dn.click(),Lt(),p.play()},ho=()=>{window.close()};document.createElement("div");const yt=e=>{let n=o.length,s=o.filter(i=>i.level===1).length/n;s*=10,s<5&&(l[t.now_slot].boardGrade=2)},it=[{move:"",info:"There's a kind of alien living in electronic devices. They constantly scan until they take over the computer."},{move:"",info:"Catch the aliens and upgrade your keyboard."},{move:"Enter text.",info:"This is your weppend Keyboard."},{move:"",info:"Here is the attack power of keyboard keys. Attack power integration."},{move:"Press Back key.",info:"The attack is triggered only after inputting the final character. Before that, you can press the back key to clear the attack area."},{move:"Enter the letter.",info:"The alien's weakness will appear in the form of text. Entering the corresponding text can deplete the alien's stamina. Please give it a try."},{move:"",info:"Alien's stamina reaching zero indicates a successful capture."},{move:"",info:"Now lets start capturing the first alien."},{move:"",info:""},{move:"mission 1",info:"Choosing a class for a keycap."},{move:"mission 2",info:"Upgrade a keycap to level two."},{move:"mission 3",info:"Grade the keyboard up a level."}],r=document.createElement("div"),c=document.createElement("div"),Xe=document.createElement("div"),je=document.createElement("div"),wt=document.createElement("div"),kt=document.createElement("div");c.id="hintDiv";r.id="hintArea";Xe.id="hintInfo";je.id="hintMove";wt.id="hint_img1";kt.id="hint_img2";const Ct=e=>e.appendChild(r),B=()=>{eo.play(),Xe.textContent=it[t.now_hint].info,c.append(Xe,je),je.textContent=it[t.now_hint].move,t.now_hint===0?(r.appendChild(wt),r.appendChild(c)):t.now_hint===1?(r.innerHTML="",r.appendChild(kt),r.appendChild(c)):t.now_hint===2?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint2")):t.now_hint===3?(c.classList.value="",r.appendChild(c),c.classList.add("hint3")):t.now_hint===4?(c.classList.value="",r.appendChild(c),c.classList.add("hint4")):t.now_hint===5?(c.classList.value="",r.appendChild(c),c.classList.add("hint5")):t.now_hint===6?(c.classList.value="",r.appendChild(c),c.classList.add("hint6")):t.now_hint===7?(c.classList.value="",r.appendChild(c),c.classList.add("hint7")):t.now_hint===8?(c.classList.value="",r.appendChild(c),c.classList.add("hint8"),t.now_hint=9):t.now_hint===9?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint9")):t.now_hint===10?(c.classList.value="",r.appendChild(c),c.classList.add("hint10")):t.now_hint===11&&(c.classList.value="",r.appendChild(c),c.classList.add("hint11"))},Ao=["off_0_1","off_0_2","off_0_3"],xo=["off_1_1","off_1_2","off_1_3"],lt=["off_2_1","off_2_2","off_2_3"],_o=["off_3_1","off_3_2","off_3_3"];let L=0,Et=0,q=0,$e=0;const _e=document.createElement("div"),en=document.createElement("div"),Lo=document.createElement("div"),nn=document.createElement("div"),D=document.createElement("div"),tn=document.createElement("div"),se=document.createElement("label"),on=document.createElement("div"),sn=document.createElement("div"),O=document.createElement("div"),W=document.createElement("div"),j=document.createElement("div"),$=document.createElement("div");j.textContent="K.O";$.textContent="You Lose";_e.id="battleDiv";en.id="bossContainer";Lo.id="bossTitle";nn.id="bossDiv";D.id="bossImg";on.id="attackArea";sn.id="scoreDiv";W.id="cardContainer";tn.classList.add("bossBloodDiv");se.classList.add("bossBloodLabel");const ae=e=>{q=0,L=t.curr_boss.blood,Et=t.curr_boss.reward,ke=[],W.innerHTML="",_e.innerHTML="",j.classList.value="",j.className="userWin",$.classList.value="",$.className="userLose",D.classList.value="",D.classList.add(t.curr_boss.id),tn.appendChild(se),se.textContent=L,O.textContent="0",sn.appendChild(O),nn.append($,j,D),en.append(nn,tn),on.append(sn,W),_e.append(en,on),e.append(_e),console.log("import battle")};let ke=[];const yo=e=>{if(t.curr_scene!=="battle"||typeof e.keyCode!="number")return;let n=0;for(;n<o.length;){if(o[n].code===e.keyCode){ke.push(e.keyCode);const a=document.createElement("label"),s=document.createElement("div");s.classList.value="",s.className="cardDiv fadeIn",o[n].class===1?s.classList.add(xo[o[n].level-1]):o[n].class===2?s.classList.add(lt[o[n].level-1]):o[n].class===3?s.classList.add(_o[o[n].level-1]):o[n].class===4?s.classList.add(lt[o[n].level-1]):s.classList.add(Ao[o[n].level-1]),a.classList.add("cardOff"),s.textContent=o[n].name,a.textContent=o[n].off,q+=o[n].off,q*=o[n].mp,$e+=o[n].coin,s.appendChild(a),W.appendChild(s);break}n++}e.keyCode===8&&(W.innerHTML="",q=0,$e=0),O.textContent=q};window.addEventListener("keydown",yo);window.addEventListener("animationend",e=>{if(!(t.now_slot===0||l[t.now_slot].currScene==="shop")){if(e.animationName==="finLabelAnim")e.target.classList.remove("finLabel"),t.key_battle=t.key_battle.concat(ke),ke=[],W.innerHTML="",console.log(q,L),L-=q,O.textContent=q,t.key_getCoin+=$e,L<1&&l[t.now_slot].currLevel!=0&&(j.classList.add("KO"),D.classList.add("finBoss"),se.textContent=0,to.play()),q=0,O.classList.add("attactScore");else if(e.animationName==="attactScoreAnim")e.target.classList.remove("attactScore"),O.textContent=q,se.textContent=L,ft.play();else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),l[t.now_slot].currLevel+=1,L=t.curr_boss.blood,l[t.now_slot].currMoney+=Et,D.classList.value="",q=0;else if(e.animationName==="lvlFinAnim"){if(t.codeLength_is0&&L>0&&($.classList.add("LOSE"),D.classList.add("bossWin"),console.log("battle lose",t.codeLength_is0),no.play()),l[t.now_slot].currLevel>=BOSS_ARR.length)return;L=BOSS_ARR[l[t.now_slot].currLevel].blood}}});const an=document.createElement("div"),V=document.createElement("div"),y=document.createElement("input"),Ce=document.createElement("label");let ct=!1;an.id="codeAreaDiv";V.id="labelContainer";y.id="codingInput";y.setAttribute("autocomplete","off");y.setAttribute("type","text");Ce.id="lvlComText";Ce.textContent="";const wo=5,ln=e=>{if(t.codeLength_is0=!1,l[t.now_slot].currLevel>=wo)return;if(V.innerHTML="",ct=e.every(a=>a.done),ct)return t.codeLength_is0=!0,Ce.classList.add("lvlFin"),V.appendChild(Ce);let n=0;e.forEach((a,s)=>{if(a.done||V.childElementCount>=5)return;const i=document.createElement("label"),d=document.createElement("label");i.className="codeLabelDiv",d.className="codeLabel",d.style.animationDelay=n+"ms",n+=200,a.content.split("").forEach(u=>{const w=document.createElement("span");w.textContent=u,w.textContent===" "&&(w.style.width="10px"),d.appendChild(w)}),i.appendChild(d),V.append(i),y.addEventListener("input",()=>{ko(a,d)})}),p.play(),console.log("render code")},gt=e=>{t.boss_code.forEach(n=>{n.done=!1}),ln(t.boss_code),an.append(V,y),e.append(an)},ko=(e,n)=>{let a=y.value.toString(),s=a.split("");const i=s.length-1;if(n.children.length-1>=i&&i>=0&&n.children[i].textContent===a[i]&&n.children[i].classList.add("activeLabel"),e.content===a){if(n.classList.add("finLabel"),e.done===!0||l[t.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(d=>{d.classList.remove("activeLabel")}),e.done=!0,s=[]}};window.addEventListener("keydown",e=>{y.focus(),e.keyCode==8&&(y.value="",document.querySelectorAll(".activeLabel").forEach(n=>{n.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?ln(t.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),y.value="",ln(t.boss_code),console.log("finLabAnim : end"))});const Co=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],Eo=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],go=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],Nn=[{name:"Esc",code:27,pos:"office",width:"25px"},{name:"1",code:49,pos:"field",width:"25px"},{name:"2",code:50,pos:"field",width:"25px"},{name:"3",code:51,pos:"field",width:"25px"},{name:"4",code:52,pos:"field",width:"25px"},{name:"5",code:53,pos:"field",width:"25px"},{name:"6",code:54,pos:"field",width:"25px"},{name:"7",code:55,pos:"field",width:"25px"},{name:"8",code:56,pos:"field",width:"25px"},{name:"9",code:57,pos:"field",width:"25px"},{name:"0",code:48,pos:"field",width:"25px"},{name:"-",code:189,pos:"field",width:"25px"},{name:"=",code:187,pos:"field",width:"25px"},{name:"Back",code:8,pos:"office",width:"74px"}],In=[{name:"Tab",code:9,pos:"office",width:"50px"},{name:"Q",code:81,pos:"field",width:"25px"},{name:"W",code:87,pos:"field",width:"25px"},{name:"E",code:69,pos:"field",width:"25px"},{name:"R",code:82,pos:"field",width:"25px"},{name:"T",code:84,pos:"field",width:"25px"},{name:"Y",code:89,pos:"field",width:"25px"},{name:"U",code:85,pos:"field",width:"25px"},{name:"I",code:73,pos:"field",width:"25px"},{name:"O",code:79,pos:"field",width:"25px"},{name:"P",code:80,pos:"field",width:"25px"},{name:"[",code:219,pos:"field",width:"25px"},{name:"]",code:221,pos:"field",width:"25px"},{name:"\\",code:220,pos:"office",width:"50px"}],Fn=[{name:"CapsLock",code:20,pos:"office",width:"70px"},{name:"A",code:65,pos:"field",width:"25px"},{name:"S",code:83,pos:"field",width:"25px"},{name:"D",code:68,pos:"field",width:"25px"},{name:"F",code:70,pos:"field",width:"25px"},{name:"G",code:71,pos:"field",width:"25px"},{name:"H",code:72,pos:"field",width:"25px"},{name:"J",code:74,pos:"field",width:"25px"},{name:"K",code:75,pos:"field",width:"25px"},{name:"L",code:76,pos:"field",width:"25px"},{name:";",code:186,pos:"field",width:"25px"},{name:"'",code:222,pos:"field",width:"25px"},{name:"Enter",code:13,pos:"office",width:"60px"}],Hn=[{name:"Shift",code:16,pos:"office",width:"79px"},{name:"Z",code:90,pos:"field",width:"25px"},{name:"X",code:88,pos:"field",width:"25px"},{name:"C",code:67,pos:"field",width:"25px"},{name:"V",code:86,pos:"field",width:"25px"},{name:"B",code:66,pos:"field",width:"25px"},{name:"N",code:78,pos:"field",width:"25px"},{name:"M",code:77,pos:"field",width:"25px"},{name:",",code:188,pos:"field",width:"25px"},{name:".",code:190,pos:"field",width:"25px"},{name:"/",code:191,pos:"field",width:"25px"},{name:"Shift",code:16,pos:"office",width:"79px"}],Vn=[{name:"Ctrl",code:17,pos:"office",width:"40px"},{name:"Win",code:91,pos:"office",width:"40px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Space",code:32,pos:"office",width:"232px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Fn",code:0,pos:"office",width:"25px"},{name:"Ctrl",code:17,pos:"office",width:"40px"}];let Pn=document.createElement("div");Pn.classList.add("keyContainer");let me=document.createElement("div");me.classList.add("keyLine");let fe=document.createElement("div");fe.classList.add("keyLine");let ue=document.createElement("div");ue.classList.add("keyLine");let ve=document.createElement("div");ve.classList.add("keyLine");let qe=document.createElement("div");qe.classList.add("keyLine");Pn.append(me,fe,ue,ve,qe);const m=(e,n)=>{n.innerHTML="",e.forEach(a=>{let s=document.createElement("div");if(s.textContent=a.name,s.id=a.code,s.style.width=a.width,n.append(s),a.pos==="field"){s.classList.value="";let i=0;for(;i<o.length;){if(o[i].code===a.code){o[i].class===1?(s.classList.add(Co[o[i].level-1]),s.classList.add("keyFighterLv1")):o[i].class===2?(s.classList.add(Eo[o[i].level-1]),s.classList.add("keyWizard")):o[i].class===3?(s.classList.add(go[o[i].level-1]),s.classList.add("keyRogue")):s.classList.add("keyCivilian");break}i++}}else s.classList.add("keyOffice");s.classList.add("keycap")})},ie=e=>{e.append(Pn),m(Nn,me),m(In,fe),m(Fn,ue),m(Hn,ve),m(Vn,qe)},Mo=e=>{if(typeof e.keyCode!="number"||t.curr_scene!=="battle")return;const n=document.querySelector(`div[id="${e.keyCode}"`);n.classList.add("keyDownAnim"),setTimeout(()=>{n.classList.remove("keyDownAnim")},100)};window.addEventListener("keydown",Mo);const v=document.createElement("div"),A=document.createElement("div"),Y=document.createElement("div"),Ve=document.createElement("button"),f=document.createElement("button");Ve.textContent="PASS";f.textContent="next";v.id="tutorialArea";A.id="middleTArea";Y.id="keyboardTArea";Ve.id="tourPassBtn";f.id="tourNextBtn";v.append(A,Y);const Do=e=>(Ct(v),B(),v.appendChild(f),f.classList.add("nextBtn1"),e.append(v,Ve));Ve.addEventListener("click",()=>{v.classList.add("tourFin"),t.now_hint=0,p.play()});f.addEventListener("click",()=>{console.log("hint",t.now_hint+1),t.now_hint+=1,B(),t.now_hint===2?(ie(Y),v.removeChild(f)):t.now_hint===4?(v.removeChild(f),ae(A)):t.now_hint===7?(v.appendChild(f),f.classList.add("nextBtn7"),A.innerHTML=""):t.now_hint===8&&(v.removeChild(hintArea),A.innerHTML="",Y.innerHTML="",v.classList.add("tourFin"),t.now_hint=0),p.play()});window.addEventListener("keydown",e=>{if(t.now_hint===2)t.now_hint=3,ae(A),ie(Y),B(),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn3");else if(e.keyCode===8)if(t.now_hint===4)t.now_hint=5,ae(A),gt(A),ie(Y),B();else return;else return});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&t.now_hint===5&&(t.now_hint=6,A.innerHTML="",ae(A),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn6"),B())});const bo=[{content:"let",done:!1},{content:"const",done:!1},{content:"1",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],Bo=[{content:"let",done:!1},{content:"const",done:!1},{content:"2",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],So=[{content:"let",done:!1},{content:"const",done:!1},{content:"3",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],To={id:"boss_1_1",name:"Octopus",blood:24,reward:100},No={id:"boss_1_2",name:"Bat",blood:20,reward:100},Io={id:"boss_1_3",name:"Spider",blood:15,reward:1e3},Fo=[{content:"String",done:!1},{content:"Number",done:!1},{content:"Boolean",done:!1},{content:"Undefined",done:!1},{content:"Null",done:!1}],Ho=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Vo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Po={id:"boss_2_1",name:"Kobold",blood:2,reward:200},Oo={id:"boss_2_2",name:"Skeleton",blood:2,reward:200},Go={id:"boss_2_3",name:"23",blood:2,reward:200},Ro=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Ko=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Uo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Qo={id:"boss_3_1",name:"31",blood:5,reward:1e3},Wo={id:"boss_3_2",name:"32",blood:5,reward:1e3},Yo={id:"boss_3_3",name:"33",blood:5,reward:1e3},Zo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Jo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],zo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Xo={id:"boss_4_1",name:"41",blood:50,reward:1e3},jo={id:"boss_4_2",name:"42",blood:50,reward:1e3},$o={id:"boss_4_3",name:"43",blood:50,reward:1e3},S=document.createElement("div"),On=document.createElement("div"),cn=document.createElement("div"),Gn=document.createElement("div"),Rn=document.createElement("div"),Kn=document.createElement("div"),Pe=document.createElement("div"),Oe=document.createElement("div");On.append(Gn,Rn);Kn.append(Pe,Oe);S.id="prologueArea";On.id="prolMainDiv";cn.id="prolLvlDiv";Gn.id="prolBounty";Rn.id="prolBlood";Kn.id="prolBtnDiv";Pe.id="prolFightBtn";Oe.id="prolPassBtn";Pe.textContent="fighting";Oe.textContent="Pass";const dn=e=>(console.log("import prol",t.now_slot,l[t.now_slot].currLevel),ds(l[t.now_slot].currLevel),cn.textContent="Level. "+l[t.now_slot].currLevel,Gn.textContent="Bounty: "+t.curr_boss.reward,Rn.textContent="score: "+t.curr_boss.blood,S.append(cn,On,Kn),e.appendChild(S)),Mt=[bo,Bo,So],es=[Fo,Ho,Vo],ns=[Ro,Ko,Uo],ts=[Zo,Jo,zo],os=[To,No,Io],ss=[Po,Oo,Go],as=[Qo,Wo,Yo],is=[Xo,jo,$o],ls=[0,Mt,es,ns,ts],cs=[0,os,ss,as,is],ds=e=>{let n=0;n=Math.floor(Math.random()*Mt.length);let a=ls[e],s=cs[e];t.boss_code=a[n],t.curr_boss=s[n],console.log("RDR boss",s[n])};Pe.addEventListener("click",()=>{S.classList.value="",S.classList.add("prolFightFin"),p.play()});Oe.addEventListener("click",()=>{S.classList.value="",S.classList.add("prolPassFin"),p.play()});const dt=[{title:"XP",info:"Experience points: Keyboard keys that successfully attack in each round will increase experience points. The initial experience points will only increase by one point."},{title:"HP",info:"When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power starts at one point. Equipment and experience can increase attack power."},{title:"Mp",info:"Magic"},{title:"Coin",info:"The amount of gold coins that can be stolen per round by successfully attacking keyboard buttons."},{title:"",info:""}],pn=document.createElement("div");let T=document.createElement("div");const rn=document.createElement("div"),Un=document.createElement("div"),b=document.createElement("div"),Qn=document.createElement("div");let h=[0,1];pn.id="dictionArea";T.id="pageContentArea";rn.id="pageBtnArea";b.id="pageDotDiv";Un.id="pageLBtn";Qn.id="pageRBtn";document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");const ps=[0,0,0,0,0],ee=document.createElement("div"),pt=document.createElement("div"),rt=document.createElement("div"),mn=document.createElement("div");ee.className="dict_page";mn.className="dict_page";const rs=e=>{b.innerHTML="";for(let n=0;n<h[1]+1;n++){const a=document.createElement("div");a.className="pageDot",b.append(a)}rn.append(Un,b,Qn),pn.append(T,rn),e.appendChild(pn)},ms=e=>{e.forEach((n,a)=>{const s=document.createElement("div"),i=document.createElement("div");i.className="blockDiv",s.className="blockInfo",i.textContent=dt[a].title,s.textContent=dt[a].info,i.appendChild(s),ee.appendChild(i)})},Dt=e=>{e===0?I(0):e===1?fs(0):e===2&&(T.textContent="p3"),console.log(b.children[e])},bt=()=>{if(!document.getElementsByClassName("clickDict"))return;document.querySelectorAll(".clickDict").forEach(function(n){n.classList.remove("clickDict")})};Un.addEventListener("click",()=>{console.log(h),h[0]>0&&(h[0]-=1,Dt(h[0])),p.play()});Qn.addEventListener("click",()=>{h[0]<h[1]&&(h[0]+=1,Dt(h[0])),p.play()});const I=e=>{bt(),ee.innerHTML="",T.innerHTML="",ms(ps),T.appendChild(ee),ee.children[e].classList.add("clickDict"),h[0]=0,Kt(),b.children[0].classList.add("clickDict")},fs=e=>{bt(),T.innerHTML="",mn.append(pt,rt),T.appendChild(mn),[pt,rt][e].classList.add("clickDict"),h[0]=1,b.children[1].classList.add("clickDict")},G=[{id:0,name:"Heal",price:10,info:"heal + 1"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:20,info:"wizard suit"},{id:0,name:"Rogue",price:30,info:"rogue suit"},{id:11,name:"Sword_1",price:10,info:"offence + 1"},{id:12,name:"Sword_2",price:30,info:"offence + 2"},{id:13,name:"Sword_3",price:10,info:"offence + 3"},{id:51,name:"lock",price:0,info:"unlock to know more..."},{id:52,name:"lock",price:0,info:"unlock to know more..."}],us=["key_0_1","key_1_2","key_1_3","key_1_4"],vs=["key_1_1","key_1_2","key_1_3","key_1_4"],qs=["key_2_1","key_2_2","key_2_3"],hs=["key_3_1","key_3_2","key_3_3"],ze=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],Ge=document.createElement("div"),fn=document.createElement("div"),Ee=document.createElement("div"),As=document.createElement("div"),xs=document.createElement("div"),Wn=document.createElement("div"),un=document.createElement("div"),g=document.createElement("div"),Bt=document.createElement("div"),vn=document.createElement("div"),M=document.createElement("div"),H=document.createElement("div"),R=document.createElement("div"),K=document.createElement("div"),le=document.createElement("div"),U=document.createElement("div"),ce=document.createElement("div"),St=document.createElement("div"),Tt=document.createElement("div"),Nt=document.createElement("div"),It=document.createElement("div"),Ft=document.createElement("div"),Yn=document.createElement("div"),Zn=document.createElement("div"),Jn=document.createElement("div"),zn=document.createElement("div"),Xn=document.createElement("div"),qn=document.createElement("div"),ge=document.createElement("div"),hn=document.createElement("div"),ne=document.createElement("div"),he=document.createElement("button");Ge.id="skillContainer";fn.id="keyHeadDiv";Ee.id="keyManNameDiv";Wn.id="keyManLvl";un.id="keyManClassDiv";g.id="keyManClassName";Bt.id="keyManClassIcon";vn.id="keyManMiddle";H.id="keyManValDiv";M.id="keyManImg";R.classList.add("keyManValDiv");K.classList.add("keyManValDiv");le.classList.add("keyManValDiv");U.classList.add("keyManValDiv");R.textContent="XP";K.textContent="HP";le.textContent="MP";U.textContent="OFF";ce.textContent="Coin";he.textContent="Sell";ce.className="keyManValDiv coin";St.className="keyManValIcon xp";Tt.className="keyManValIcon hp";Nt.className="keyManValIcon mp";It.className="keyManValIcon off";Ft.classList.add("keyManValIcon");Yn.classList.add("keyManValValue");Zn.classList.add("keyManValValue");Jn.classList.add("keyManValValue");zn.classList.add("keyManValValue");Xn.classList.add("keyManValValue");qn.id="keyManEquipArea";ge.id="keyManEquipDiv";hn.id="keyManSellDiv";ne.id="keyManInfo";he.id="keyManSellBtn";const J=e=>{Ee.append(As,xs),fn.append(Ee,Wn),un.append(Bt,g),R.append(St,Yn),K.append(Tt,Zn),U.append(It,zn),e===1?(le.append(Nt,Jn),H.innerHTML="",H.append(R,K,U,le)):e===3&&(ce.append(Ft,Xn),H.innerHTML="",H.append(R,K,U,ce)),vn.append(M,H),hn.append(ne,he),qn.append(ge,hn),Ge.append(fn,un,vn,qn)},jn=e=>e.appendChild(Ge),F=e=>{if(t.now_slot===0||typeof e!="number")return;let n=0;for(;n<o.length;)if(o[n].code===e){t.targetKey_index=n,Ee.textContent=o[n].name,M.classList.value="",o[n].off=1,o[n].mp=1,o[n].coin=0,Ge.innerHTML="",o[n].class===1?(J(1),g.textContent="Fighter",M.classList.add(vs[o[n].level-1]),o[n].off=2,t.now_hint===9&&(t.now_hint=10,B())):o[n].class===2?(J(1),g.textContent="Wizard",M.classList.add(qs[o[n].level-1]),o[n].mp=1.1):o[n].class===3?(J(3),g.textContent="Rogue",M.classList.add(hs[o[n].level-1]),o[n].coin=1):o[n].class===4?(J(1),g.textContent="Druid"):(J(1),g.textContent="Civilian",M.classList.add(us[0])),ge.innerHTML="",ne.textContent="none";for(let a=0;a<o[n].equip.length;a++){let s=document.createElement("div");s.classList.value="",s.classList.add("equipLog"),s.textContent="none",ge.appendChild(s),o[n].equip[a]===11?(o[n].off+=1,s.classList.add(ze[5]),s.textContent=G[6].info):o[n].equip[a]===12?(o[n].off+=2,s.classList.add(ze[6]),s.textContent=G[7].info):o[n].equip[a]===13&&(o[n].off+=3,s.classList.add(ze[7]),s.textContent=G[8].info),s.addEventListener("click",()=>{_s(),t.targetEquip_index=a,s.textContent==="none"?ne.textContent="none":ne.textContent=s.textContent,s.classList.add("clickEquip"),mt.play()}),a===0&&s.click()}Wn.textContent=o[n].level,Zn.textContent=o[n].hp[0]+" /"+o[n].hp[1],Yn.textContent=o[n].xp[0]+" /"+o[n].xp[1],Jn.textContent=o[n].mp,zn.textContent=o[n].off,Xn.textContent=o[n].coin;break}else n++;console.log("render skill")},_s=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(n){n.classList.remove("clickEquip")})};he.addEventListener("click",()=>{let e=o[t.targetKey_index].equip[t.targetEquip_index];if(e===11?(t.targetMdse_index=5,o[t.targetKey_index].off-=1):e===12?(t.targetMdse_index=6,o[t.targetKey_index].off-=2):e===13&&(t.targetMdse_index=7,o[t.targetKey_index].off-=3),e!==0){let n=G[t.targetMdse_index];l[t.now_slot].currMoney+=n.price/2}o[t.targetKey_index].equip[t.targetEquip_index]=0,F(o[t.targetKey_index].code),ut.play()});const Ls=e=>{t.curr_scene==="shop"&&(console.log("key down",t.curr_key),t.curr_key=e.keyCode,F(t.curr_key))};R.addEventListener("click",()=>{I(0),de.play()});K.addEventListener("click",()=>{I(1),de.play()});U.addEventListener("click",()=>{I(2),de.play()});le.addEventListener("click",()=>{I(3),de.play()});ce.addEventListener("click",()=>{I(4),de.play()});window.addEventListener("keydown",Ls);const ys=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],An=document.createElement("div"),xn=document.createElement("div"),Le=document.createElement("div"),_n=document.createElement("div"),Me=document.createElement("div"),Ln=document.createElement("div"),yn=document.createElement("div"),Ht=document.createElement("div"),N=document.createElement("div"),te=document.createElement("div"),De=document.createElement("div"),Re=document.createElement("div");An.id="shopContainer";xn.id="mdseContainer";Le.id="mdseArea";_n.id="shopCounter";Me.id="mdseBankArea";Ln.id="mdseInfoArea";yn.id="mdseInfoName";Ht.id="bankImg";N.id="userMoney";te.id="usergetCoin";De.id="mdseInfoBox";Re.id="shopPurchaseBtn";De.classList.add("scrollbar");N.textContent=0;Re.textContent="Buy";const Vt=e=>{if(Me.append(yn,N,te,Ht),Ln.append(De,Re),_n.append(Me,Ln),An.append(xn,_n),N.textContent=l[t.now_slot].currMoney,te.textContent="+"+t.key_getCoin,te.classList.add("getCoin"),Le.innerHTML="",G.forEach((n,a)=>{const s=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");s.append(i,d,u),s.classList.add("mdseItem"),i.classList.add("mdseName"),d.classList.value="",d.classList.add("mdseImg"),d.classList.add(ys[a]),u.classList.add("mdsePrice"),i.textContent=n.name,u.textContent=n.price.toString(),Le.appendChild(s),xn.appendChild(Le),s.addEventListener("click",()=>{ws(),t.targetMdse_index=a,yn.textContent=n.name,De.textContent=n.info,d.classList.add("clickMdse"),mt.play()}),a===0&&s.click()}),t.key_battle!=[]){for(let n=0;n<o.length;n++)for(let a=0;a<t.key_battle.length;a++)t.key_battle[a]===o[n].code&&(o[n].xp[0]+=1,o[n].xp[0]>=o[n].xp[1]&&(o[n].level+=1,o[n].xp[0]=0));t.key_battle=[]}return console.log("import shop"),e.appendChild(An)},ws=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(n){n.classList.remove("clickMdse")})};Re.addEventListener("click",()=>{let e=G[t.targetMdse_index];e.price>l[t.now_slot].currMoney||(l[t.now_slot].currMoney-=e.price,N.textContent=l[t.now_slot].currMoney,ks(e),F(t.curr_key),ut.play())});he.addEventListener("click",()=>{N.textContent=l[t.now_slot].currMoney});const ks=e=>{let n=0;for(;n<o.length;)if(o[n].code===t.curr_key){let a=o[n].equip.indexOf(0);e.name==="Heal"?o[n].hp[1]>o[n].hp[0]&&(o[n].hp[0]+=1):e.name==="Experience"?o[n].xp[1]>o[n].xp[0]?o[n].xp[0]+=1:(o[n].level+=1,o[n].xp[0]=0):e.name==="Fighter"?o[n].class=1:e.name=="Wizard"?o[n].class=2:e.name==="Rogue"?o[n].class=3:e.name==="Sword_1"?o[n].equip[a]=11:e.name==="Sword_2"?o[n].equip[a]=12:e.name==="Sword_3"?o[n].equip[a]=13:e.name==="Shield_1"?o[n].equip[a]=4:e.name==="Shield_2"&&(o[n].equip[a]=5);break}else n++;F(t.curr_key),m(Nn,me),m(In,fe),m(Fn,ue),m(Hn,ve),m(Vn,qe),console.log("render keycap")};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),l[t.now_slot].currMoney+=t.key_getCoin,t.key_getCoin=0,N.textContent=l[t.now_slot].currMoney,Me.removeChild(te),oo.play())});const Cs=[{name:"sword_1",price:10,info:"heal + 1"},{name:"sword_2",price:20,info:"Experience + 1"},{name:"sword_3",price:10,info:"fighter suit"},{name:"sheild_1",price:20,info:"wizard suit"},{name:"sheild_2",price:30,info:"rogue suit"},{name:"sheild_3",price:50,info:"druid suit"}],Pt=document.createElement("div"),Ot=document.createElement("div"),Es=document.createElement("div"),$n=document.createElement("div"),et=document.createElement("div"),nt=document.createElement("div"),Gt=document.createElement("div"),Rt=document.createElement("div"),Ke=document.createElement("div"),tt=document.createElement("div"),Ue=document.createElement("div");Pt.id="shopContainer";Ot.id="mdseContainer";Es.id="mdseArea";$n.id="shopCounter";et.id="mdseBankArea";nt.id="mdseInfoArea";Gt.id="mdseInfoName";Rt.id="bankImg";Ke.id="userMoney";tt.id="mdseInfoBox";Ue.id="treasBuyBtn";tt.classList.add("scrollbar");Ke.textContent=0;Ue.textContent="Buy";et.append(Gt,Ke,Rt);nt.append(tt,Ue);$n.append(et,nt);Pt.append(Ot,$n);Ue.addEventListener("click",()=>{let e=Cs[t.targetMdse_index];e.price>l[t.now_slot].currMoney||(l[t.now_slot].currMoney-=e.price,Ke.textContent=l[t.now_slot].currMoney,gs(e),F(t.curr_key))});const gs=e=>{let n=0;for(;n<o.length;)if(o[n].code===t.curr_key){let a=o[n].equip.indexOf(0);e.name==="sword_1"?o[n].equip[a]=1:e.name==="sword_2"?o[n].equip[a]=2:e.name==="sword_3"?o[n].equip[a]=3:e.name==="shield_1"?o[n].equip[a]=4:(e.name==="shield_2"||e.name==="shield_3")&&(o[n].equip[a]=5);break}else n++;F(t.curr_key),m(Nn,me),m(In,fe),m(Fn,ue),m(Hn,ve),m(Vn,qe)},wn=document.createElement("label"),C=document.createElement("div"),be=document.createElement("div"),_=document.createElement("label"),ot=document.createElement("div"),Qe=document.createElement("div"),We=document.createElement("div"),Ye=document.createElement("div"),st=document.createElement("div");wn.id="titleArea";_.id="titleLabel";C.id="nextLvlBtn";C.textContent="NEXT";be.id="titShopDiv";ot.id="titShopBtn";Qe.id="titTreasureBtn";We.id="titBugCollBtn";Ye.id="titKeyCollBtn";st.id="titDictBtn";Qe.classList.add("lock_img");We.classList.add("lock_img");Ye.classList.add("lock_img");const Ms=(e,n)=>{if(l[t.now_slot])return console.log("import tit",n),_.textContent=t.curr_boss.name,C.style.display="none",wn.append(_,be,C),e.append(wn)};C.addEventListener("click",()=>{C.classList.add("shopFin"),p.play()});ot.addEventListener("click",()=>{const e=document.getElementById("middleArea");_.textContent="Shop",e.innerHTML="",jn(e),Vt(e),p.play()});Qe.addEventListener("click",()=>{document.getElementById("middleArea"),_.textContent="Treasure",p.play()});We.addEventListener("click",()=>{document.getElementById("middleArea"),_.textContent="Bug Collection",p.play()});Ye.addEventListener("click",()=>{document.getElementById("middleArea"),_.textContent="Keyboard",p.play()});st.addEventListener("click",()=>{Kt(),I(0),p.play()});const Kt=()=>{const e=document.getElementById("middleArea");_.textContent="Dictionary",e.innerHTML="",jn(e),rs(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(_.textContent="Shop",be.append(ot,Qe,We,Ye,st),C.style.display="block"):e.animationName==="prolFightFinAnim"&&(be.innerHTML="",_.textContent="name: "+t.curr_boss.name,C.style.display="none")});const ye=document.createElement("div"),kn=document.createElement("div"),k=document.createElement("div"),z=document.createElement("div");ye.id="gameArea";kn.id="headArea";k.id="middleArea";z.id="keyBoardArea";window.addEventListener("keydown",e=>{if(e.keyCode===27){const n=document.getElementById("app");ao(n)}});const Ze=e=>{yt(),l[t.now_slot].currLevel===0?(console.log("RDR tutorial"),Do(e)):(dn(e),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),l[t.now_slot].currLevel=1,console.log("tourFin lvl",l[t.now_slot].currLevel);const n=document.querySelector("#app");n.innerHTML="",t.curr_scene="tour",Ze(n)}else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),console.log("scene now: ",t.curr_scene),k.innerHTML="",z.innerHTML="",jn(k),F(49),Vt(k),ie(z),t.curr_scene="shop",X.click();else if(e.animationName==="shopFinAnim"){e.target.classList.remove("shopFin"),console.log("next lvl");const n=document.querySelector("#app");n.innerHTML="",dn(n)}else if(e.animationName==="prolFightFinAnim"){e.target.classList.remove("prolFightFin"),console.log("scene now: ",t.curr_scene);const n=document.querySelector("#app");n.innerHTML="",t.curr_scene="battle",X.click(),ye.innerHTML="",k.innerHTML="",n.appendChild(ye),Ms(kn,l[t.now_slot].currLevel),ie(z),ae(k),gt(k),ye.append(kn,k,z),yt(),Ct(n),t.now_hint=9,B()}else if(e.animationName==="prolPassFinAnim"){e.target.classList.remove("prolPassFin");const n=document.querySelector("#app");n.innerHTML="",l[t.now_slot].currLevel+=1,dn(n)}else e.animationName==="bossWinAnim"&&(e.target.classList.remove("bossWinAnim"),console.log("you lose! back to lvl 1"),l[t.now_slot].currLevel=1,l[t.now_slot].challengeTime+=1,l[t.now_slot].currMoney=200,t.curr_scene="battle",X.click())});const Ds=()=>{const e=document.querySelector("#app");Sn(e)};Ds();At.addEventListener("click",()=>{app.innerHTML="",Ze(app)});xt.addEventListener("click",()=>{app.innerHTML="",Ze(app)});_t.addEventListener("click",()=>{app.innerHTML="",Ze(app)});pe.addEventListener("click",()=>{app.innerHTML="",Sn(app)});window.addEventListener("animationend",()=>{event.animationName==="bossWinAnim"&&(console.log("you lose! back to lvl 1"),app.innerHTML="",Sn(app))});
