(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();const ro="/page2/assets/btn_2-x7v2jOeS.mp3",mo="/page2/assets/slot_1-BTjXaHny.wav",fo="/page2/assets/hint_1-CGGxhJa2.wav",uo="data:audio/mpeg;base64,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",vo="/page2/assets/lose_1-B4UCIDkq.wav",qo="/page2/assets/win_1-BGr8rV3N.wav",ho="/page2/assets/buy_1-BOFyt1Rj.mp3",Ao="/page2/assets/coin_2-l7ffaYco.wav",xo="/page2/assets/info_2-DqiafzHX.wav",Lo="/page2/assets/lock_1-CPU6wXwn.wav",_o="/page2/assets/bomb_1-Celdewrb.m4a",p=new Audio(ro),Rt=new Audio(mo),bn=new Audio(fo),Ut=new Audio(uo),Bn=new Audio(vo),Sn=new Audio(qo),Qt=new Audio(ho),Nn=new Audio(Ao),$=new Audio(xo),yo=new Audio(Lo),Wt=new Audio(_o);p.volume=.2;Ut.volume=.5;Wt.volume=.5;const Tn=document.createElement("audio");Tn.append(p,Rt,bn,$,Qt,Nn,yo,Ut,Sn,Bn,Wt);const wo=e=>{Tn.childNodes.forEach(t=>{t instanceof HTMLAudioElement&&(t.volume=e)})},O=document.createElement("div"),ge=document.createElement("div"),me=document.createElement("div"),Yt=document.createElement("div"),Eo=e=>(ge.id="openClick",O.id="openingArea",me.id="openingDiv",Yt.id="openingImg",ge.textContent="click to start",O.appendChild(ge),e.appendChild(O));ge.addEventListener("click",()=>{O.innerHTML="",O.appendChild(me),me.appendChild(Yt),Wt.play()});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&(me.classList.add("openLastImg"),me.removeChild(Yt),O.classList.add("openingFin"))});const x=(e,t)=>{const s=document.createElement("button");return s.textContent=e,s.addEventListener("click",t),s},Co="/page2/assets/menu-DFmr72KD.m4a",g=new Audio(Co);g.muted=!0;g.autoplay=!0;const ze=document.createElement("button"),G=document.createElement("div"),Ee=document.createElement("div"),pt=document.createElement("label"),Me=document.createElement("button"),ne=document.createElement("button"),oe=document.createElement("div"),Ce=document.createElement("div"),rt=document.createElement("label"),De=document.createElement("button"),K=document.createElement("div"),se=document.createElement("div"),be=document.createElement("div"),En=document.createElement("div"),mt=document.createElement("div"),ie=document.createElement("div"),Be=document.createElement("div"),Cn=document.createElement("div"),Se=document.createElement("button"),vt=ze.cloneNode(!0),ko=()=>{G.id="pauseArea",Ee.id="pauseDiv",pt.id="pauseLabel",Me.id="resumeBtn",ne.id="setBackMenuBtn",oe.id="settingArea",Ce.id="settingDiv",rt.id="settingLabel",De.id="setScreenBtn",Se.id="setBackBtn",oe.className="overlay",G.className="overlay",Ee.className="setDivBox",Ce.className="setDivBox",K.className="setAudioBtn",mt.className="setAudioBtn",se.className="audioBar",be.className="audioSlider",En.className="audioDot",ie.className="audioBar",Be.className="audioSlider",Cn.className="audioDot",ze.textContent="setting",vt.textContent="setting",pt.textContent="- pause -",Me.textContent="resume",ne.textContent="back to Menu",rt.textContent="- setting -",De.textContent="fullscreen",K.textContent="Music",mt.textContent="Sound",Se.textContent="back",be.appendChild(En),se.appendChild(be),Be.appendChild(Cn),ie.appendChild(Be),oe.appendChild(Ce),G.appendChild(Ee),Ce.append(rt,De,K,se,mt,ie,Se),Ee.append(pt,Me,vt,ne)};ko();const go=e=>{e.appendChild(G)};ze.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(oe),p.play()});Se.addEventListener("click",()=>{let t=event.target.parentNode.parentNode;t.parentNode.removeChild(t),p.play()});De.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});let ft=!0;K.addEventListener("click",()=>{ft?(g.muted=!0,ft=!1,K.textContent="Mute"):(g.muted=!1,g.play(),ft=!0,K.textContent="Music")});Me.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(G)});vt.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(oe)});ne.addEventListener("click",()=>{app.removeChild(G)});let Zt=!1;se.addEventListener("mousedown",function(e){Zt=!0,Jt(e.clientX)});document.addEventListener("mousemove",function(e){Zt&&Jt(e.clientX)});document.addEventListener("mouseup",function(e){Zt=!1});const Jt=function(e,t){let s,l=se;if(t)s=t*100;else{var a=e-l.offsetLeft;s=100*a/l.clientWidth}s>100&&(s=100),s<0&&(s=0),be.style.width=s+"%",g.volume=s/100};ie.addEventListener("mousedown",function(e){Mo(e.clientX)});const Mo=function(e,t){let s,l=ie;if(t)s=t*100;else{var a=e-l.offsetLeft;s=100*a/l.clientWidth}s>100&&(s=100),s<0&&(s=0),Be.style.width=s+"%",wo(s/100)};window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"&&(g.muted=!1,g.play(),Jt(498))});let n={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0},fe=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0}],In=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],Do=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],bo=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],i,o;const ke=localStorage.getItem("threeSlot");!ke||ke==="undefined"||ke==="null"?i=fe:i=JSON.parse(ke);const Ve={1:In,2:Do,3:bo},Bo=e=>{if(e===0)return;const t=e,s=`cardData_${t}`,l=localStorage.getItem(s);!l||l==="undefined"||l==="null"?Ve[t]?o=Ve[t]:o=In:o=JSON.parse(l),console.log("RDR userData")},So=()=>{n.now_slot!==0&&(fe=i,localStorage.setItem("threeSlot",JSON.stringify(fe)))},le=document.createElement("button"),zt=document.createElement("button");le.textContent="SAVE";zt.textContent="reset";le.addEventListener("click",()=>{if(n.now_slot===0)return;console.log("save"),So(),fe=i,localStorage.setItem("threeSlot",JSON.stringify(fe));const e=n.now_slot;Ve[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(Ve[e]))});zt.addEventListener("click",()=>{console.log("reset");const e=n.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),n.now_slot=0});const R=document.createElement("div"),Ne=document.createElement("div"),Xt=document.createElement("div"),Fn=document.createElement("div");R.id="menuArea";Ne.id="menuDiv";Xt.id="menuImgDiv";Fn.id="menuImg";Xt.appendChild(Fn);const z=document.createElement("div"),D=document.createElement("div"),jt=document.createElement("label"),Hn=x("X",()=>{$t(1)}),Vn=x("X",()=>{$t(2)}),Pn=x("X",()=>{$t(3)}),No=x("",()=>{Xe(1)}),To=x("",()=>{Xe(2)}),Io=x("",()=>{Xe(3)});No.classList.add("slotDel_btn");To.classList.add("slotDel_btn");Io.classList.add("slotDel_btn");D.id="saveSlotDiv";jt.id="saveSlotLabel";z.classList.add("overlay");D.classList.add("setDivBox");jt.textContent="- Load -";const Fo=x("Back",()=>Vo()),qt=e=>{n.curr_scene="menu",Ne.innerHTML="";const t=x("Start",()=>Ho(R)),s=x("Quit",()=>Po());return Ne.append(t,ze,s),R.append(Xt,Ne),e.appendChild(R)},On=()=>{z.innerHTML="",D.innerHTML="",D.appendChild(jt),i.forEach((e,t)=>{if(t===0)return;const s=document.createElement("div"),l=document.createElement("div");if(s.classList.add("slotDiv"),l.classList.add("slot_btn"),l.textContent=e.slotName,s.appendChild(l),e.slotName!=="New Game"){const a=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),C=document.createElement("div"),dt=document.createElement("div"),wn=x("X",()=>{Xe(t)});a.classList.add("slotInfo"),d.classList.add("slotCHAL"),u.classList.add("slotGrade"),C.classList.add("slotMoney"),dt.classList.add("slotLevel"),wn.classList.add("slotDel_btn"),d.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,u.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,C.innerHTML=`<h4>money</h4>${e.currMoney}`,dt.innerHTML=`<h4>level</h4>${e.currLevel}`,a.append(d,u,C,dt),l.appendChild(a),s.appendChild(wn)}D.appendChild(s),z.appendChild(D),l.addEventListener("click",()=>{t===1?Hn.click():t===2?Vn.click():t===3&&Pn.click()})}),D.appendChild(Fo)},Ho=e=>{e.appendChild(z),On(),p.play()},Vo=()=>{R.removeChild(z),p.play()},$t=e=>{n.now_slot=e,Bo(e),i[e].slotName==="New Game"&&(i[e].challengeTime=0,i[e].boardGrade=0,i[e].currMoney=200,i[e].currLevel=0,i[e].treasureCol=0,i[e].bossCol=0),i[e].slotName="data_"+e,R.removeChild(z),p.play(),music_1.pause()},Xe=e=>{n.now_slot=e,i[e].slotName="New Game",i[e].challengeTime=0,i[e].boardGrade=0,i[e].currMoney=200,i[e].currLevel=0,i[e].hint=0,zt.click(),On(),p.play()},Po=()=>{window.close()},kn=[{move:"",info:"There is a type of alien that likes to invade home computers. They have various different appearances. And will continuously expand its influence until it occupies the computer host."},{move:"",info:"Entering the correct words will weaken their physical strength. So upgrade your keyboard and capture as many aliens as possible."},{move:"Enter text.",info:"This is your Keyboard."},{move:"",info:"Here is the attack power integration of your Keyboard."},{move:"Enter letters and press back key.",info:"When the last letter is pressed, the attack will be successful, Before that, you can press the back key to clear the attack area."},{move:"Enter the text.",info:"The weaknesses of aliens will appear in text form. Enter the correct word to weaken the strength of the aliens."},{move:"",info:"When the alien's stamina reaches zero, the capture is successful."},{move:"",info:"Now lets start capturing the first alien."},{move:"",info:""},{move:"mission 1",info:"Choosing a class for a keycap."},{move:"mission 2",info:"Upgrade a keycap to level two."},{move:"mission 3",info:"Grade the keyboard up a level."}],r=document.createElement("div"),c=document.createElement("div"),ht=document.createElement("div"),At=document.createElement("div"),Gn=document.createElement("div"),Kn=document.createElement("div");c.id="hintDiv";r.id="hintArea";ht.className="hintInfo";At.id="hintMove";Gn.id="hint_img1";Kn.id="hint_img2";const Rn=e=>e.appendChild(r),w=()=>{bn.play(),console.log(i[n.now_slot].hint),ht.textContent=kn[i[n.now_slot].hint].info,c.append(ht,At),At.textContent=kn[i[n.now_slot].hint].move,i[n.now_slot].hint===0?(r.appendChild(Gn),r.appendChild(c),c.classList.add("hint1")):i[n.now_slot].hint===1?(r.innerHTML="",r.appendChild(Kn),r.appendChild(c),c.classList.add("hint1")):i[n.now_slot].hint===2?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint2")):i[n.now_slot].hint===3?(c.classList.value="",r.appendChild(c),c.classList.add("hint3")):i[n.now_slot].hint===4?(c.classList.value="",r.appendChild(c),c.classList.add("hint4")):i[n.now_slot].hint===5?(c.classList.value="",r.appendChild(c),c.classList.add("hint5")):i[n.now_slot].hint===6?(c.classList.value="",r.appendChild(c),c.classList.add("hint6")):i[n.now_slot].hint===7?(c.classList.value="",r.appendChild(c),c.classList.add("hint7")):i[n.now_slot].hint===8?(c.classList.value="",r.appendChild(c),c.classList.add("hint8")):i[n.now_slot].hint===9?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint9")):i[n.now_slot].hint===10?(c.classList.value="",r.appendChild(c),c.classList.add("hint10")):i[n.now_slot].hint===11?(c.classList.value="",r.appendChild(c),c.classList.add("hint11")):i[n.now_slot].hint===12&&(c.classList.value="")},Oo=["off_0_1","off_0_2","off_0_3"],Go=["off_1_1","off_1_2","off_1_3"],gn=["off_2_1","off_2_2","off_2_3"],Ko=["off_3_1","off_3_2","off_3_3"];let _=0,Un=0,q=0,xt=0;const Te=document.createElement("div"),Lt=document.createElement("div"),Ro=document.createElement("div"),_t=document.createElement("div"),S=document.createElement("div"),Pe=document.createElement("div"),U=document.createElement("label"),yt=document.createElement("div"),wt=document.createElement("div"),Q=document.createElement("div"),X=document.createElement("div"),ae=document.createElement("div"),ce=document.createElement("div");ae.textContent="K.O";ce.textContent="You Lose";Te.id="battleDiv";Lt.id="bossContainer";Ro.id="bossTitle";_t.id="bossDiv";S.id="bossImg";yt.id="attackArea";wt.id="scoreDiv";X.id="cardContainer";Pe.classList.add("bossBloodDiv");U.classList.add("bossBloodLabel");const ue=e=>{q=0,_=n.curr_boss.blood,Un=n.curr_boss.reward,Oe=[],X.innerHTML="",Te.innerHTML="",ae.classList.value="",ae.className="userWin",ce.classList.value="",ce.className="userLose",S.classList.value="",S.classList.add(n.curr_boss.id),Pe.appendChild(U),U.textContent=_,Q.textContent="0",wt.appendChild(Q),_t.append(ce,ae,S),Lt.append(_t,Pe),yt.append(wt,X),Te.append(Lt,yt),e.append(Te),console.log("import battle")};let Oe=[];const Uo=e=>{if(n.curr_scene!=="battle"||typeof e.keyCode!="number")return;let t=0;for(;t<o.length;){if(o[t].code===e.keyCode){Oe.push(e.keyCode);const s=document.createElement("label"),l=document.createElement("div");l.classList.value="",l.className="cardDiv fadeIn",o[t].class===1?l.classList.add(Go[o[t].level-1]):o[t].class===2?l.classList.add(gn[o[t].level-1]):o[t].class===3?l.classList.add(Ko[o[t].level-1]):o[t].class===4?l.classList.add(gn[o[t].level-1]):l.classList.add(Oo[o[t].level-1]),s.classList.add("cardOff"),l.textContent=o[t].name,s.textContent=o[t].off,q+=o[t].off,q*=o[t].mp,xt+=o[t].coin,l.appendChild(s),X.appendChild(l);break}t++}e.keyCode===8&&(X.innerHTML="",q=0,xt=0),Q.textContent=q};window.addEventListener("keydown",Uo);window.addEventListener("animationend",e=>{if(!(n.now_slot===0||i[n.now_slot].currScene==="shop")){if(e.animationName==="finLabelAnim")e.target.classList.remove("finLabel"),n.key_battle=n.key_battle.concat(Oe),Oe=[],X.innerHTML="",console.log(q,_),_-=q,Q.textContent=q,n.key_getCoin+=xt,_<1&&i[n.now_slot].currLevel!=0&&(ae.classList.add("KO"),S.classList.add("finBoss"),U.textContent=0,Pe.removeChild(U),Sn.play()),q=0,Q.classList.add("attactScore");else if(e.animationName==="attactScoreAnim")e.target.classList.remove("attactScore"),Q.textContent=q,U.textContent=_,Ut.play();else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),i[n.now_slot].currLevel+=1,_=n.curr_boss.blood,i[n.now_slot].currMoney+=Un,S.classList.value="",q=0;else if(e.animationName==="lvlFinAnim"){if(n.codeLength_is0&&_>0&&(ce.classList.add("LOSE"),S.classList.add("bossWin"),console.log("battle lose",n.codeLength_is0),Bn.play()),i[n.now_slot].currLevel>=BOSS_ARR.length)return;_=BOSS_ARR[i[n.now_slot].currLevel].blood}}});const Et=document.createElement("div"),P=document.createElement("div"),E=document.createElement("input"),Ge=document.createElement("label");let Mn=!1;Et.id="codeAreaDiv";P.id="labelContainer";E.id="codingInput";E.setAttribute("autocomplete","off");E.setAttribute("type","text");Ge.id="lvlComText";Ge.textContent="";const Qo=5,Ct=e=>{if(n.codeLength_is0=!1,i[n.now_slot].currLevel>=Qo)return;if(P.innerHTML="",Mn=e.every(s=>s.done),Mn)return n.codeLength_is0=!0,Ge.classList.add("lvlFin"),P.appendChild(Ge);let t=0;e.forEach((s,l)=>{if(s.done||P.childElementCount>=5)return;const a=document.createElement("label"),d=document.createElement("label");a.className="codeLabelDiv",d.className="codeLabel",d.style.animationDelay=t+"ms",t+=200,s.content.split("").forEach(u=>{const C=document.createElement("span");C.textContent=u,C.textContent===" "&&(C.style.width="10px"),d.appendChild(C)}),a.appendChild(d),P.append(a),E.addEventListener("input",()=>{Wo(s,d)})}),p.play(),console.log("render code")},Qn=e=>{n.boss_code.forEach(t=>{t.done=!1}),Ct(n.boss_code),Et.append(P,E),e.append(Et)},Wo=(e,t)=>{let s=E.value.toString(),l=s.split("");const a=l.length-1;if(t.children.length-1>=a&&a>=0&&t.children[a].textContent===s[a]&&t.children[a].classList.add("activeLabel"),e.content===s){if(t.classList.add("finLabel"),e.done===!0||i[n.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(d=>{d.classList.remove("activeLabel")}),e.done=!0,l=[]}};window.addEventListener("keydown",e=>{E.focus(),e.keyCode==8&&(E.value="",document.querySelectorAll(".activeLabel").forEach(t=>{t.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?Ct(n.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),E.value="",Ct(n.boss_code),console.log("finLabAnim : end"))});const Yo=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],Zo=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],Jo=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],en=[{name:"Esc",code:27,pos:"office",width:"25px"},{name:"1",code:49,pos:"field",width:"25px"},{name:"2",code:50,pos:"field",width:"25px"},{name:"3",code:51,pos:"field",width:"25px"},{name:"4",code:52,pos:"field",width:"25px"},{name:"5",code:53,pos:"field",width:"25px"},{name:"6",code:54,pos:"field",width:"25px"},{name:"7",code:55,pos:"field",width:"25px"},{name:"8",code:56,pos:"field",width:"25px"},{name:"9",code:57,pos:"field",width:"25px"},{name:"0",code:48,pos:"field",width:"25px"},{name:"-",code:189,pos:"field",width:"25px"},{name:"=",code:187,pos:"field",width:"25px"},{name:"Back",code:8,pos:"office",width:"74px"}],tn=[{name:"Tab",code:9,pos:"office",width:"50px"},{name:"Q",code:81,pos:"field",width:"25px"},{name:"W",code:87,pos:"field",width:"25px"},{name:"E",code:69,pos:"field",width:"25px"},{name:"R",code:82,pos:"field",width:"25px"},{name:"T",code:84,pos:"field",width:"25px"},{name:"Y",code:89,pos:"field",width:"25px"},{name:"U",code:85,pos:"field",width:"25px"},{name:"I",code:73,pos:"field",width:"25px"},{name:"O",code:79,pos:"field",width:"25px"},{name:"P",code:80,pos:"field",width:"25px"},{name:"[",code:219,pos:"field",width:"25px"},{name:"]",code:221,pos:"field",width:"25px"},{name:"\\",code:220,pos:"office",width:"50px"}],nn=[{name:"CapsLock",code:20,pos:"office",width:"70px"},{name:"A",code:65,pos:"field",width:"25px"},{name:"S",code:83,pos:"field",width:"25px"},{name:"D",code:68,pos:"field",width:"25px"},{name:"F",code:70,pos:"field",width:"25px"},{name:"G",code:71,pos:"field",width:"25px"},{name:"H",code:72,pos:"field",width:"25px"},{name:"J",code:74,pos:"field",width:"25px"},{name:"K",code:75,pos:"field",width:"25px"},{name:"L",code:76,pos:"field",width:"25px"},{name:";",code:186,pos:"field",width:"25px"},{name:"'",code:222,pos:"field",width:"25px"},{name:"Enter",code:13,pos:"office",width:"60px"}],on=[{name:"Shift",code:16,pos:"office",width:"79px"},{name:"Z",code:90,pos:"field",width:"25px"},{name:"X",code:88,pos:"field",width:"25px"},{name:"C",code:67,pos:"field",width:"25px"},{name:"V",code:86,pos:"field",width:"25px"},{name:"B",code:66,pos:"field",width:"25px"},{name:"N",code:78,pos:"field",width:"25px"},{name:"M",code:77,pos:"field",width:"25px"},{name:",",code:188,pos:"field",width:"25px"},{name:".",code:190,pos:"field",width:"25px"},{name:"/",code:191,pos:"field",width:"25px"},{name:"Shift",code:16,pos:"office",width:"79px"}],sn=[{name:"Ctrl",code:17,pos:"office",width:"40px"},{name:"Win",code:91,pos:"office",width:"40px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Space",code:32,pos:"office",width:"232px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Fn",code:0,pos:"office",width:"25px"},{name:"Ctrl",code:17,pos:"office",width:"40px"}];let ln=document.createElement("div");ln.classList.add("keyContainer");let Ae=document.createElement("div");Ae.classList.add("keyLine");let xe=document.createElement("div");xe.classList.add("keyLine");let Le=document.createElement("div");Le.classList.add("keyLine");let _e=document.createElement("div");_e.classList.add("keyLine");let ye=document.createElement("div");ye.classList.add("keyLine");ln.append(Ae,xe,Le,_e,ye);const m=(e,t)=>{t.innerHTML="",e.forEach(s=>{let l=document.createElement("div");if(l.textContent=s.name,l.id=s.code,l.style.width=s.width,t.append(l),s.pos==="field"){l.classList.value="";let a=0;for(;a<o.length;){if(o[a].code===s.code){o[a].class===1?(l.classList.add(Yo[o[a].level-1]),l.classList.add("keyFighterLv1")):o[a].class===2?(l.classList.add(Zo[o[a].level-1]),l.classList.add("keyWizard")):o[a].class===3?(l.classList.add(Jo[o[a].level-1]),l.classList.add("keyRogue")):l.classList.add("keyCivilian");break}a++}}else l.classList.add("keyOffice");l.classList.add("keycap")})},ve=e=>{e.append(ln),m(en,Ae),m(tn,xe),m(nn,Le),m(on,_e),m(sn,ye)},zo=e=>{if(typeof e.keyCode!="number"||n.curr_scene!=="battle")return;const t=document.querySelector(`div[id="${e.keyCode}"`);t.classList.add("keyDownAnim"),setTimeout(()=>{t.classList.remove("keyDownAnim")},100)};window.addEventListener("keydown",zo);const v=document.createElement("div"),A=document.createElement("div"),j=document.createElement("div"),je=document.createElement("button"),f=document.createElement("button");je.textContent="PASS";f.textContent="next";v.id="tutorialArea";A.id="middleTArea";j.id="keyboardTArea";je.id="tourPassBtn";f.id="tourNextBtn";v.append(A,j);const Xo=e=>(Rn(v),w(),v.appendChild(f),f.classList.add("nextBtn1"),e.append(v,je));je.addEventListener("click",()=>{v.classList.add("tourFin"),i[n.now_slot].hint=9,p.play()});f.addEventListener("click",()=>{console.log("hint",i[n.now_slot].hint+1),i[n.now_slot].hint+=1,w(),i[n.now_slot].hint===2?(ve(j),v.removeChild(f),n.curr_scene="battle"):i[n.now_slot].hint===4?(v.removeChild(f),ue(A)):i[n.now_slot].hint===7?(v.appendChild(f),f.classList.add("nextBtn7"),A.innerHTML=""):i[n.now_slot].hint===8&&(A.innerHTML="",j.innerHTML="",v.classList.add("tourFin"),i[n.now_slot].hint=9,console.log(888)),p.play()});window.addEventListener("keydown",e=>{if(i[n.now_slot].hint===2)i[n.now_slot].hint=3,ue(A),ve(j),w(),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn3");else if(e.keyCode===8)if(i[n.now_slot].hint===4)i[n.now_slot].hint=5,ue(A),Qn(A),ve(j),w();else return;else return});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&i[n.now_slot].hint===5&&(i[n.now_slot].hint=6,A.innerHTML="",ue(A),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn6"),w())});document.createElement("div");const Wn=e=>{let t=o.length,l=o.filter(a=>a.level===1).length/t;l*=10,l<5&&(i[n.now_slot].boardGrade=2,i[n.now_slot].hint===11&&(i[n.now_slot].hint=12,w()))},jo=[{content:"let js=true",done:!1},{content:"const",done:!1},{content:"var",done:!1},{content:"boolean",done:!1},{content:"false",done:!1}],$o=[{content:"var insects=4",done:!1},{content:"const",done:!1},{content:"0=false",done:!1},{content:"number",done:!1},{content:"1=true",done:!1}],es=[{content:"const bat=''",done:!1},{content:"const",done:!1},{content:"string",done:!1},{content:"''",done:!1},{content:"let",done:!1}],ts={id:"boss_1_1",name:"Spider",blood:20,reward:100},ns={id:"boss_1_2",name:"Swarm of Insects",blood:15,reward:100},os={id:"boss_1_3",name:"Bat",blood:21,reward:1e3},ss=[{content:"String",done:!1},{content:"Number",done:!1},{content:"Boolean",done:!1},{content:"Undefined",done:!1},{content:"Null",done:!1}],is=[{content:"function",done:!1},{content:"()",done:!1},{content:"sayHello()",done:!1},{content:"'hello!'",done:!1},{content:"Parenthesis",done:!1}],ls=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],as={id:"boss_2_1",name:"Kobold",blood:2,reward:2e5},cs={id:"boss_2_2",name:"Goblin",blood:2,reward:2e5},ds={id:"boss_2_3",name:"Octopus",blood:2,reward:2e5},ps=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],rs=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ms=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],fs={id:"boss_3_1",name:"Skeleton",blood:5,reward:1e3},us={id:"boss_3_2",name:"Ogre",blood:5,reward:1e3},vs={id:"boss_3_3",name:"Fire Elemental",blood:5,reward:1e3},qs=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],hs=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],As=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],xs={id:"boss_4_1",name:"Werewolf",blood:2,reward:1e3},Ls={id:"boss_4_2",name:"Stone Giant",blood:2,reward:1e3},_s={id:"boss_4_3",name:"Homunculi",blood:2,reward:1e3},y=document.createElement("div"),Ke=document.createElement("div"),kt=document.createElement("div"),Re=document.createElement("div"),Ue=document.createElement("div"),an=document.createElement("div"),$e=document.createElement("div"),et=document.createElement("div");Ke.append(Re,Ue);an.append($e,et);y.id="prologueArea";Ke.id="prolMainDiv";kt.id="prolLvlDiv";Re.id="prolBounty";Ue.id="prolBlood";an.id="prolBtnDiv";$e.id="prolFightBtn";et.id="prolPassBtn";$e.textContent="fighting";et.textContent="Pass";const gt=e=>{const t=i[n.now_slot].currLevel;return console.log("import prol",Mt.length,t),y.innerHTML="",t<Mt.length?(bs(t),kt.textContent="Level. "+t,Re.textContent="Bounty: "+n.curr_boss.reward,Ue.textContent="score: "+n.curr_boss.blood,y.append(kt,Ke,an)):(Re.textContent="Thank you for playing this far! The next levels and new features are currently in development.",Ue.textContent="Stay tuned",y.appendChild(Ke)),e.appendChild(y)},Yn=[jo,$o,es],ys=[ss,is,ls],ws=[ps,rs,ms],Es=[qs,hs,As],Cs=[ts,ns,os],ks=[as,cs,ds],gs=[fs,us,vs],Ms=[xs,Ls,_s],Mt=[0,Yn,ys,ws,Es],Ds=[0,Cs,ks,gs,Ms],bs=e=>{let t=0;t=Math.floor(Math.random()*Yn.length);let s=Mt[e],l=Ds[e];n.boss_code=s[t],n.curr_boss=l[t],console.log("RDR boss",l[t])};$e.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolFightFin"),p.play()});et.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolPassFin"),p.play()});const Dn=[{title:"XP",info:"Experience Points: Successfully attacking each round will increase experience points. When full, it will increase one level."},{title:"HP",info:"Health: When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power: Starts at one point. Equipment can increase attack power."},{title:"Mp",info:"Magic attribute: The total attack will be multiplied by this value."},{title:"Coin",info:"Golden Coin: the amount of coins that will be brought after a successful attack."},{title:"",info:""}],Dt=document.createElement("div");let T=document.createElement("div");const bt=document.createElement("div"),cn=document.createElement("div"),N=document.createElement("div"),dn=document.createElement("div");let h=[0,1];Dt.id="dictionArea";T.id="pageContentArea";bt.id="pageBtnArea";N.id="pageDotDiv";cn.id="pageLBtn";dn.id="pageRBtn";document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");const Bs=[0,0,0,0,0],Ss=[0,0,0,0,0],de=document.createElement("div");document.createElement("div");document.createElement("div");const Ie=document.createElement("div");de.className="dict_page";Ie.className="dict_page";const Ns=e=>{N.innerHTML="";for(let t=0;t<h[1]+1;t++){const s=document.createElement("div");s.className="pageDot",N.append(s)}bt.append(cn,N,dn),Dt.append(T,bt),e.appendChild(Dt)},Zn=e=>{e.forEach((t,s)=>{const l=document.createElement("div"),a=document.createElement("div");a.className="blockDiv",l.className="blockInfo",a.textContent=Dn[s].title,l.textContent=Dn[s].info,a.appendChild(l),de.appendChild(a)})},Jn=e=>{e===0?F(0):e===1?Ts(0):e===2&&(T.textContent="p3"),console.log(N.children[e])},zn=()=>{if(!document.getElementsByClassName("clickDict"))return;document.querySelectorAll(".clickDict").forEach(function(t){t.classList.remove("clickDict")})};cn.addEventListener("click",()=>{console.log(h),h[0]>0&&(h[0]-=1,Jn(h[0])),p.play()});dn.addEventListener("click",()=>{h[0]<h[1]&&(h[0]+=1,Jn(h[0])),p.play()});const F=e=>{zn(),de.innerHTML="",T.innerHTML="",Zn(Bs),T.appendChild(de),de.children[e].classList.add("clickDict"),h[0]=0,po(),N.children[0].classList.add("clickDict")},Ts=e=>{zn(),Ie.innerHTML="",T.innerHTML="",Zn(Ss),T.appendChild(Ie),Ie.children[e].classList.add("clickDict"),h[0]=1,N.children[1].classList.add("clickDict")},W=[{id:0,name:"Heal",price:10,info:"heal + 1"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:20,info:"wizard suit"},{id:0,name:"Rogue",price:30,info:"rogue suit"},{id:11,name:"Sword_1",price:10,info:"offence + 1"},{id:12,name:"Sword_2",price:30,info:"offence + 2"},{id:13,name:"Sword_3",price:10,info:"offence + 3"},{id:51,name:"lock",price:0,info:"unlock to know more..."},{id:52,name:"lock",price:0,info:"unlock to know more..."}],Is=["key_0_1","key_1_2","key_1_3","key_1_4"],Fs=["key_1_1","key_1_2","key_1_3","key_1_4"],Hs=["key_2_1","key_2_2","key_2_3"],Vs=["key_3_1","key_3_2","key_3_3"],ut=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],tt=document.createElement("div"),Bt=document.createElement("div"),Qe=document.createElement("div"),Ps=document.createElement("div"),Os=document.createElement("div"),pn=document.createElement("div"),St=document.createElement("div"),b=document.createElement("div"),Xn=document.createElement("div"),Nt=document.createElement("div"),B=document.createElement("div"),V=document.createElement("div"),Y=document.createElement("div"),Z=document.createElement("div"),qe=document.createElement("div"),J=document.createElement("div"),he=document.createElement("div"),jn=document.createElement("div"),$n=document.createElement("div"),eo=document.createElement("div"),to=document.createElement("div"),no=document.createElement("div"),rn=document.createElement("div"),mn=document.createElement("div"),fn=document.createElement("div"),un=document.createElement("div"),vn=document.createElement("div"),Tt=document.createElement("div"),We=document.createElement("div"),It=document.createElement("div"),pe=document.createElement("div"),we=document.createElement("button");tt.id="skillContainer";Bt.id="keyHeadDiv";Qe.id="keyManNameDiv";pn.id="keyManLvl";St.id="keyManClassDiv";b.id="keyManClassName";Xn.id="keyManClassIcon";Nt.id="keyManMiddle";V.id="keyManValDiv";B.id="keyManImg";Y.classList.add("keyManValDiv");Z.classList.add("keyManValDiv");qe.classList.add("keyManValDiv");J.classList.add("keyManValDiv");he.classList.add("keyManValDiv");Y.textContent="XP";Z.textContent="HP";qe.textContent="MP";J.textContent="OFF";he.textContent="Coin";we.textContent="Sell";jn.className="keyManValIcon xp";$n.className="keyManValIcon hp";eo.className="keyManValIcon mp";to.className="keyManValIcon off";no.className="keyManValIcon coin";rn.classList.add("keyManValValue");mn.classList.add("keyManValValue");fn.classList.add("keyManValValue");un.classList.add("keyManValValue");vn.classList.add("keyManValValue");Tt.id="keyManEquipArea";We.id="keyManEquipDiv";It.id="keyManSellDiv";pe.id="keyManInfo";we.id="keyManSellBtn";const ee=e=>{Qe.append(Ps,Os),Bt.append(Qe,pn),St.append(Xn,b),Y.append(jn,rn),Z.append($n,mn),J.append(to,un),e===1?(qe.append(eo,fn),V.innerHTML="",V.append(Y,Z,J,qe)):e===3&&(he.append(no,vn),V.innerHTML="",V.append(Y,Z,J,he)),Nt.append(B,V),It.append(pe,we),Tt.append(We,It),tt.append(Bt,St,Nt,Tt)},qn=e=>e.appendChild(tt),H=e=>{if(n.now_slot===0||typeof e!="number")return;let t=0;for(;t<o.length;)if(o[t].code===e){n.targetKey_index=t,Qe.textContent=o[t].name,B.classList.value="",o[t].off=1,o[t].mp=1,o[t].coin=0,tt.innerHTML="",o[t].class===1?(ee(1),b.textContent="Fighter",B.classList.add(Fs[o[t].level-1]),o[t].level===1?o[t].off=2:o[t].level===2?o[t].off=3:o[t].level>=3&&(o[t].off=5)):o[t].class===2?(ee(1),b.textContent="Wizard",B.classList.add(Hs[o[t].level-1]),o[t].level===1?o[t].mp=1.1:o[t].level===2?o[t].mp=1.2:o[t].level>=3&&(o[t].mp=1.4)):o[t].class===3?(ee(3),b.textContent="Rogue",B.classList.add(Vs[o[t].level-1]),o[t].level===1?o[t].coin=1:o[t].level===2?o[t].coin=3:o[t].level>=3&&(o[t].coin=1,o[t].coin=8)):o[t].class===4?(ee(1),b.textContent="Druid"):(ee(1),b.textContent="Civilian",B.classList.add(Is[0])),i[n.now_slot].hint===9&&o[t].class!==0&&(i[n.now_slot].hint=10,w()),We.innerHTML="",pe.textContent="none";for(let s=0;s<o[t].equip.length;s++){let l=document.createElement("div");l.classList.value="",l.classList.add("equipLog"),l.textContent="none",We.appendChild(l),o[t].equip[s]===11?(o[t].off+=1,l.classList.add(ut[5]),l.textContent=W[6].info):o[t].equip[s]===12?(o[t].off+=2,l.classList.add(ut[6]),l.textContent=W[7].info):o[t].equip[s]===13&&(o[t].off+=3,l.classList.add(ut[7]),l.textContent=W[8].info),l.addEventListener("click",()=>{Gs(),n.targetEquip_index=s,l.textContent==="none"?pe.textContent="none":pe.textContent=l.textContent,l.classList.add("clickEquip"),Rt.play()}),s===0&&l.click()}pn.textContent=o[t].level,mn.textContent=o[t].hp[0]+" /"+o[t].hp[1],rn.textContent=o[t].xp[0]+" /"+o[t].xp[1],fn.textContent=o[t].mp,un.textContent=o[t].off,vn.textContent=o[t].coin;break}else t++;console.log("render skill")},Gs=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(t){t.classList.remove("clickEquip")})};we.addEventListener("click",()=>{let e=o[n.targetKey_index].equip[n.targetEquip_index];if(e===11?(n.targetMdse_index=5,o[n.targetKey_index].off-=1):e===12?(n.targetMdse_index=6,o[n.targetKey_index].off-=2):e===13&&(n.targetMdse_index=7,o[n.targetKey_index].off-=3),e!==0){let t=W[n.targetMdse_index];i[n.now_slot].currMoney+=t.price/2}o[n.targetKey_index].equip[n.targetEquip_index]=0,H(o[n.targetKey_index].code),Qt.play()});const Ks=e=>{n.curr_scene==="shop"&&(console.log("keyDown code",n.curr_key),n.curr_key=e.keyCode,H(n.curr_key))};Y.addEventListener("click",()=>{F(0),$.play()});Z.addEventListener("click",()=>{F(1),$.play()});J.addEventListener("click",()=>{F(2),$.play()});qe.addEventListener("click",()=>{F(3),$.play()});he.addEventListener("click",()=>{F(4),$.play()});window.addEventListener("keydown",Ks);const Rs=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],Ft=document.createElement("div"),Ht=document.createElement("div"),Fe=document.createElement("div"),Vt=document.createElement("div"),Ye=document.createElement("div"),Pt=document.createElement("div"),Ot=document.createElement("div"),oo=document.createElement("div"),I=document.createElement("div"),re=document.createElement("div"),Ze=document.createElement("div"),nt=document.createElement("div");Ft.id="shopContainer";Ht.id="mdseContainer";Fe.id="mdseArea";Vt.id="shopCounter";Ye.id="mdseBankArea";Pt.id="mdseInfoArea";Ot.id="mdseInfoName";oo.id="bankImg";I.id="userMoney";re.id="usergetCoin";Ze.id="mdseInfoBox";nt.id="shopPurchaseBtn";Ze.classList.add("scrollbar");I.textContent=0;nt.textContent="Buy";const so=e=>{if(Ye.append(Ot,I,re,oo),Pt.append(Ze,nt),Vt.append(Ye,Pt),Ft.append(Ht,Vt),I.textContent=i[n.now_slot].currMoney,re.textContent="+"+n.key_getCoin,re.classList.add("getCoin"),Fe.innerHTML="",W.forEach((t,s)=>{const l=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");l.append(a,d,u),l.classList.add("mdseItem"),a.classList.add("mdseName"),d.classList.value="",d.classList.add("mdseImg"),d.classList.add(Rs[s]),u.classList.add("mdsePrice"),a.textContent=t.name,u.textContent=t.price.toString(),Fe.appendChild(l),Ht.appendChild(Fe),l.addEventListener("click",()=>{Us(),n.targetMdse_index=s,Ot.textContent=t.name,Ze.textContent=t.info,d.classList.add("clickMdse"),Rt.play()}),s===0&&l.click()}),n.key_battle!=[]){for(let t=0;t<o.length;t++)for(let s=0;s<n.key_battle.length;s++)n.key_battle[s]===o[t].code&&(o[t].xp[0]+=1,o[t].xp[0]>=o[t].xp[1]&&(o[t].level+=1,o[t].xp[0]=0));n.key_battle=[]}return console.log("import shop"),e.appendChild(Ft)},Us=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(t){t.classList.remove("clickMdse")})};nt.addEventListener("click",()=>{let e=W[n.targetMdse_index];e.price>i[n.now_slot].currMoney||(i[n.now_slot].currMoney-=e.price,I.textContent=i[n.now_slot].currMoney,Qs(e),H(n.curr_key),Qt.play())});we.addEventListener("click",()=>{I.textContent=i[n.now_slot].currMoney});const Qs=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let s=o[t].equip.indexOf(0);e.name==="Heal"?o[t].hp[1]>o[t].hp[0]&&(o[t].hp[0]+=1):e.name==="Experience"?o[t].xp[1]>o[t].xp[0]?o[t].xp[0]+=1:(o[t].level+=1,o[t].xp[0]=0,i[n.now_slot].hint===10&&(i[n.now_slot].hint=11,w())):e.name==="Fighter"?o[t].class=1:e.name=="Wizard"?o[t].class=2:e.name==="Rogue"?o[t].class=3:e.name==="Sword_1"?o[t].equip[s]=11:e.name==="Sword_2"?o[t].equip[s]=12:e.name==="Sword_3"?o[t].equip[s]=13:e.name==="Shield_1"?o[t].equip[s]=4:e.name==="Shield_2"&&(o[t].equip[s]=5);break}else t++;H(n.curr_key),m(en,Ae),m(tn,xe),m(nn,Le),m(on,_e),m(sn,ye),console.log("render keycap")};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),i[n.now_slot].currMoney+=n.key_getCoin,n.key_getCoin=0,I.textContent=i[n.now_slot].currMoney,Ye.removeChild(re),Nn.play())});const Ws=[{name:"sword_1",price:10,info:"heal + 1"},{name:"sword_2",price:20,info:"Experience + 1"},{name:"sword_3",price:10,info:"fighter suit"},{name:"sheild_1",price:20,info:"wizard suit"},{name:"sheild_2",price:30,info:"rogue suit"},{name:"sheild_3",price:50,info:"druid suit"}],io=document.createElement("div"),lo=document.createElement("div"),Ys=document.createElement("div"),hn=document.createElement("div"),An=document.createElement("div"),xn=document.createElement("div"),ao=document.createElement("div"),co=document.createElement("div"),ot=document.createElement("div"),Ln=document.createElement("div"),st=document.createElement("div");io.id="shopContainer";lo.id="mdseContainer";Ys.id="mdseArea";hn.id="shopCounter";An.id="mdseBankArea";xn.id="mdseInfoArea";ao.id="mdseInfoName";co.id="bankImg";ot.id="userMoney";Ln.id="mdseInfoBox";st.id="treasBuyBtn";Ln.classList.add("scrollbar");ot.textContent=0;st.textContent="Buy";An.append(ao,ot,co);xn.append(Ln,st);hn.append(An,xn);io.append(lo,hn);st.addEventListener("click",()=>{let e=Ws[n.targetMdse_index];e.price>i[n.now_slot].currMoney||(i[n.now_slot].currMoney-=e.price,ot.textContent=i[n.now_slot].currMoney,Zs(e),H(n.curr_key))});const Zs=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let s=o[t].equip.indexOf(0);e.name==="sword_1"?o[t].equip[s]=1:e.name==="sword_2"?o[t].equip[s]=2:e.name==="sword_3"?o[t].equip[s]=3:e.name==="shield_1"?o[t].equip[s]=4:(e.name==="shield_2"||e.name==="shield_3")&&(o[t].equip[s]=5);break}else t++;H(n.curr_key),m(en,Ae),m(tn,xe),m(nn,Le),m(on,_e),m(sn,ye)},Gt=document.createElement("label"),M=document.createElement("div"),Je=document.createElement("div"),L=document.createElement("label"),_n=document.createElement("div"),it=document.createElement("div"),lt=document.createElement("div"),at=document.createElement("div"),yn=document.createElement("div");Gt.id="titleArea";L.id="titleLabel";M.id="nextLvlBtn";M.textContent="NEXT";Je.id="titShopDiv";_n.id="titShopBtn";it.id="titTreasureBtn";lt.id="titBugCollBtn";at.id="titKeyCollBtn";yn.id="titDictBtn";it.classList.add("lock_img");lt.classList.add("lock_img");at.classList.add("lock_img");const Js=(e,t)=>{if(i[n.now_slot])return console.log("import tit",t),L.textContent=n.curr_boss.name,M.style.display="none",Gt.append(L,Je,M),e.append(Gt)};M.addEventListener("click",()=>{M.classList.add("shopFin"),p.play()});_n.addEventListener("click",()=>{const e=document.getElementById("middleArea");L.textContent="Shop",e.innerHTML="",qn(e),so(e),p.play()});it.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Treasure",p.play()});lt.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Bug Collection",p.play()});at.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Keyboard",p.play()});yn.addEventListener("click",()=>{po(),F(0),p.play()});const po=()=>{const e=document.getElementById("middleArea");L.textContent="Dictionary",e.innerHTML="",qn(e),Ns(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(L.textContent="Shop",Je.append(_n,it,lt,at,yn),M.style.display="block"):e.animationName==="prolFightFinAnim"&&(Je.innerHTML="",L.textContent="name: "+n.curr_boss.name,M.style.display="none")});const He=document.createElement("div"),Kt=document.createElement("div"),k=document.createElement("div"),te=document.createElement("div");He.id="gameArea";Kt.id="headArea";k.id="middleArea";te.id="keyBoardArea";window.addEventListener("keydown",e=>{if(e.keyCode===27){const t=document.getElementById("app");go(t)}});const ct=e=>{Wn(),i[n.now_slot].currLevel===0?(console.log("RDR tutorial"),Xo(e)):(gt(e),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),i[n.now_slot].currLevel=1,console.log("tourFin lvl",i[n.now_slot].currLevel);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="tour",ct(t)}else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),console.log("scene now: ",n.curr_scene),k.innerHTML="",te.innerHTML="",qn(k),H(49),so(k),ve(te),n.curr_scene="shop",le.click();else if(e.animationName==="shopFinAnim"){e.target.classList.remove("shopFin"),console.log("next lvl");const t=document.querySelector("#app");t.innerHTML="",gt(t)}else if(e.animationName==="prolFightFinAnim"){e.target.classList.remove("prolFightFin"),console.log("scene now: ",n.curr_scene);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="battle",le.click(),He.innerHTML="",k.innerHTML="",t.appendChild(He),Js(Kt,i[n.now_slot].currLevel),ve(te),ue(k),Qn(k),He.append(Kt,k,te),Wn(),Rn(t),i[n.now_slot].hint<12&&w()}else if(e.animationName==="prolPassFinAnim"){e.target.classList.remove("prolPassFin");const t=document.querySelector("#app");t.innerHTML="",i[n.now_slot].currLevel+=1,gt(t)}else e.animationName==="bossWinAnim"&&(e.target.classList.remove("bossWinAnim"),console.log("you lose! back to lvl 1"),i[n.now_slot].currLevel=1,i[n.now_slot].challengeTime+=1,i[n.now_slot].currMoney=200,n.curr_scene="battle",le.click())});const zs=()=>{const e=document.querySelector("#app");Eo(e)};zs();Hn.addEventListener("click",()=>{app.innerHTML="",ct(app)});Vn.addEventListener("click",()=>{app.innerHTML="",ct(app)});Pn.addEventListener("click",()=>{app.innerHTML="",ct(app)});ne.addEventListener("click",()=>{app.innerHTML="",qt(app)});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&qt(app),event.animationName==="openingFinAnim"?(event.target.classList.remove("openingFin"),console.log("opening finish"),app.removeChild(openingArea)):event.animationName==="bossWinAnim"&&(console.log("you lose! back to lvl 1"),app.innerHTML="",qt(app))});
