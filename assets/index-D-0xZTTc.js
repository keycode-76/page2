(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();const we=document.createElement("div"),Ln=document.createElement("div");document.createElement("div");we.id="openingArea";Ln.id="openingDiv";const jn=e=>(we.appendChild(Ln),we.classList.add("openingFin"),e.appendChild(we)),$n="/page2/assets/btn_2-x7v2jOeS.mp3",eo="/page2/assets/slot_1-BTjXaHny.wav",to="/page2/assets/hint_1-CGGxhJa2.wav",no="data:audio/mpeg;base64,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",oo="/page2/assets/lose_1-B4UCIDkq.wav",so="/page2/assets/win_1-BGr8rV3N.wav",io="/page2/assets/buy_1-BOFyt1Rj.mp3",ao="/page2/assets/coin_2-l7ffaYco.wav",lo="/page2/assets/info_2-DqiafzHX.wav",co="/page2/assets/lock_1-CPU6wXwn.wav",p=new Audio($n),_n=new Audio(eo),po=new Audio(to),yn=new Audio(no),ro=new Audio(oo),mo=new Audio(so),wn=new Audio(io),fo=new Audio(ao),fe=new Audio(lo);new Audio(co);p.volume=.2;yn.volume=.5;const x=(e,t)=>{const i=document.createElement("button");return i.textContent=e,i.addEventListener("click",t),i},uo="/page2/assets/menu-DFmr72KD.m4a",g=new Audio(uo);g.muted=!0;g.autoplay=!0;const Qe=document.createElement("button"),O=document.createElement("div"),Le=document.createElement("div"),it=document.createElement("label"),Ce=document.createElement("button"),$=document.createElement("button"),ee=document.createElement("div"),_e=document.createElement("div"),at=document.createElement("label"),Ee=document.createElement("button"),G=document.createElement("button"),te=document.createElement("div"),ke=document.createElement("div"),vn=document.createElement("div"),ge=document.createElement("button"),dt=Qe.cloneNode(!0),vo=()=>{O.id="pauseArea",Le.id="pauseDiv",it.id="pauseLabel",Ce.id="resumeBtn",$.id="setBackMenuBtn",ee.id="settingArea",_e.id="settingDiv",at.id="settingLabel",Ee.id="setScreenBtn",G.id="setMusicBtn",ge.id="setBackBtn",ee.className="overlay",O.className="overlay",Le.className="setDivBox",_e.className="setDivBox",te.className="audioBar",ke.className="audioSlider",vn.className="audioDot",Qe.textContent="setting",dt.textContent="setting",it.textContent="- pause -",Ce.textContent="resume",$.textContent="back to Menu",at.textContent="- setting -",Ee.textContent="fullscreen",G.textContent="Music Play",ge.textContent="back",ke.appendChild(vn),te.appendChild(ke),ee.appendChild(_e),O.appendChild(Le),_e.append(at,Ee,G,te,ge),Le.append(it,Ce,dt,$)};vo();const qo=e=>{e.appendChild(O)};Qe.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ee),p.play()});ge.addEventListener("click",()=>{let t=event.target.parentNode.parentNode;t.parentNode.removeChild(t),p.play()});Ee.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});let lt=!0;G.addEventListener("click",()=>{lt?(g.muted=!0,lt=!1,G.textContent="Music Mute"):(g.muted=!1,g.play(),lt=!0,G.textContent="Music Play")});Ce.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(O)});dt.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ee)});$.addEventListener("click",()=>{app.removeChild(O)});let Vt=!1;te.addEventListener("mousedown",function(e){Vt=!0,Pt(e.clientX)});document.addEventListener("mousemove",function(e){Vt&&Pt(e.clientX)});document.addEventListener("mouseup",function(e){Vt=!1});const Pt=function(e,t){let i,a=te;if(t)i=t*100;else{var l=e-a.offsetLeft;i=100*l/a.clientWidth}i>100&&(i=100),i<0&&(i=0),ke.style.width=i+"%",g.volume=i/100};window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"&&(g.muted=!1,g.play(),Pt(498))});let n={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0},ce=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0}],Cn=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],ho=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],Ao=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],s,o;const ye=localStorage.getItem("threeSlot");!ye||ye==="undefined"||ye==="null"?s=ce:s=JSON.parse(ye);const Ne={1:Cn,2:ho,3:Ao},xo=e=>{if(e===0)return;const t=e,i=`cardData_${t}`,a=localStorage.getItem(i);!a||a==="undefined"||a==="null"?Ne[t]?o=Ne[t]:o=Cn:o=JSON.parse(a),console.log("RDR userData")},Lo=()=>{n.now_slot!==0&&(ce=s,localStorage.setItem("threeSlot",JSON.stringify(ce)))},ne=document.createElement("button"),Ot=document.createElement("button");ne.textContent="SAVE";Ot.textContent="reset";ne.addEventListener("click",()=>{if(n.now_slot===0)return;console.log("save"),Lo(),ce=s,localStorage.setItem("threeSlot",JSON.stringify(ce));const e=n.now_slot;Ne[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(Ne[e]))});Ot.addEventListener("click",()=>{console.log("reset");const e=n.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),n.now_slot=0});const K=document.createElement("div"),Me=document.createElement("div"),Gt=document.createElement("div"),En=document.createElement("div");K.id="menuArea";Me.id="menuDiv";Gt.id="menuImgDiv";En.id="menuImg";Gt.appendChild(En);const Z=document.createElement("div"),D=document.createElement("div"),Kt=document.createElement("label"),kn=x("X",()=>{Rt(1)}),gn=x("X",()=>{Rt(2)}),Mn=x("X",()=>{Rt(3)}),_o=x("",()=>{We(1)}),yo=x("",()=>{We(2)}),wo=x("",()=>{We(3)});_o.classList.add("slotDel_btn");yo.classList.add("slotDel_btn");wo.classList.add("slotDel_btn");D.id="saveSlotDiv";Kt.id="saveSlotLabel";Z.classList.add("overlay");D.classList.add("setDivBox");Kt.textContent="- Load -";const Co=x("Back",()=>ko()),pt=e=>{n.curr_scene="menu",Me.innerHTML="";const t=x("Start",()=>Eo(K)),i=x("Quit",()=>go());return Me.append(t,Qe,i),K.append(Gt,Me),e.appendChild(K)},Dn=()=>{Z.innerHTML="",D.innerHTML="",D.appendChild(Kt),s.forEach((e,t)=>{if(t===0)return;const i=document.createElement("div"),a=document.createElement("div");if(i.classList.add("slotDiv"),a.classList.add("slot_btn"),a.textContent=e.slotName,i.appendChild(a),e.slotName!=="New Game"){const l=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),E=document.createElement("div"),st=document.createElement("div"),un=x("X",()=>{We(t)});l.classList.add("slotInfo"),d.classList.add("slotCHAL"),u.classList.add("slotGrade"),E.classList.add("slotMoney"),st.classList.add("slotLevel"),un.classList.add("slotDel_btn"),d.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,u.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,E.innerHTML=`<h4>money</h4>${e.currMoney}`,st.innerHTML=`<h4>level</h4>${e.currLevel}`,l.append(d,u,E,st),a.appendChild(l),i.appendChild(un)}D.appendChild(i),Z.appendChild(D),a.addEventListener("click",()=>{t===1?kn.click():t===2?gn.click():t===3&&Mn.click()})}),D.appendChild(Co)},Eo=e=>{e.appendChild(Z),Dn(),p.play()},ko=()=>{K.removeChild(Z),p.play()},Rt=e=>{n.now_slot=e,xo(e),s[e].slotName==="New Game"&&(s[e].challengeTime=0,s[e].boardGrade=0,s[e].currMoney=200,s[e].currLevel=0,s[e].treasureCol=0,s[e].bossCol=0),s[e].slotName="data_"+e,K.removeChild(Z),p.play(),music_1.pause()},We=e=>{n.now_slot=e,s[e].slotName="New Game",s[e].challengeTime=0,s[e].boardGrade=0,s[e].currMoney=200,s[e].currLevel=0,s[e].hint=0,Ot.click(),Dn(),p.play()},go=()=>{window.close()},qn=[{move:"",info:"There's a kind of alien living in electronic devices. They constantly scan until they take over the computer."},{move:"",info:"Catch the aliens and upgrade your keyboard."},{move:"Enter text.",info:"This is your weppend Keyboard."},{move:"",info:"Here is the attack power of keyboard keys. Attack power integration."},{move:"Press Back key.",info:"The attack is triggered only after inputting the final character. Before that, you can press the back key to clear the attack area."},{move:"Enter the letter.",info:"The alien's weakness will appear in the form of text. Entering the corresponding text can deplete the alien's stamina. Please give it a try."},{move:"",info:"Alien's stamina reaching zero indicates a successful capture."},{move:"",info:"Now lets start capturing the first alien."},{move:"",info:""},{move:"mission 1",info:"Choosing a class for a keycap."},{move:"mission 2",info:"Upgrade a keycap to level two."},{move:"mission 3",info:"Grade the keyboard up a level."}],r=document.createElement("div"),c=document.createElement("div"),rt=document.createElement("div"),mt=document.createElement("div"),bn=document.createElement("div"),Bn=document.createElement("div");c.id="hintDiv";r.id="hintArea";rt.className="hintInfo";mt.id="hintMove";bn.id="hint_img1";Bn.id="hint_img2";const Sn=e=>e.appendChild(r),w=()=>{po.play(),console.log(s[n.now_slot].hint),rt.textContent=qn[s[n.now_slot].hint].info,c.append(rt,mt),mt.textContent=qn[s[n.now_slot].hint].move,s[n.now_slot].hint===0?(r.appendChild(bn),r.appendChild(c),c.classList.add("hint1")):s[n.now_slot].hint===1?(r.innerHTML="",r.appendChild(Bn),r.appendChild(c),c.classList.add("hint1")):s[n.now_slot].hint===2?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint2")):s[n.now_slot].hint===3?(c.classList.value="",r.appendChild(c),c.classList.add("hint3")):s[n.now_slot].hint===4?(c.classList.value="",r.appendChild(c),c.classList.add("hint4")):s[n.now_slot].hint===5?(c.classList.value="",r.appendChild(c),c.classList.add("hint5")):s[n.now_slot].hint===6?(c.classList.value="",r.appendChild(c),c.classList.add("hint6")):s[n.now_slot].hint===7?(c.classList.value="",r.appendChild(c),c.classList.add("hint7")):s[n.now_slot].hint===8?(c.classList.value="",r.appendChild(c),c.classList.add("hint8")):s[n.now_slot].hint===9?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint9")):s[n.now_slot].hint===10?(c.classList.value="",r.appendChild(c),c.classList.add("hint10")):s[n.now_slot].hint===11?(c.classList.value="",r.appendChild(c),c.classList.add("hint11")):s[n.now_slot].hint===12&&(c.classList.value="")},Mo=["off_0_1","off_0_2","off_0_3"],Do=["off_1_1","off_1_2","off_1_3"],hn=["off_2_1","off_2_2","off_2_3"],bo=["off_3_1","off_3_2","off_3_3"];let _=0,Nn=0,q=0,ft=0;const De=document.createElement("div"),ut=document.createElement("div"),Bo=document.createElement("div"),vt=document.createElement("div"),S=document.createElement("div"),qt=document.createElement("div"),de=document.createElement("label"),ht=document.createElement("div"),At=document.createElement("div"),R=document.createElement("div"),J=document.createElement("div"),oe=document.createElement("div"),se=document.createElement("div");oe.textContent="K.O";se.textContent="You Lose";De.id="battleDiv";ut.id="bossContainer";Bo.id="bossTitle";vt.id="bossDiv";S.id="bossImg";ht.id="attackArea";At.id="scoreDiv";J.id="cardContainer";qt.classList.add("bossBloodDiv");de.classList.add("bossBloodLabel");const pe=e=>{q=0,_=n.curr_boss.blood,Nn=n.curr_boss.reward,Te=[],J.innerHTML="",De.innerHTML="",oe.classList.value="",oe.className="userWin",se.classList.value="",se.className="userLose",S.classList.value="",S.classList.add(n.curr_boss.id),qt.appendChild(de),de.textContent=_,R.textContent="0",At.appendChild(R),vt.append(se,oe,S),ut.append(vt,qt),ht.append(At,J),De.append(ut,ht),e.append(De),console.log("import battle")};let Te=[];const So=e=>{if(n.curr_scene!=="battle"||typeof e.keyCode!="number")return;let t=0;for(;t<o.length;){if(o[t].code===e.keyCode){Te.push(e.keyCode);const i=document.createElement("label"),a=document.createElement("div");a.classList.value="",a.className="cardDiv fadeIn",o[t].class===1?a.classList.add(Do[o[t].level-1]):o[t].class===2?a.classList.add(hn[o[t].level-1]):o[t].class===3?a.classList.add(bo[o[t].level-1]):o[t].class===4?a.classList.add(hn[o[t].level-1]):a.classList.add(Mo[o[t].level-1]),i.classList.add("cardOff"),a.textContent=o[t].name,i.textContent=o[t].off,q+=o[t].off,q*=o[t].mp,ft+=o[t].coin,a.appendChild(i),J.appendChild(a);break}t++}e.keyCode===8&&(J.innerHTML="",q=0,ft=0),R.textContent=q};window.addEventListener("keydown",So);window.addEventListener("animationend",e=>{if(!(n.now_slot===0||s[n.now_slot].currScene==="shop")){if(e.animationName==="finLabelAnim")e.target.classList.remove("finLabel"),n.key_battle=n.key_battle.concat(Te),Te=[],J.innerHTML="",console.log(q,_),_-=q,R.textContent=q,n.key_getCoin+=ft,_<1&&s[n.now_slot].currLevel!=0&&(oe.classList.add("KO"),S.classList.add("finBoss"),de.textContent=0,mo.play()),q=0,R.classList.add("attactScore");else if(e.animationName==="attactScoreAnim")e.target.classList.remove("attactScore"),R.textContent=q,de.textContent=_,yn.play();else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),s[n.now_slot].currLevel+=1,_=n.curr_boss.blood,s[n.now_slot].currMoney+=Nn,S.classList.value="",q=0;else if(e.animationName==="lvlFinAnim"){if(n.codeLength_is0&&_>0&&(se.classList.add("LOSE"),S.classList.add("bossWin"),console.log("battle lose",n.codeLength_is0),ro.play()),s[n.now_slot].currLevel>=BOSS_ARR.length)return;_=BOSS_ARR[s[n.now_slot].currLevel].blood}}});const xt=document.createElement("div"),P=document.createElement("div"),C=document.createElement("input"),Ie=document.createElement("label");let An=!1;xt.id="codeAreaDiv";P.id="labelContainer";C.id="codingInput";C.setAttribute("autocomplete","off");C.setAttribute("type","text");Ie.id="lvlComText";Ie.textContent="";const No=5,Lt=e=>{if(n.codeLength_is0=!1,s[n.now_slot].currLevel>=No)return;if(P.innerHTML="",An=e.every(i=>i.done),An)return n.codeLength_is0=!0,Ie.classList.add("lvlFin"),P.appendChild(Ie);let t=0;e.forEach((i,a)=>{if(i.done||P.childElementCount>=5)return;const l=document.createElement("label"),d=document.createElement("label");l.className="codeLabelDiv",d.className="codeLabel",d.style.animationDelay=t+"ms",t+=200,i.content.split("").forEach(u=>{const E=document.createElement("span");E.textContent=u,E.textContent===" "&&(E.style.width="10px"),d.appendChild(E)}),l.appendChild(d),P.append(l),C.addEventListener("input",()=>{To(i,d)})}),p.play(),console.log("render code")},Tn=e=>{n.boss_code.forEach(t=>{t.done=!1}),Lt(n.boss_code),xt.append(P,C),e.append(xt)},To=(e,t)=>{let i=C.value.toString(),a=i.split("");const l=a.length-1;if(t.children.length-1>=l&&l>=0&&t.children[l].textContent===i[l]&&t.children[l].classList.add("activeLabel"),e.content===i){if(t.classList.add("finLabel"),e.done===!0||s[n.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(d=>{d.classList.remove("activeLabel")}),e.done=!0,a=[]}};window.addEventListener("keydown",e=>{C.focus(),e.keyCode==8&&(C.value="",document.querySelectorAll(".activeLabel").forEach(t=>{t.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?Lt(n.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),C.value="",Lt(n.boss_code),console.log("finLabAnim : end"))});const Io=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],Fo=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],Ho=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],Ut=[{name:"Esc",code:27,pos:"office",width:"25px"},{name:"1",code:49,pos:"field",width:"25px"},{name:"2",code:50,pos:"field",width:"25px"},{name:"3",code:51,pos:"field",width:"25px"},{name:"4",code:52,pos:"field",width:"25px"},{name:"5",code:53,pos:"field",width:"25px"},{name:"6",code:54,pos:"field",width:"25px"},{name:"7",code:55,pos:"field",width:"25px"},{name:"8",code:56,pos:"field",width:"25px"},{name:"9",code:57,pos:"field",width:"25px"},{name:"0",code:48,pos:"field",width:"25px"},{name:"-",code:189,pos:"field",width:"25px"},{name:"=",code:187,pos:"field",width:"25px"},{name:"Back",code:8,pos:"office",width:"74px"}],Qt=[{name:"Tab",code:9,pos:"office",width:"50px"},{name:"Q",code:81,pos:"field",width:"25px"},{name:"W",code:87,pos:"field",width:"25px"},{name:"E",code:69,pos:"field",width:"25px"},{name:"R",code:82,pos:"field",width:"25px"},{name:"T",code:84,pos:"field",width:"25px"},{name:"Y",code:89,pos:"field",width:"25px"},{name:"U",code:85,pos:"field",width:"25px"},{name:"I",code:73,pos:"field",width:"25px"},{name:"O",code:79,pos:"field",width:"25px"},{name:"P",code:80,pos:"field",width:"25px"},{name:"[",code:219,pos:"field",width:"25px"},{name:"]",code:221,pos:"field",width:"25px"},{name:"\\",code:220,pos:"office",width:"50px"}],Wt=[{name:"CapsLock",code:20,pos:"office",width:"70px"},{name:"A",code:65,pos:"field",width:"25px"},{name:"S",code:83,pos:"field",width:"25px"},{name:"D",code:68,pos:"field",width:"25px"},{name:"F",code:70,pos:"field",width:"25px"},{name:"G",code:71,pos:"field",width:"25px"},{name:"H",code:72,pos:"field",width:"25px"},{name:"J",code:74,pos:"field",width:"25px"},{name:"K",code:75,pos:"field",width:"25px"},{name:"L",code:76,pos:"field",width:"25px"},{name:";",code:186,pos:"field",width:"25px"},{name:"'",code:222,pos:"field",width:"25px"},{name:"Enter",code:13,pos:"office",width:"60px"}],Yt=[{name:"Shift",code:16,pos:"office",width:"79px"},{name:"Z",code:90,pos:"field",width:"25px"},{name:"X",code:88,pos:"field",width:"25px"},{name:"C",code:67,pos:"field",width:"25px"},{name:"V",code:86,pos:"field",width:"25px"},{name:"B",code:66,pos:"field",width:"25px"},{name:"N",code:78,pos:"field",width:"25px"},{name:"M",code:77,pos:"field",width:"25px"},{name:",",code:188,pos:"field",width:"25px"},{name:".",code:190,pos:"field",width:"25px"},{name:"/",code:191,pos:"field",width:"25px"},{name:"Shift",code:16,pos:"office",width:"79px"}],Zt=[{name:"Ctrl",code:17,pos:"office",width:"40px"},{name:"Win",code:91,pos:"office",width:"40px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Space",code:32,pos:"office",width:"232px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Fn",code:0,pos:"office",width:"25px"},{name:"Ctrl",code:17,pos:"office",width:"40px"}];let Jt=document.createElement("div");Jt.classList.add("keyContainer");let ue=document.createElement("div");ue.classList.add("keyLine");let ve=document.createElement("div");ve.classList.add("keyLine");let qe=document.createElement("div");qe.classList.add("keyLine");let he=document.createElement("div");he.classList.add("keyLine");let Ae=document.createElement("div");Ae.classList.add("keyLine");Jt.append(ue,ve,qe,he,Ae);const m=(e,t)=>{t.innerHTML="",e.forEach(i=>{let a=document.createElement("div");if(a.textContent=i.name,a.id=i.code,a.style.width=i.width,t.append(a),i.pos==="field"){a.classList.value="";let l=0;for(;l<o.length;){if(o[l].code===i.code){o[l].class===1?(a.classList.add(Io[o[l].level-1]),a.classList.add("keyFighterLv1")):o[l].class===2?(a.classList.add(Fo[o[l].level-1]),a.classList.add("keyWizard")):o[l].class===3?(a.classList.add(Ho[o[l].level-1]),a.classList.add("keyRogue")):a.classList.add("keyCivilian");break}l++}}else a.classList.add("keyOffice");a.classList.add("keycap")})},re=e=>{e.append(Jt),m(Ut,ue),m(Qt,ve),m(Wt,qe),m(Yt,he),m(Zt,Ae)},Vo=e=>{if(typeof e.keyCode!="number"||n.curr_scene!=="battle")return;const t=document.querySelector(`div[id="${e.keyCode}"`);t.classList.add("keyDownAnim"),setTimeout(()=>{t.classList.remove("keyDownAnim")},100)};window.addEventListener("keydown",Vo);const v=document.createElement("div"),A=document.createElement("div"),z=document.createElement("div"),Ye=document.createElement("button"),f=document.createElement("button");Ye.textContent="PASS";f.textContent="next";v.id="tutorialArea";A.id="middleTArea";z.id="keyboardTArea";Ye.id="tourPassBtn";f.id="tourNextBtn";v.append(A,z);const Po=e=>(Sn(v),w(),v.appendChild(f),f.classList.add("nextBtn1"),e.append(v,Ye));Ye.addEventListener("click",()=>{v.classList.add("tourFin"),s[n.now_slot].hint=9,p.play()});f.addEventListener("click",()=>{console.log("hint",s[n.now_slot].hint+1),s[n.now_slot].hint+=1,w(),s[n.now_slot].hint===2?(re(z),v.removeChild(f),n.curr_scene="battle"):s[n.now_slot].hint===4?(v.removeChild(f),pe(A)):s[n.now_slot].hint===7?(v.appendChild(f),f.classList.add("nextBtn7"),A.innerHTML=""):s[n.now_slot].hint===8&&(A.innerHTML="",z.innerHTML="",v.classList.add("tourFin"),s[n.now_slot].hint=9,console.log(888)),p.play()});window.addEventListener("keydown",e=>{if(s[n.now_slot].hint===2)s[n.now_slot].hint=3,pe(A),re(z),w(),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn3");else if(e.keyCode===8)if(s[n.now_slot].hint===4)s[n.now_slot].hint=5,pe(A),Tn(A),re(z),w();else return;else return});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&s[n.now_slot].hint===5&&(s[n.now_slot].hint=6,A.innerHTML="",pe(A),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn6"),w())});document.createElement("div");const In=e=>{let t=o.length,a=o.filter(l=>l.level===1).length/t;a*=10,a<5&&(s[n.now_slot].boardGrade=2,s[n.now_slot].hint===11&&(s[n.now_slot].hint=12,w()))},Oo=[{content:"let",done:!1},{content:"const",done:!1},{content:"1",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],Go=[{content:"let",done:!1},{content:"const",done:!1},{content:"2",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],Ko=[{content:"let",done:!1},{content:"const",done:!1},{content:"3",done:!1},{content:"let=0",done:!1},{content:"variable",done:!1}],Ro={id:"boss_1_1",name:"Octopus",blood:24,reward:100},Uo={id:"boss_1_2",name:"Bat",blood:20,reward:100},Qo={id:"boss_1_3",name:"Spider",blood:15,reward:1e3},Wo=[{content:"String",done:!1},{content:"Number",done:!1},{content:"Boolean",done:!1},{content:"Undefined",done:!1},{content:"Null",done:!1}],Yo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Zo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],Jo={id:"boss_2_1",name:"Kobold",blood:2,reward:2e5},zo={id:"boss_2_2",name:"Skeleton",blood:2,reward:2e5},Xo={id:"boss_2_3",name:"23",blood:2,reward:2e5},jo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],$o=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],es=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ts={id:"boss_3_1",name:"31",blood:5,reward:1e3},ns={id:"boss_3_2",name:"32",blood:5,reward:1e3},os={id:"boss_3_3",name:"33",blood:5,reward:1e3},ss=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],is=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],as=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ls={id:"boss_4_1",name:"41",blood:2,reward:1e3},cs={id:"boss_4_2",name:"42",blood:2,reward:1e3},ds={id:"boss_4_3",name:"43",blood:2,reward:1e3},y=document.createElement("div"),Fe=document.createElement("div"),_t=document.createElement("div"),He=document.createElement("div"),Ve=document.createElement("div"),zt=document.createElement("div"),Ze=document.createElement("div"),Je=document.createElement("div");Fe.append(He,Ve);zt.append(Ze,Je);y.id="prologueArea";Fe.id="prolMainDiv";_t.id="prolLvlDiv";He.id="prolBounty";Ve.id="prolBlood";zt.id="prolBtnDiv";Ze.id="prolFightBtn";Je.id="prolPassBtn";Ze.textContent="fighting";Je.textContent="Pass";const yt=e=>{const t=s[n.now_slot].currLevel;return console.log("import prol",wt.length,t),y.innerHTML="",t<wt.length?(As(t),_t.textContent="Level. "+t,He.textContent="Bounty: "+n.curr_boss.reward,Ve.textContent="score: "+n.curr_boss.blood,y.append(_t,Fe,zt)):(He.textContent="Thank you for playing this far! The next levels and new features are currently in development.",Ve.textContent="Stay tuned",y.appendChild(Fe)),e.appendChild(y)},Fn=[Oo,Go,Ko],ps=[Wo,Yo,Zo],rs=[jo,$o,es],ms=[ss,is,as],fs=[Ro,Uo,Qo],us=[Jo,zo,Xo],vs=[ts,ns,os],qs=[ls,cs,ds],wt=[0,Fn,ps,rs,ms],hs=[0,fs,us,vs,qs],As=e=>{let t=0;t=Math.floor(Math.random()*Fn.length);let i=wt[e],a=hs[e];n.boss_code=i[t],n.curr_boss=a[t],console.log("RDR boss",a[t])};Ze.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolFightFin"),p.play()});Je.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolPassFin"),p.play()});const xn=[{title:"XP",info:"Experience points: Keyboard keys that successfully attack in each round will increase experience points. The initial experience points will only increase by one point."},{title:"HP",info:"When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power starts at one point. Equipment and experience can increase attack power."},{title:"Mp",info:"Magic"},{title:"Coin",info:"The amount of gold coins that can be stolen per round by successfully attacking keyboard buttons."},{title:"",info:""}],Ct=document.createElement("div");let T=document.createElement("div");const Et=document.createElement("div"),Xt=document.createElement("div"),N=document.createElement("div"),jt=document.createElement("div");let h=[0,1];Ct.id="dictionArea";T.id="pageContentArea";Et.id="pageBtnArea";N.id="pageDotDiv";Xt.id="pageLBtn";jt.id="pageRBtn";document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");const xs=[0,0,0,0,0],Ls=[0,0,0,0,0],ie=document.createElement("div");document.createElement("div");document.createElement("div");const be=document.createElement("div");ie.className="dict_page";be.className="dict_page";const _s=e=>{N.innerHTML="";for(let t=0;t<h[1]+1;t++){const i=document.createElement("div");i.className="pageDot",N.append(i)}Et.append(Xt,N,jt),Ct.append(T,Et),e.appendChild(Ct)},Hn=e=>{e.forEach((t,i)=>{const a=document.createElement("div"),l=document.createElement("div");l.className="blockDiv",a.className="blockInfo",l.textContent=xn[i].title,a.textContent=xn[i].info,l.appendChild(a),ie.appendChild(l)})},Vn=e=>{e===0?F(0):e===1?ys(0):e===2&&(T.textContent="p3"),console.log(N.children[e])},Pn=()=>{if(!document.getElementsByClassName("clickDict"))return;document.querySelectorAll(".clickDict").forEach(function(t){t.classList.remove("clickDict")})};Xt.addEventListener("click",()=>{console.log(h),h[0]>0&&(h[0]-=1,Vn(h[0])),p.play()});jt.addEventListener("click",()=>{h[0]<h[1]&&(h[0]+=1,Vn(h[0])),p.play()});const F=e=>{Pn(),ie.innerHTML="",T.innerHTML="",Hn(xs),T.appendChild(ie),ie.children[e].classList.add("clickDict"),h[0]=0,Xn(),N.children[0].classList.add("clickDict")},ys=e=>{Pn(),be.innerHTML="",T.innerHTML="",Hn(Ls),T.appendChild(be),be.children[e].classList.add("clickDict"),h[0]=1,N.children[1].classList.add("clickDict")},U=[{id:0,name:"Heal",price:10,info:"heal + 1"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:20,info:"wizard suit"},{id:0,name:"Rogue",price:30,info:"rogue suit"},{id:11,name:"Sword_1",price:10,info:"offence + 1"},{id:12,name:"Sword_2",price:30,info:"offence + 2"},{id:13,name:"Sword_3",price:10,info:"offence + 3"},{id:51,name:"lock",price:0,info:"unlock to know more..."},{id:52,name:"lock",price:0,info:"unlock to know more..."}],ws=["key_0_1","key_1_2","key_1_3","key_1_4"],Cs=["key_1_1","key_1_2","key_1_3","key_1_4"],Es=["key_2_1","key_2_2","key_2_3"],ks=["key_3_1","key_3_2","key_3_3"],ct=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],ze=document.createElement("div"),kt=document.createElement("div"),Pe=document.createElement("div"),gs=document.createElement("div"),Ms=document.createElement("div"),$t=document.createElement("div"),gt=document.createElement("div"),b=document.createElement("div"),On=document.createElement("div"),Mt=document.createElement("div"),B=document.createElement("div"),V=document.createElement("div"),Q=document.createElement("div"),W=document.createElement("div"),me=document.createElement("div"),Y=document.createElement("div"),Oe=document.createElement("div"),Gn=document.createElement("div"),Kn=document.createElement("div"),Rn=document.createElement("div"),Un=document.createElement("div"),en=document.createElement("div"),tn=document.createElement("div"),nn=document.createElement("div"),on=document.createElement("div"),sn=document.createElement("div"),an=document.createElement("div"),Dt=document.createElement("div"),Ge=document.createElement("div"),bt=document.createElement("div"),ae=document.createElement("div"),xe=document.createElement("button");ze.id="skillContainer";kt.id="keyHeadDiv";Pe.id="keyManNameDiv";$t.id="keyManLvl";gt.id="keyManClassDiv";b.id="keyManClassName";On.id="keyManClassIcon";Mt.id="keyManMiddle";V.id="keyManValDiv";B.id="keyManImg";Q.classList.add("keyManValDiv");W.classList.add("keyManValDiv");me.classList.add("keyManValDiv");Y.classList.add("keyManValDiv");Q.textContent="XP";W.textContent="HP";me.textContent="MP";Y.textContent="OFF";Oe.textContent="Coin";xe.textContent="Sell";en.className="keyManValDiv coin";Gn.className="keyManValIcon xp";Kn.className="keyManValIcon hp";Rn.className="keyManValIcon mp";Un.className="keyManValIcon off";en.classList.add("keyManValIcon");tn.classList.add("keyManValValue");nn.classList.add("keyManValValue");on.classList.add("keyManValValue");sn.classList.add("keyManValValue");an.classList.add("keyManValValue");Dt.id="keyManEquipArea";Ge.id="keyManEquipDiv";bt.id="keyManSellDiv";ae.id="keyManInfo";xe.id="keyManSellBtn";const X=e=>{Pe.append(gs,Ms),kt.append(Pe,$t),gt.append(On,b),Q.append(Gn,tn),W.append(Kn,nn),Y.append(Un,sn),e===1?(me.append(Rn,on),V.innerHTML="",V.append(Q,W,Y,me)):e===3&&(Oe.append(en,an),V.innerHTML="",V.append(Q,W,Y,Oe)),Mt.append(B,V),bt.append(ae,xe),Dt.append(Ge,bt),ze.append(kt,gt,Mt,Dt)},ln=e=>e.appendChild(ze),H=e=>{if(n.now_slot===0||typeof e!="number")return;let t=0;for(;t<o.length;)if(o[t].code===e){n.targetKey_index=t,Pe.textContent=o[t].name,B.classList.value="",o[t].off=1,o[t].mp=1,o[t].coin=0,ze.innerHTML="",o[t].class===1?(X(1),b.textContent="Fighter",B.classList.add(Cs[o[t].level-1]),o[t].off=2):o[t].class===2?(X(1),b.textContent="Wizard",B.classList.add(Es[o[t].level-1]),o[t].mp=1.1):o[t].class===3?(X(3),b.textContent="Rogue",B.classList.add(ks[o[t].level-1]),o[t].coin=1):o[t].class===4?(X(1),b.textContent="Druid"):(X(1),b.textContent="Civilian",B.classList.add(ws[0])),s[n.now_slot].hint===9&&o[t].class!==0&&(s[n.now_slot].hint=10,w()),Ge.innerHTML="",ae.textContent="none";for(let i=0;i<o[t].equip.length;i++){let a=document.createElement("div");a.classList.value="",a.classList.add("equipLog"),a.textContent="none",Ge.appendChild(a),o[t].equip[i]===11?(o[t].off+=1,a.classList.add(ct[5]),a.textContent=U[6].info):o[t].equip[i]===12?(o[t].off+=2,a.classList.add(ct[6]),a.textContent=U[7].info):o[t].equip[i]===13&&(o[t].off+=3,a.classList.add(ct[7]),a.textContent=U[8].info),a.addEventListener("click",()=>{Ds(),n.targetEquip_index=i,a.textContent==="none"?ae.textContent="none":ae.textContent=a.textContent,a.classList.add("clickEquip"),_n.play()}),i===0&&a.click()}$t.textContent=o[t].level,nn.textContent=o[t].hp[0]+" /"+o[t].hp[1],tn.textContent=o[t].xp[0]+" /"+o[t].xp[1],on.textContent=o[t].mp,sn.textContent=o[t].off,an.textContent=o[t].coin;break}else t++;console.log("render skill")},Ds=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(t){t.classList.remove("clickEquip")})};xe.addEventListener("click",()=>{let e=o[n.targetKey_index].equip[n.targetEquip_index];if(e===11?(n.targetMdse_index=5,o[n.targetKey_index].off-=1):e===12?(n.targetMdse_index=6,o[n.targetKey_index].off-=2):e===13&&(n.targetMdse_index=7,o[n.targetKey_index].off-=3),e!==0){let t=U[n.targetMdse_index];s[n.now_slot].currMoney+=t.price/2}o[n.targetKey_index].equip[n.targetEquip_index]=0,H(o[n.targetKey_index].code),wn.play()});const bs=e=>{n.curr_scene==="shop"&&(console.log("keyDown code",n.curr_key),n.curr_key=e.keyCode,H(n.curr_key))};Q.addEventListener("click",()=>{F(0),fe.play()});W.addEventListener("click",()=>{F(1),fe.play()});Y.addEventListener("click",()=>{F(2),fe.play()});me.addEventListener("click",()=>{F(3),fe.play()});Oe.addEventListener("click",()=>{F(4),fe.play()});window.addEventListener("keydown",bs);const Bs=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],Bt=document.createElement("div"),St=document.createElement("div"),Be=document.createElement("div"),Nt=document.createElement("div"),Ke=document.createElement("div"),Tt=document.createElement("div"),It=document.createElement("div"),Qn=document.createElement("div"),I=document.createElement("div"),le=document.createElement("div"),Re=document.createElement("div"),Xe=document.createElement("div");Bt.id="shopContainer";St.id="mdseContainer";Be.id="mdseArea";Nt.id="shopCounter";Ke.id="mdseBankArea";Tt.id="mdseInfoArea";It.id="mdseInfoName";Qn.id="bankImg";I.id="userMoney";le.id="usergetCoin";Re.id="mdseInfoBox";Xe.id="shopPurchaseBtn";Re.classList.add("scrollbar");I.textContent=0;Xe.textContent="Buy";const Wn=e=>{if(Ke.append(It,I,le,Qn),Tt.append(Re,Xe),Nt.append(Ke,Tt),Bt.append(St,Nt),I.textContent=s[n.now_slot].currMoney,le.textContent="+"+n.key_getCoin,le.classList.add("getCoin"),Be.innerHTML="",U.forEach((t,i)=>{const a=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");a.append(l,d,u),a.classList.add("mdseItem"),l.classList.add("mdseName"),d.classList.value="",d.classList.add("mdseImg"),d.classList.add(Bs[i]),u.classList.add("mdsePrice"),l.textContent=t.name,u.textContent=t.price.toString(),Be.appendChild(a),St.appendChild(Be),a.addEventListener("click",()=>{Ss(),n.targetMdse_index=i,It.textContent=t.name,Re.textContent=t.info,d.classList.add("clickMdse"),_n.play()}),i===0&&a.click()}),n.key_battle!=[]){for(let t=0;t<o.length;t++)for(let i=0;i<n.key_battle.length;i++)n.key_battle[i]===o[t].code&&(o[t].xp[0]+=1,o[t].xp[0]>=o[t].xp[1]&&(o[t].level+=1,o[t].xp[0]=0));n.key_battle=[]}return console.log("import shop"),e.appendChild(Bt)},Ss=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(t){t.classList.remove("clickMdse")})};Xe.addEventListener("click",()=>{let e=U[n.targetMdse_index];e.price>s[n.now_slot].currMoney||(s[n.now_slot].currMoney-=e.price,I.textContent=s[n.now_slot].currMoney,Ns(e),H(n.curr_key),wn.play())});xe.addEventListener("click",()=>{I.textContent=s[n.now_slot].currMoney});const Ns=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let i=o[t].equip.indexOf(0);e.name==="Heal"?o[t].hp[1]>o[t].hp[0]&&(o[t].hp[0]+=1):e.name==="Experience"?o[t].xp[1]>o[t].xp[0]?o[t].xp[0]+=1:(o[t].level+=1,o[t].xp[0]=0,s[n.now_slot].hint===10&&(s[n.now_slot].hint=11,w())):e.name==="Fighter"?o[t].class=1:e.name=="Wizard"?o[t].class=2:e.name==="Rogue"?o[t].class=3:e.name==="Sword_1"?o[t].equip[i]=11:e.name==="Sword_2"?o[t].equip[i]=12:e.name==="Sword_3"?o[t].equip[i]=13:e.name==="Shield_1"?o[t].equip[i]=4:e.name==="Shield_2"&&(o[t].equip[i]=5);break}else t++;H(n.curr_key),m(Ut,ue),m(Qt,ve),m(Wt,qe),m(Yt,he),m(Zt,Ae),console.log("render keycap")};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),s[n.now_slot].currMoney+=n.key_getCoin,n.key_getCoin=0,I.textContent=s[n.now_slot].currMoney,Ke.removeChild(le),fo.play())});const Ts=[{name:"sword_1",price:10,info:"heal + 1"},{name:"sword_2",price:20,info:"Experience + 1"},{name:"sword_3",price:10,info:"fighter suit"},{name:"sheild_1",price:20,info:"wizard suit"},{name:"sheild_2",price:30,info:"rogue suit"},{name:"sheild_3",price:50,info:"druid suit"}],Yn=document.createElement("div"),Zn=document.createElement("div"),Is=document.createElement("div"),cn=document.createElement("div"),dn=document.createElement("div"),pn=document.createElement("div"),Jn=document.createElement("div"),zn=document.createElement("div"),je=document.createElement("div"),rn=document.createElement("div"),$e=document.createElement("div");Yn.id="shopContainer";Zn.id="mdseContainer";Is.id="mdseArea";cn.id="shopCounter";dn.id="mdseBankArea";pn.id="mdseInfoArea";Jn.id="mdseInfoName";zn.id="bankImg";je.id="userMoney";rn.id="mdseInfoBox";$e.id="treasBuyBtn";rn.classList.add("scrollbar");je.textContent=0;$e.textContent="Buy";dn.append(Jn,je,zn);pn.append(rn,$e);cn.append(dn,pn);Yn.append(Zn,cn);$e.addEventListener("click",()=>{let e=Ts[n.targetMdse_index];e.price>s[n.now_slot].currMoney||(s[n.now_slot].currMoney-=e.price,je.textContent=s[n.now_slot].currMoney,Fs(e),H(n.curr_key))});const Fs=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let i=o[t].equip.indexOf(0);e.name==="sword_1"?o[t].equip[i]=1:e.name==="sword_2"?o[t].equip[i]=2:e.name==="sword_3"?o[t].equip[i]=3:e.name==="shield_1"?o[t].equip[i]=4:(e.name==="shield_2"||e.name==="shield_3")&&(o[t].equip[i]=5);break}else t++;H(n.curr_key),m(Ut,ue),m(Qt,ve),m(Wt,qe),m(Yt,he),m(Zt,Ae)},Ft=document.createElement("label"),M=document.createElement("div"),Ue=document.createElement("div"),L=document.createElement("label"),mn=document.createElement("div"),et=document.createElement("div"),tt=document.createElement("div"),nt=document.createElement("div"),fn=document.createElement("div");Ft.id="titleArea";L.id="titleLabel";M.id="nextLvlBtn";M.textContent="NEXT";Ue.id="titShopDiv";mn.id="titShopBtn";et.id="titTreasureBtn";tt.id="titBugCollBtn";nt.id="titKeyCollBtn";fn.id="titDictBtn";et.classList.add("lock_img");tt.classList.add("lock_img");nt.classList.add("lock_img");const Hs=(e,t)=>{if(s[n.now_slot])return console.log("import tit",t),L.textContent=n.curr_boss.name,M.style.display="none",Ft.append(L,Ue,M),e.append(Ft)};M.addEventListener("click",()=>{M.classList.add("shopFin"),p.play()});mn.addEventListener("click",()=>{const e=document.getElementById("middleArea");L.textContent="Shop",e.innerHTML="",ln(e),Wn(e),p.play()});et.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Treasure",p.play()});tt.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Bug Collection",p.play()});nt.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Keyboard",p.play()});fn.addEventListener("click",()=>{Xn(),F(0),p.play()});const Xn=()=>{const e=document.getElementById("middleArea");L.textContent="Dictionary",e.innerHTML="",ln(e),_s(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(L.textContent="Shop",Ue.append(mn,et,tt,nt,fn),M.style.display="block"):e.animationName==="prolFightFinAnim"&&(Ue.innerHTML="",L.textContent="name: "+n.curr_boss.name,M.style.display="none")});const Se=document.createElement("div"),Ht=document.createElement("div"),k=document.createElement("div"),j=document.createElement("div");Se.id="gameArea";Ht.id="headArea";k.id="middleArea";j.id="keyBoardArea";window.addEventListener("keydown",e=>{if(e.keyCode===27){const t=document.getElementById("app");qo(t)}});const ot=e=>{In(),s[n.now_slot].currLevel===0?(console.log("RDR tutorial"),Po(e)):(yt(e),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),s[n.now_slot].currLevel=1,console.log("tourFin lvl",s[n.now_slot].currLevel);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="tour",ot(t)}else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),console.log("scene now: ",n.curr_scene),k.innerHTML="",j.innerHTML="",ln(k),H(49),Wn(k),re(j),n.curr_scene="shop",ne.click();else if(e.animationName==="shopFinAnim"){e.target.classList.remove("shopFin"),console.log("next lvl");const t=document.querySelector("#app");t.innerHTML="",yt(t)}else if(e.animationName==="prolFightFinAnim"){e.target.classList.remove("prolFightFin"),console.log("scene now: ",n.curr_scene);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="battle",ne.click(),Se.innerHTML="",k.innerHTML="",t.appendChild(Se),Hs(Ht,s[n.now_slot].currLevel),re(j),pe(k),Tn(k),Se.append(Ht,k,j),In(),Sn(t),s[n.now_slot].hint<12&&w()}else if(e.animationName==="prolPassFinAnim"){e.target.classList.remove("prolPassFin");const t=document.querySelector("#app");t.innerHTML="",s[n.now_slot].currLevel+=1,yt(t)}else e.animationName==="bossWinAnim"&&(e.target.classList.remove("bossWinAnim"),console.log("you lose! back to lvl 1"),s[n.now_slot].currLevel=1,s[n.now_slot].challengeTime+=1,s[n.now_slot].currMoney=200,n.curr_scene="battle",ne.click())});const Vs=()=>{const e=document.querySelector("#app");jn(e)};Vs();kn.addEventListener("click",()=>{app.innerHTML="",ot(app)});gn.addEventListener("click",()=>{app.innerHTML="",ot(app)});Mn.addEventListener("click",()=>{app.innerHTML="",ot(app)});$.addEventListener("click",()=>{app.innerHTML="",pt(app)});window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"?(event.target.classList.remove("openingFin"),console.log("opening finish"),app.innerHTML="",pt(app)):event.animationName==="bossWinAnim"&&(console.log("you lose! back to lvl 1"),app.innerHTML="",pt(app))});
