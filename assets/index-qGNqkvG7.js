(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();const eo="/page2/assets/btn_2-x7v2jOeS.mp3",to="/page2/assets/slot_1-BTjXaHny.wav",no="/page2/assets/hint_1-CGGxhJa2.wav",oo="data:audio/mpeg;base64,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",so="/page2/assets/lose_1-B4UCIDkq.wav",io="/page2/assets/win_1-BGr8rV3N.wav",ao="/page2/assets/buy_1-BOFyt1Rj.mp3",lo="/page2/assets/coin_2-l7ffaYco.wav",co="/page2/assets/info_2-DqiafzHX.wav",po="/page2/assets/lock_1-CPU6wXwn.wav",ro="/page2/assets/bomb_1-Celdewrb.m4a",p=new Audio(eo),yn=new Audio(to),mo=new Audio(no),wn=new Audio(oo),fo=new Audio(so),uo=new Audio(io),Cn=new Audio(ao),vo=new Audio(lo),ve=new Audio(co);new Audio(po);const Ee=new Audio(ro);p.volume=.2;wn.volume=.5;Ee.volume=1;const Ie=document.createElement("div"),ce=document.createElement("div"),Ot=document.createElement("div");Ie.id="openingArea";ce.id="openingDiv";Ot.id="openingImg";const qo=e=>(ce.appendChild(Ot),Ie.appendChild(ce),e.appendChild(Ie));window.addEventListener("animationstart",()=>{event.animationName==="openImgAnim"&&(Ee.autoplay=!0,Ee.muted=!1,Ee.play()),event.animationName});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&(ce.classList.add("openLastImg"),ce.removeChild(Ot),Ie.classList.add("openingFin"))});const x=(e,t)=>{const i=document.createElement("button");return i.textContent=e,i.addEventListener("click",t),i},ho="/page2/assets/menu-DFmr72KD.m4a",g=new Audio(ho);g.muted=!0;g.autoplay=!0;const Ye=document.createElement("button"),O=document.createElement("div"),ye=document.createElement("div"),lt=document.createElement("label"),ke=document.createElement("button"),$=document.createElement("button"),ee=document.createElement("div"),we=document.createElement("div"),ct=document.createElement("label"),ge=document.createElement("button"),G=document.createElement("button"),te=document.createElement("div"),Me=document.createElement("div"),hn=document.createElement("div"),De=document.createElement("button"),rt=Ye.cloneNode(!0),Ao=()=>{O.id="pauseArea",ye.id="pauseDiv",lt.id="pauseLabel",ke.id="resumeBtn",$.id="setBackMenuBtn",ee.id="settingArea",we.id="settingDiv",ct.id="settingLabel",ge.id="setScreenBtn",G.id="setMusicBtn",De.id="setBackBtn",ee.className="overlay",O.className="overlay",ye.className="setDivBox",we.className="setDivBox",te.className="audioBar",Me.className="audioSlider",hn.className="audioDot",Ye.textContent="setting",rt.textContent="setting",lt.textContent="- pause -",ke.textContent="resume",$.textContent="back to Menu",ct.textContent="- setting -",ge.textContent="fullscreen",G.textContent="Music Play",De.textContent="back",Me.appendChild(hn),te.appendChild(Me),ee.appendChild(we),O.appendChild(ye),we.append(ct,ge,G,te,De),ye.append(lt,ke,rt,$)};Ao();const xo=e=>{e.appendChild(O)};Ye.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ee),p.play()});De.addEventListener("click",()=>{let t=event.target.parentNode.parentNode;t.parentNode.removeChild(t),p.play()});ge.addEventListener("click",()=>{document.querySelector("body").requestFullscreen()});let dt=!0;G.addEventListener("click",()=>{dt?(g.muted=!0,dt=!1,G.textContent="Music Mute"):(g.muted=!1,g.play(),dt=!0,G.textContent="Music Play")});ke.addEventListener("click",()=>{event.target.parentNode.parentNode.parentNode.removeChild(O)});rt.addEventListener("click",()=>{event.target.parentNode.parentNode.appendChild(ee)});$.addEventListener("click",()=>{app.removeChild(O)});let Gt=!1;te.addEventListener("mousedown",function(e){Gt=!0,Kt(e.clientX)});document.addEventListener("mousemove",function(e){Gt&&Kt(e.clientX)});document.addEventListener("mouseup",function(e){Gt=!1});const Kt=function(e,t){let i,a=te;if(t)i=t*100;else{var l=e-a.offsetLeft;i=100*l/a.clientWidth}i>100&&(i=100),i<0&&(i=0),Me.style.width=i+"%",g.volume=i/100};window.addEventListener("animationend",()=>{event.animationName==="openingFinAnim"&&(g.muted=!1,g.play(),Kt(498))});let n={now_slot:0,now_hint:0,curr_scene:"battle",curr_key:49,curr_boss:{id:"boss_0",name:"PT guy",blood:5,reward:0},boss_code:[{content:"input",done:!1}],key_battle:[],key_getCoin:0,codeLength_is0:!0,targetKey_index:0,targetEquip_index:0,targetMdse_index:0},de=[{index:0,slotName:"New Game 0",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:[0,0,0,0,0],bossCol:[0,0,0,0,0]},{index:1,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:2,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0},{index:3,slotName:"New Game",challengeTime:0,boardGrade:0,currMoney:200,currLevel:0,hint:0,treasureCol:0,bossCol:0}],En=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],Lo=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],_o=[{name:"1",code:49,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"2",code:50,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"3",code:51,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"4",code:52,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"5",code:53,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"6",code:54,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"7",code:55,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"8",code:56,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"9",code:57,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"0",code:48,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:189,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"=",code:187,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Q",code:81,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"W",code:87,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"E",code:69,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"R",code:82,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"T",code:84,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Y",code:89,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"U",code:85,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"I",code:73,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"O",code:79,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"P",code:80,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"[",code:219,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"]",code:221,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"A",code:65,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"S",code:83,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"D",code:68,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"F",code:70,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"G",code:71,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"H",code:72,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"J",code:74,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"K",code:75,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"L",code:76,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:";",code:186,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"'",code:222,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"Z",code:90,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"X",code:88,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"C",code:67,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"V",code:86,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"B",code:66,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"N",code:78,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"M",code:77,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:",",code:188,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:".",code:190,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"/",code:191,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]},{name:"-",code:32,class:0,level:1,xp:[0,20],hp:[2,2],off:1,mp:1,coin:0,equip:[0,0,0,0,0,0,0,0]}],s,o;const Ce=localStorage.getItem("threeSlot");!Ce||Ce==="undefined"||Ce==="null"?s=de:s=JSON.parse(Ce);const Fe={1:En,2:Lo,3:_o},yo=e=>{if(e===0)return;const t=e,i=`cardData_${t}`,a=localStorage.getItem(i);!a||a==="undefined"||a==="null"?Fe[t]?o=Fe[t]:o=En:o=JSON.parse(a),console.log("RDR userData")},wo=()=>{n.now_slot!==0&&(de=s,localStorage.setItem("threeSlot",JSON.stringify(de)))},ne=document.createElement("button"),Rt=document.createElement("button");ne.textContent="SAVE";Rt.textContent="reset";ne.addEventListener("click",()=>{if(n.now_slot===0)return;console.log("save"),wo(),de=s,localStorage.setItem("threeSlot",JSON.stringify(de));const e=n.now_slot;Fe[e]=o,localStorage.setItem(`cardData_${e}`,JSON.stringify(Fe[e]))});Rt.addEventListener("click",()=>{console.log("reset");const e=n.now_slot;e>=1&&window.localStorage.removeItem(`cardData_${e}`),n.now_slot=0});const K=document.createElement("div"),be=document.createElement("div"),Ut=document.createElement("div"),kn=document.createElement("div");K.id="menuArea";be.id="menuDiv";Ut.id="menuImgDiv";kn.id="menuImg";Ut.appendChild(kn);const Z=document.createElement("div"),D=document.createElement("div"),Qt=document.createElement("label"),gn=x("X",()=>{Wt(1)}),Mn=x("X",()=>{Wt(2)}),Dn=x("X",()=>{Wt(3)}),Co=x("",()=>{Ze(1)}),Eo=x("",()=>{Ze(2)}),ko=x("",()=>{Ze(3)});Co.classList.add("slotDel_btn");Eo.classList.add("slotDel_btn");ko.classList.add("slotDel_btn");D.id="saveSlotDiv";Qt.id="saveSlotLabel";Z.classList.add("overlay");D.classList.add("setDivBox");Qt.textContent="- Load -";const go=x("Back",()=>Do()),mt=e=>{n.curr_scene="menu",be.innerHTML="";const t=x("Start",()=>Mo(K)),i=x("Quit",()=>bo());return be.append(t,Ye,i),K.append(Ut,be),e.appendChild(K)},bn=()=>{Z.innerHTML="",D.innerHTML="",D.appendChild(Qt),s.forEach((e,t)=>{if(t===0)return;const i=document.createElement("div"),a=document.createElement("div");if(i.classList.add("slotDiv"),a.classList.add("slot_btn"),a.textContent=e.slotName,i.appendChild(a),e.slotName!=="New Game"){const l=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),E=document.createElement("div"),at=document.createElement("div"),qn=x("X",()=>{Ze(t)});l.classList.add("slotInfo"),d.classList.add("slotCHAL"),u.classList.add("slotGrade"),E.classList.add("slotMoney"),at.classList.add("slotLevel"),qn.classList.add("slotDel_btn"),d.innerHTML=`<h4>challenge time</h4>${e.challengeTime}`,u.innerHTML=`<h4>keyboard grade</h4>${e.boardGrade}`,E.innerHTML=`<h4>money</h4>${e.currMoney}`,at.innerHTML=`<h4>level</h4>${e.currLevel}`,l.append(d,u,E,at),a.appendChild(l),i.appendChild(qn)}D.appendChild(i),Z.appendChild(D),a.addEventListener("click",()=>{t===1?gn.click():t===2?Mn.click():t===3&&Dn.click()})}),D.appendChild(go)},Mo=e=>{e.appendChild(Z),bn(),p.play()},Do=()=>{K.removeChild(Z),p.play()},Wt=e=>{n.now_slot=e,yo(e),s[e].slotName==="New Game"&&(s[e].challengeTime=0,s[e].boardGrade=0,s[e].currMoney=200,s[e].currLevel=0,s[e].treasureCol=0,s[e].bossCol=0),s[e].slotName="data_"+e,K.removeChild(Z),p.play(),music_1.pause()},Ze=e=>{n.now_slot=e,s[e].slotName="New Game",s[e].challengeTime=0,s[e].boardGrade=0,s[e].currMoney=200,s[e].currLevel=0,s[e].hint=0,Rt.click(),bn(),p.play()},bo=()=>{window.close()},An=[{move:"",info:"There is a type of alien that likes to invade home computers. They have various different appearances. And will continuously expand its influence until it occupies the computer host."},{move:"",info:"Entering the correct words will weaken their physical strength. So upgrade your keyboard and capture as many aliens as possible."},{move:"Enter text.",info:"This is your Keyboard."},{move:"",info:"Here is the attack power integration of your Keyboard."},{move:"Enter letters and press back key.",info:"When the last letter is pressed, the attack will be successful, Before that, you can press the back key to clear the attack area."},{move:"Enter the text.",info:"The weaknesses of aliens will appear in text form. Enter the correct word to weaken the strength of the aliens."},{move:"",info:"When the alien's stamina reaches zero, the capture is successful."},{move:"",info:"Now lets start capturing the first alien."},{move:"",info:""},{move:"mission 1",info:"Choosing a class for a keycap."},{move:"mission 2",info:"Upgrade a keycap to level two."},{move:"mission 3",info:"Grade the keyboard up a level."}],r=document.createElement("div"),c=document.createElement("div"),ft=document.createElement("div"),ut=document.createElement("div"),Bn=document.createElement("div"),Sn=document.createElement("div");c.id="hintDiv";r.id="hintArea";ft.className="hintInfo";ut.id="hintMove";Bn.id="hint_img1";Sn.id="hint_img2";const Nn=e=>e.appendChild(r),w=()=>{mo.play(),console.log(s[n.now_slot].hint),ft.textContent=An[s[n.now_slot].hint].info,c.append(ft,ut),ut.textContent=An[s[n.now_slot].hint].move,s[n.now_slot].hint===0?(r.appendChild(Bn),r.appendChild(c),c.classList.add("hint1")):s[n.now_slot].hint===1?(r.innerHTML="",r.appendChild(Sn),r.appendChild(c),c.classList.add("hint1")):s[n.now_slot].hint===2?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint2")):s[n.now_slot].hint===3?(c.classList.value="",r.appendChild(c),c.classList.add("hint3")):s[n.now_slot].hint===4?(c.classList.value="",r.appendChild(c),c.classList.add("hint4")):s[n.now_slot].hint===5?(c.classList.value="",r.appendChild(c),c.classList.add("hint5")):s[n.now_slot].hint===6?(c.classList.value="",r.appendChild(c),c.classList.add("hint6")):s[n.now_slot].hint===7?(c.classList.value="",r.appendChild(c),c.classList.add("hint7")):s[n.now_slot].hint===8?(c.classList.value="",r.appendChild(c),c.classList.add("hint8")):s[n.now_slot].hint===9?(r.innerHTML="",c.classList.value="",r.appendChild(c),c.classList.add("hint9")):s[n.now_slot].hint===10?(c.classList.value="",r.appendChild(c),c.classList.add("hint10")):s[n.now_slot].hint===11?(c.classList.value="",r.appendChild(c),c.classList.add("hint11")):s[n.now_slot].hint===12&&(c.classList.value="")},Bo=["off_0_1","off_0_2","off_0_3"],So=["off_1_1","off_1_2","off_1_3"],xn=["off_2_1","off_2_2","off_2_3"],No=["off_3_1","off_3_2","off_3_3"];let _=0,Tn=0,q=0,vt=0;const Be=document.createElement("div"),qt=document.createElement("div"),To=document.createElement("div"),ht=document.createElement("div"),S=document.createElement("div"),At=document.createElement("div"),pe=document.createElement("label"),xt=document.createElement("div"),Lt=document.createElement("div"),R=document.createElement("div"),J=document.createElement("div"),oe=document.createElement("div"),se=document.createElement("div");oe.textContent="K.O";se.textContent="You Lose";Be.id="battleDiv";qt.id="bossContainer";To.id="bossTitle";ht.id="bossDiv";S.id="bossImg";xt.id="attackArea";Lt.id="scoreDiv";J.id="cardContainer";At.classList.add("bossBloodDiv");pe.classList.add("bossBloodLabel");const re=e=>{q=0,_=n.curr_boss.blood,Tn=n.curr_boss.reward,He=[],J.innerHTML="",Be.innerHTML="",oe.classList.value="",oe.className="userWin",se.classList.value="",se.className="userLose",S.classList.value="",S.classList.add(n.curr_boss.id),At.appendChild(pe),pe.textContent=_,R.textContent="0",Lt.appendChild(R),ht.append(se,oe,S),qt.append(ht,At),xt.append(Lt,J),Be.append(qt,xt),e.append(Be),console.log("import battle")};let He=[];const Io=e=>{if(n.curr_scene!=="battle"||typeof e.keyCode!="number")return;let t=0;for(;t<o.length;){if(o[t].code===e.keyCode){He.push(e.keyCode);const i=document.createElement("label"),a=document.createElement("div");a.classList.value="",a.className="cardDiv fadeIn",o[t].class===1?a.classList.add(So[o[t].level-1]):o[t].class===2?a.classList.add(xn[o[t].level-1]):o[t].class===3?a.classList.add(No[o[t].level-1]):o[t].class===4?a.classList.add(xn[o[t].level-1]):a.classList.add(Bo[o[t].level-1]),i.classList.add("cardOff"),a.textContent=o[t].name,i.textContent=o[t].off,q+=o[t].off,q*=o[t].mp,vt+=o[t].coin,a.appendChild(i),J.appendChild(a);break}t++}e.keyCode===8&&(J.innerHTML="",q=0,vt=0),R.textContent=q};window.addEventListener("keydown",Io);window.addEventListener("animationend",e=>{if(!(n.now_slot===0||s[n.now_slot].currScene==="shop")){if(e.animationName==="finLabelAnim")e.target.classList.remove("finLabel"),n.key_battle=n.key_battle.concat(He),He=[],J.innerHTML="",console.log(q,_),_-=q,R.textContent=q,n.key_getCoin+=vt,_<1&&s[n.now_slot].currLevel!=0&&(oe.classList.add("KO"),S.classList.add("finBoss"),pe.textContent=0,uo.play()),q=0,R.classList.add("attactScore");else if(e.animationName==="attactScoreAnim")e.target.classList.remove("attactScore"),R.textContent=q,pe.textContent=_,wn.play();else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),s[n.now_slot].currLevel+=1,_=n.curr_boss.blood,s[n.now_slot].currMoney+=Tn,S.classList.value="",q=0;else if(e.animationName==="lvlFinAnim"){if(n.codeLength_is0&&_>0&&(se.classList.add("LOSE"),S.classList.add("bossWin"),console.log("battle lose",n.codeLength_is0),fo.play()),s[n.now_slot].currLevel>=BOSS_ARR.length)return;_=BOSS_ARR[s[n.now_slot].currLevel].blood}}});const _t=document.createElement("div"),P=document.createElement("div"),C=document.createElement("input"),Ve=document.createElement("label");let Ln=!1;_t.id="codeAreaDiv";P.id="labelContainer";C.id="codingInput";C.setAttribute("autocomplete","off");C.setAttribute("type","text");Ve.id="lvlComText";Ve.textContent="";const Fo=5,yt=e=>{if(n.codeLength_is0=!1,s[n.now_slot].currLevel>=Fo)return;if(P.innerHTML="",Ln=e.every(i=>i.done),Ln)return n.codeLength_is0=!0,Ve.classList.add("lvlFin"),P.appendChild(Ve);let t=0;e.forEach((i,a)=>{if(i.done||P.childElementCount>=5)return;const l=document.createElement("label"),d=document.createElement("label");l.className="codeLabelDiv",d.className="codeLabel",d.style.animationDelay=t+"ms",t+=200,i.content.split("").forEach(u=>{const E=document.createElement("span");E.textContent=u,E.textContent===" "&&(E.style.width="10px"),d.appendChild(E)}),l.appendChild(d),P.append(l),C.addEventListener("input",()=>{Ho(i,d)})}),p.play(),console.log("render code")},In=e=>{n.boss_code.forEach(t=>{t.done=!1}),yt(n.boss_code),_t.append(P,C),e.append(_t)},Ho=(e,t)=>{let i=C.value.toString(),a=i.split("");const l=a.length-1;if(t.children.length-1>=l&&l>=0&&t.children[l].textContent===i[l]&&t.children[l].classList.add("activeLabel"),e.content===i){if(t.classList.add("finLabel"),e.done===!0||s[n.now_slot].currLevel===0)return;document.querySelectorAll(".activeLabel").forEach(d=>{d.classList.remove("activeLabel")}),e.done=!0,a=[]}};window.addEventListener("keydown",e=>{C.focus(),e.keyCode==8&&(C.value="",document.querySelectorAll(".activeLabel").forEach(t=>{t.classList.remove("activeLabel")}))});window.addEventListener("animationend",e=>{e.animationName==="fade-in-bck"?(e.target.classList.remove("fade-in-bck"),e.target.style.animationDelay="0ms"):e.animationName==="nextLvlAnim"?yt(n.boss_code):e.animationName==="finLabelAnim"&&(e.target.classList.remove("finLabelAnim"),C.value="",yt(n.boss_code),console.log("finLabAnim : end"))});const Vo=["keyFighterLv1","keyFighterLv2","keyFighterLv3"],Po=["keyWizardLv1","keyWizardLv2","keyWizardLv3"],Oo=["keyRogueLv1","keyRogueLv2","keyRogueLv3"],Yt=[{name:"Esc",code:27,pos:"office",width:"25px"},{name:"1",code:49,pos:"field",width:"25px"},{name:"2",code:50,pos:"field",width:"25px"},{name:"3",code:51,pos:"field",width:"25px"},{name:"4",code:52,pos:"field",width:"25px"},{name:"5",code:53,pos:"field",width:"25px"},{name:"6",code:54,pos:"field",width:"25px"},{name:"7",code:55,pos:"field",width:"25px"},{name:"8",code:56,pos:"field",width:"25px"},{name:"9",code:57,pos:"field",width:"25px"},{name:"0",code:48,pos:"field",width:"25px"},{name:"-",code:189,pos:"field",width:"25px"},{name:"=",code:187,pos:"field",width:"25px"},{name:"Back",code:8,pos:"office",width:"74px"}],Zt=[{name:"Tab",code:9,pos:"office",width:"50px"},{name:"Q",code:81,pos:"field",width:"25px"},{name:"W",code:87,pos:"field",width:"25px"},{name:"E",code:69,pos:"field",width:"25px"},{name:"R",code:82,pos:"field",width:"25px"},{name:"T",code:84,pos:"field",width:"25px"},{name:"Y",code:89,pos:"field",width:"25px"},{name:"U",code:85,pos:"field",width:"25px"},{name:"I",code:73,pos:"field",width:"25px"},{name:"O",code:79,pos:"field",width:"25px"},{name:"P",code:80,pos:"field",width:"25px"},{name:"[",code:219,pos:"field",width:"25px"},{name:"]",code:221,pos:"field",width:"25px"},{name:"\\",code:220,pos:"office",width:"50px"}],Jt=[{name:"CapsLock",code:20,pos:"office",width:"70px"},{name:"A",code:65,pos:"field",width:"25px"},{name:"S",code:83,pos:"field",width:"25px"},{name:"D",code:68,pos:"field",width:"25px"},{name:"F",code:70,pos:"field",width:"25px"},{name:"G",code:71,pos:"field",width:"25px"},{name:"H",code:72,pos:"field",width:"25px"},{name:"J",code:74,pos:"field",width:"25px"},{name:"K",code:75,pos:"field",width:"25px"},{name:"L",code:76,pos:"field",width:"25px"},{name:";",code:186,pos:"field",width:"25px"},{name:"'",code:222,pos:"field",width:"25px"},{name:"Enter",code:13,pos:"office",width:"60px"}],zt=[{name:"Shift",code:16,pos:"office",width:"79px"},{name:"Z",code:90,pos:"field",width:"25px"},{name:"X",code:88,pos:"field",width:"25px"},{name:"C",code:67,pos:"field",width:"25px"},{name:"V",code:86,pos:"field",width:"25px"},{name:"B",code:66,pos:"field",width:"25px"},{name:"N",code:78,pos:"field",width:"25px"},{name:"M",code:77,pos:"field",width:"25px"},{name:",",code:188,pos:"field",width:"25px"},{name:".",code:190,pos:"field",width:"25px"},{name:"/",code:191,pos:"field",width:"25px"},{name:"Shift",code:16,pos:"office",width:"79px"}],Xt=[{name:"Ctrl",code:17,pos:"office",width:"40px"},{name:"Win",code:91,pos:"office",width:"40px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Space",code:32,pos:"office",width:"232px"},{name:"Alt",code:18,pos:"office",width:"25px"},{name:"Fn",code:0,pos:"office",width:"25px"},{name:"Ctrl",code:17,pos:"office",width:"40px"}];let jt=document.createElement("div");jt.classList.add("keyContainer");let qe=document.createElement("div");qe.classList.add("keyLine");let he=document.createElement("div");he.classList.add("keyLine");let Ae=document.createElement("div");Ae.classList.add("keyLine");let xe=document.createElement("div");xe.classList.add("keyLine");let Le=document.createElement("div");Le.classList.add("keyLine");jt.append(qe,he,Ae,xe,Le);const m=(e,t)=>{t.innerHTML="",e.forEach(i=>{let a=document.createElement("div");if(a.textContent=i.name,a.id=i.code,a.style.width=i.width,t.append(a),i.pos==="field"){a.classList.value="";let l=0;for(;l<o.length;){if(o[l].code===i.code){o[l].class===1?(a.classList.add(Vo[o[l].level-1]),a.classList.add("keyFighterLv1")):o[l].class===2?(a.classList.add(Po[o[l].level-1]),a.classList.add("keyWizard")):o[l].class===3?(a.classList.add(Oo[o[l].level-1]),a.classList.add("keyRogue")):a.classList.add("keyCivilian");break}l++}}else a.classList.add("keyOffice");a.classList.add("keycap")})},me=e=>{e.append(jt),m(Yt,qe),m(Zt,he),m(Jt,Ae),m(zt,xe),m(Xt,Le)},Go=e=>{if(typeof e.keyCode!="number"||n.curr_scene!=="battle")return;const t=document.querySelector(`div[id="${e.keyCode}"`);t.classList.add("keyDownAnim"),setTimeout(()=>{t.classList.remove("keyDownAnim")},100)};window.addEventListener("keydown",Go);const v=document.createElement("div"),A=document.createElement("div"),z=document.createElement("div"),Je=document.createElement("button"),f=document.createElement("button");Je.textContent="PASS";f.textContent="next";v.id="tutorialArea";A.id="middleTArea";z.id="keyboardTArea";Je.id="tourPassBtn";f.id="tourNextBtn";v.append(A,z);const Ko=e=>(Nn(v),w(),v.appendChild(f),f.classList.add("nextBtn1"),e.append(v,Je));Je.addEventListener("click",()=>{v.classList.add("tourFin"),s[n.now_slot].hint=9,p.play()});f.addEventListener("click",()=>{console.log("hint",s[n.now_slot].hint+1),s[n.now_slot].hint+=1,w(),s[n.now_slot].hint===2?(me(z),v.removeChild(f),n.curr_scene="battle"):s[n.now_slot].hint===4?(v.removeChild(f),re(A)):s[n.now_slot].hint===7?(v.appendChild(f),f.classList.add("nextBtn7"),A.innerHTML=""):s[n.now_slot].hint===8&&(A.innerHTML="",z.innerHTML="",v.classList.add("tourFin"),s[n.now_slot].hint=9,console.log(888)),p.play()});window.addEventListener("keydown",e=>{if(s[n.now_slot].hint===2)s[n.now_slot].hint=3,re(A),me(z),w(),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn3");else if(e.keyCode===8)if(s[n.now_slot].hint===4)s[n.now_slot].hint=5,re(A),In(A),me(z),w();else return;else return});window.addEventListener("animationend",e=>{e.animationName==="finLabelAnim"&&s[n.now_slot].hint===5&&(s[n.now_slot].hint=6,A.innerHTML="",re(A),v.appendChild(f),f.classList.value="",f.classList.add("nextBtn6"),w())});document.createElement("div");const Fn=e=>{let t=o.length,a=o.filter(l=>l.level===1).length/t;a*=10,a<5&&(s[n.now_slot].boardGrade=2,s[n.now_slot].hint===11&&(s[n.now_slot].hint=12,w()))},Ro=[{content:"let js=true",done:!1},{content:"const",done:!1},{content:"var",done:!1},{content:"boolean",done:!1},{content:"false",done:!1}],Uo=[{content:"var insects=4",done:!1},{content:"const",done:!1},{content:"0=false",done:!1},{content:"number",done:!1},{content:"1=true",done:!1}],Qo=[{content:"const bat=''",done:!1},{content:"const",done:!1},{content:"string",done:!1},{content:"''",done:!1},{content:"let",done:!1}],Wo={id:"boss_1_1",name:"Spider",blood:20,reward:100},Yo={id:"boss_1_2",name:"Swarm of Insects",blood:15,reward:100},Zo={id:"boss_1_3",name:"Bat",blood:21,reward:1e3},Jo=[{content:"String",done:!1},{content:"Number",done:!1},{content:"Boolean",done:!1},{content:"Undefined",done:!1},{content:"Null",done:!1}],zo=[{content:"function",done:!1},{content:"()",done:!1},{content:"sayHello()",done:!1},{content:"'hello!'",done:!1},{content:"Parenthesis",done:!1}],Xo=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],jo={id:"boss_2_1",name:"Kobold",blood:2,reward:2e5},$o={id:"boss_2_2",name:"Goblin",blood:2,reward:2e5},es={id:"boss_2_3",name:"Octopus",blood:2,reward:2e5},ts=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ns=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],os=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ss={id:"boss_3_1",name:"Skeleton",blood:5,reward:1e3},is={id:"boss_3_2",name:"Ogre",blood:5,reward:1e3},as={id:"boss_3_3",name:"Fire Elemental",blood:5,reward:1e3},ls=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],cs=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ds=[{content:"2",done:!1},{content:"1",done:!1},{content:"3",done:!1},{content:"4",done:!1},{content:"5",done:!1}],ps={id:"boss_4_1",name:"Werewolf",blood:2,reward:1e3},rs={id:"boss_4_2",name:"Stone Giant",blood:2,reward:1e3},ms={id:"boss_4_3",name:"Homunculi",blood:2,reward:1e3},y=document.createElement("div"),Pe=document.createElement("div"),wt=document.createElement("div"),Oe=document.createElement("div"),Ge=document.createElement("div"),$t=document.createElement("div"),ze=document.createElement("div"),Xe=document.createElement("div");Pe.append(Oe,Ge);$t.append(ze,Xe);y.id="prologueArea";Pe.id="prolMainDiv";wt.id="prolLvlDiv";Oe.id="prolBounty";Ge.id="prolBlood";$t.id="prolBtnDiv";ze.id="prolFightBtn";Xe.id="prolPassBtn";ze.textContent="fighting";Xe.textContent="Pass";const Ct=e=>{const t=s[n.now_slot].currLevel;return console.log("import prol",Et.length,t),y.innerHTML="",t<Et.length?(_s(t),wt.textContent="Level. "+t,Oe.textContent="Bounty: "+n.curr_boss.reward,Ge.textContent="score: "+n.curr_boss.blood,y.append(wt,Pe,$t)):(Oe.textContent="Thank you for playing this far! The next levels and new features are currently in development.",Ge.textContent="Stay tuned",y.appendChild(Pe)),e.appendChild(y)},Hn=[Ro,Uo,Qo],fs=[Jo,zo,Xo],us=[ts,ns,os],vs=[ls,cs,ds],qs=[Wo,Yo,Zo],hs=[jo,$o,es],As=[ss,is,as],xs=[ps,rs,ms],Et=[0,Hn,fs,us,vs],Ls=[0,qs,hs,As,xs],_s=e=>{let t=0;t=Math.floor(Math.random()*Hn.length);let i=Et[e],a=Ls[e];n.boss_code=i[t],n.curr_boss=a[t],console.log("RDR boss",a[t])};ze.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolFightFin"),p.play()});Xe.addEventListener("click",()=>{y.classList.value="",y.classList.add("prolPassFin"),p.play()});const _n=[{title:"XP",info:"Experience Points: Successfully attacking each round will increase experience points. When full, it will increase one level."},{title:"HP",info:"Health: When life points reach zero, level and equipment will reset to zero."},{title:"Offence",info:"Attack power: Starts at one point. Equipment can increase attack power."},{title:"Mp",info:"Magic attribute: The total attack will be multiplied by this value."},{title:"Coin",info:"Golden Coin: the amount of coins that will be brought after a successful attack."},{title:"",info:""}],kt=document.createElement("div");let T=document.createElement("div");const gt=document.createElement("div"),en=document.createElement("div"),N=document.createElement("div"),tn=document.createElement("div");let h=[0,1];kt.id="dictionArea";T.id="pageContentArea";gt.id="pageBtnArea";N.id="pageDotDiv";en.id="pageLBtn";tn.id="pageRBtn";document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");document.createElement("div");const ys=[0,0,0,0,0],ws=[0,0,0,0,0],ie=document.createElement("div");document.createElement("div");document.createElement("div");const Se=document.createElement("div");ie.className="dict_page";Se.className="dict_page";const Cs=e=>{N.innerHTML="";for(let t=0;t<h[1]+1;t++){const i=document.createElement("div");i.className="pageDot",N.append(i)}gt.append(en,N,tn),kt.append(T,gt),e.appendChild(kt)},Vn=e=>{e.forEach((t,i)=>{const a=document.createElement("div"),l=document.createElement("div");l.className="blockDiv",a.className="blockInfo",l.textContent=_n[i].title,a.textContent=_n[i].info,l.appendChild(a),ie.appendChild(l)})},Pn=e=>{e===0?F(0):e===1?Es(0):e===2&&(T.textContent="p3"),console.log(N.children[e])},On=()=>{if(!document.getElementsByClassName("clickDict"))return;document.querySelectorAll(".clickDict").forEach(function(t){t.classList.remove("clickDict")})};en.addEventListener("click",()=>{console.log(h),h[0]>0&&(h[0]-=1,Pn(h[0])),p.play()});tn.addEventListener("click",()=>{h[0]<h[1]&&(h[0]+=1,Pn(h[0])),p.play()});const F=e=>{On(),ie.innerHTML="",T.innerHTML="",Vn(ys),T.appendChild(ie),ie.children[e].classList.add("clickDict"),h[0]=0,$n(),N.children[0].classList.add("clickDict")},Es=e=>{On(),Se.innerHTML="",T.innerHTML="",Vn(ws),T.appendChild(Se),Se.children[e].classList.add("clickDict"),h[0]=1,N.children[1].classList.add("clickDict")},U=[{id:0,name:"Heal",price:10,info:"heal + 1"},{id:0,name:"Experience",price:20,info:"Experience + 1"},{id:0,name:"Fighter",price:10,info:"fighter suit"},{id:0,name:"Wizard",price:20,info:"wizard suit"},{id:0,name:"Rogue",price:30,info:"rogue suit"},{id:11,name:"Sword_1",price:10,info:"offence + 1"},{id:12,name:"Sword_2",price:30,info:"offence + 2"},{id:13,name:"Sword_3",price:10,info:"offence + 3"},{id:51,name:"lock",price:0,info:"unlock to know more..."},{id:52,name:"lock",price:0,info:"unlock to know more..."}],ks=["key_0_1","key_1_2","key_1_3","key_1_4"],gs=["key_1_1","key_1_2","key_1_3","key_1_4"],Ms=["key_2_1","key_2_2","key_2_3"],Ds=["key_3_1","key_3_2","key_3_3"],pt=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],je=document.createElement("div"),Mt=document.createElement("div"),Ke=document.createElement("div"),bs=document.createElement("div"),Bs=document.createElement("div"),nn=document.createElement("div"),Dt=document.createElement("div"),b=document.createElement("div"),Gn=document.createElement("div"),bt=document.createElement("div"),B=document.createElement("div"),V=document.createElement("div"),Q=document.createElement("div"),W=document.createElement("div"),fe=document.createElement("div"),Y=document.createElement("div"),ue=document.createElement("div"),Kn=document.createElement("div"),Rn=document.createElement("div"),Un=document.createElement("div"),Qn=document.createElement("div"),Wn=document.createElement("div"),on=document.createElement("div"),sn=document.createElement("div"),an=document.createElement("div"),ln=document.createElement("div"),cn=document.createElement("div"),Bt=document.createElement("div"),Re=document.createElement("div"),St=document.createElement("div"),ae=document.createElement("div"),_e=document.createElement("button");je.id="skillContainer";Mt.id="keyHeadDiv";Ke.id="keyManNameDiv";nn.id="keyManLvl";Dt.id="keyManClassDiv";b.id="keyManClassName";Gn.id="keyManClassIcon";bt.id="keyManMiddle";V.id="keyManValDiv";B.id="keyManImg";Q.classList.add("keyManValDiv");W.classList.add("keyManValDiv");fe.classList.add("keyManValDiv");Y.classList.add("keyManValDiv");ue.classList.add("keyManValDiv");Q.textContent="XP";W.textContent="HP";fe.textContent="MP";Y.textContent="OFF";ue.textContent="Coin";_e.textContent="Sell";Kn.className="keyManValIcon xp";Rn.className="keyManValIcon hp";Un.className="keyManValIcon mp";Qn.className="keyManValIcon off";Wn.className="keyManValIcon coin";on.classList.add("keyManValValue");sn.classList.add("keyManValValue");an.classList.add("keyManValValue");ln.classList.add("keyManValValue");cn.classList.add("keyManValValue");Bt.id="keyManEquipArea";Re.id="keyManEquipDiv";St.id="keyManSellDiv";ae.id="keyManInfo";_e.id="keyManSellBtn";const X=e=>{Ke.append(bs,Bs),Mt.append(Ke,nn),Dt.append(Gn,b),Q.append(Kn,on),W.append(Rn,sn),Y.append(Qn,ln),e===1?(fe.append(Un,an),V.innerHTML="",V.append(Q,W,Y,fe)):e===3&&(ue.append(Wn,cn),V.innerHTML="",V.append(Q,W,Y,ue)),bt.append(B,V),St.append(ae,_e),Bt.append(Re,St),je.append(Mt,Dt,bt,Bt)},dn=e=>e.appendChild(je),H=e=>{if(n.now_slot===0||typeof e!="number")return;let t=0;for(;t<o.length;)if(o[t].code===e){n.targetKey_index=t,Ke.textContent=o[t].name,B.classList.value="",o[t].off=1,o[t].mp=1,o[t].coin=0,je.innerHTML="",o[t].class===1?(X(1),b.textContent="Fighter",B.classList.add(gs[o[t].level-1]),o[t].level===1?o[t].off=2:o[t].level===2?o[t].off=3:o[t].level>=3&&(o[t].off=5)):o[t].class===2?(X(1),b.textContent="Wizard",B.classList.add(Ms[o[t].level-1]),o[t].level===1?o[t].mp=1.1:o[t].level===2?o[t].mp=1.2:o[t].level>=3&&(o[t].mp=1.4)):o[t].class===3?(X(3),b.textContent="Rogue",B.classList.add(Ds[o[t].level-1]),o[t].level===1?o[t].coin=1:o[t].level===2?o[t].coin=3:o[t].level>=3&&(o[t].coin=1,o[t].coin=8)):o[t].class===4?(X(1),b.textContent="Druid"):(X(1),b.textContent="Civilian",B.classList.add(ks[0])),s[n.now_slot].hint===9&&o[t].class!==0&&(s[n.now_slot].hint=10,w()),Re.innerHTML="",ae.textContent="none";for(let i=0;i<o[t].equip.length;i++){let a=document.createElement("div");a.classList.value="",a.classList.add("equipLog"),a.textContent="none",Re.appendChild(a),o[t].equip[i]===11?(o[t].off+=1,a.classList.add(pt[5]),a.textContent=U[6].info):o[t].equip[i]===12?(o[t].off+=2,a.classList.add(pt[6]),a.textContent=U[7].info):o[t].equip[i]===13&&(o[t].off+=3,a.classList.add(pt[7]),a.textContent=U[8].info),a.addEventListener("click",()=>{Ss(),n.targetEquip_index=i,a.textContent==="none"?ae.textContent="none":ae.textContent=a.textContent,a.classList.add("clickEquip"),yn.play()}),i===0&&a.click()}nn.textContent=o[t].level,sn.textContent=o[t].hp[0]+" /"+o[t].hp[1],on.textContent=o[t].xp[0]+" /"+o[t].xp[1],an.textContent=o[t].mp,ln.textContent=o[t].off,cn.textContent=o[t].coin;break}else t++;console.log("render skill")},Ss=()=>{if(!document.getElementsByClassName("clickEquip"))return;document.querySelectorAll(".clickEquip").forEach(function(t){t.classList.remove("clickEquip")})};_e.addEventListener("click",()=>{let e=o[n.targetKey_index].equip[n.targetEquip_index];if(e===11?(n.targetMdse_index=5,o[n.targetKey_index].off-=1):e===12?(n.targetMdse_index=6,o[n.targetKey_index].off-=2):e===13&&(n.targetMdse_index=7,o[n.targetKey_index].off-=3),e!==0){let t=U[n.targetMdse_index];s[n.now_slot].currMoney+=t.price/2}o[n.targetKey_index].equip[n.targetEquip_index]=0,H(o[n.targetKey_index].code),Cn.play()});const Ns=e=>{n.curr_scene==="shop"&&(console.log("keyDown code",n.curr_key),n.curr_key=e.keyCode,H(n.curr_key))};Q.addEventListener("click",()=>{F(0),ve.play()});W.addEventListener("click",()=>{F(1),ve.play()});Y.addEventListener("click",()=>{F(2),ve.play()});fe.addEventListener("click",()=>{F(3),ve.play()});ue.addEventListener("click",()=>{F(4),ve.play()});window.addEventListener("keydown",Ns);const Ts=["mdse_1_1","mdse_1_2","mdse_1_3","mdse_1_4","mdse_1_5","mdse_1_6","mdse_2_1","mdse_2_2","mdse_2_3","mdse_2_4","mdse_2_5","mdse_2_6"],Nt=document.createElement("div"),Tt=document.createElement("div"),Ne=document.createElement("div"),It=document.createElement("div"),Ue=document.createElement("div"),Ft=document.createElement("div"),Ht=document.createElement("div"),Yn=document.createElement("div"),I=document.createElement("div"),le=document.createElement("div"),Qe=document.createElement("div"),$e=document.createElement("div");Nt.id="shopContainer";Tt.id="mdseContainer";Ne.id="mdseArea";It.id="shopCounter";Ue.id="mdseBankArea";Ft.id="mdseInfoArea";Ht.id="mdseInfoName";Yn.id="bankImg";I.id="userMoney";le.id="usergetCoin";Qe.id="mdseInfoBox";$e.id="shopPurchaseBtn";Qe.classList.add("scrollbar");I.textContent=0;$e.textContent="Buy";const Zn=e=>{if(Ue.append(Ht,I,le,Yn),Ft.append(Qe,$e),It.append(Ue,Ft),Nt.append(Tt,It),I.textContent=s[n.now_slot].currMoney,le.textContent="+"+n.key_getCoin,le.classList.add("getCoin"),Ne.innerHTML="",U.forEach((t,i)=>{const a=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");a.append(l,d,u),a.classList.add("mdseItem"),l.classList.add("mdseName"),d.classList.value="",d.classList.add("mdseImg"),d.classList.add(Ts[i]),u.classList.add("mdsePrice"),l.textContent=t.name,u.textContent=t.price.toString(),Ne.appendChild(a),Tt.appendChild(Ne),a.addEventListener("click",()=>{Is(),n.targetMdse_index=i,Ht.textContent=t.name,Qe.textContent=t.info,d.classList.add("clickMdse"),yn.play()}),i===0&&a.click()}),n.key_battle!=[]){for(let t=0;t<o.length;t++)for(let i=0;i<n.key_battle.length;i++)n.key_battle[i]===o[t].code&&(o[t].xp[0]+=1,o[t].xp[0]>=o[t].xp[1]&&(o[t].level+=1,o[t].xp[0]=0));n.key_battle=[]}return console.log("import shop"),e.appendChild(Nt)},Is=()=>{if(!document.getElementsByClassName("clickMdse"))return;document.querySelectorAll(".clickMdse").forEach(function(t){t.classList.remove("clickMdse")})};$e.addEventListener("click",()=>{let e=U[n.targetMdse_index];e.price>s[n.now_slot].currMoney||(s[n.now_slot].currMoney-=e.price,I.textContent=s[n.now_slot].currMoney,Fs(e),H(n.curr_key),Cn.play())});_e.addEventListener("click",()=>{I.textContent=s[n.now_slot].currMoney});const Fs=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let i=o[t].equip.indexOf(0);e.name==="Heal"?o[t].hp[1]>o[t].hp[0]&&(o[t].hp[0]+=1):e.name==="Experience"?o[t].xp[1]>o[t].xp[0]?o[t].xp[0]+=1:(o[t].level+=1,o[t].xp[0]=0,s[n.now_slot].hint===10&&(s[n.now_slot].hint=11,w())):e.name==="Fighter"?o[t].class=1:e.name=="Wizard"?o[t].class=2:e.name==="Rogue"?o[t].class=3:e.name==="Sword_1"?o[t].equip[i]=11:e.name==="Sword_2"?o[t].equip[i]=12:e.name==="Sword_3"?o[t].equip[i]=13:e.name==="Shield_1"?o[t].equip[i]=4:e.name==="Shield_2"&&(o[t].equip[i]=5);break}else t++;H(n.curr_key),m(Yt,qe),m(Zt,he),m(Jt,Ae),m(zt,xe),m(Xt,Le),console.log("render keycap")};window.addEventListener("animationend",e=>{e.animationName==="getCoinAnim"&&(e.target.classList.remove("getCoin"),s[n.now_slot].currMoney+=n.key_getCoin,n.key_getCoin=0,I.textContent=s[n.now_slot].currMoney,Ue.removeChild(le),vo.play())});const Hs=[{name:"sword_1",price:10,info:"heal + 1"},{name:"sword_2",price:20,info:"Experience + 1"},{name:"sword_3",price:10,info:"fighter suit"},{name:"sheild_1",price:20,info:"wizard suit"},{name:"sheild_2",price:30,info:"rogue suit"},{name:"sheild_3",price:50,info:"druid suit"}],Jn=document.createElement("div"),zn=document.createElement("div"),Vs=document.createElement("div"),pn=document.createElement("div"),rn=document.createElement("div"),mn=document.createElement("div"),Xn=document.createElement("div"),jn=document.createElement("div"),et=document.createElement("div"),fn=document.createElement("div"),tt=document.createElement("div");Jn.id="shopContainer";zn.id="mdseContainer";Vs.id="mdseArea";pn.id="shopCounter";rn.id="mdseBankArea";mn.id="mdseInfoArea";Xn.id="mdseInfoName";jn.id="bankImg";et.id="userMoney";fn.id="mdseInfoBox";tt.id="treasBuyBtn";fn.classList.add("scrollbar");et.textContent=0;tt.textContent="Buy";rn.append(Xn,et,jn);mn.append(fn,tt);pn.append(rn,mn);Jn.append(zn,pn);tt.addEventListener("click",()=>{let e=Hs[n.targetMdse_index];e.price>s[n.now_slot].currMoney||(s[n.now_slot].currMoney-=e.price,et.textContent=s[n.now_slot].currMoney,Ps(e),H(n.curr_key))});const Ps=e=>{let t=0;for(;t<o.length;)if(o[t].code===n.curr_key){let i=o[t].equip.indexOf(0);e.name==="sword_1"?o[t].equip[i]=1:e.name==="sword_2"?o[t].equip[i]=2:e.name==="sword_3"?o[t].equip[i]=3:e.name==="shield_1"?o[t].equip[i]=4:(e.name==="shield_2"||e.name==="shield_3")&&(o[t].equip[i]=5);break}else t++;H(n.curr_key),m(Yt,qe),m(Zt,he),m(Jt,Ae),m(zt,xe),m(Xt,Le)},Vt=document.createElement("label"),M=document.createElement("div"),We=document.createElement("div"),L=document.createElement("label"),un=document.createElement("div"),nt=document.createElement("div"),ot=document.createElement("div"),st=document.createElement("div"),vn=document.createElement("div");Vt.id="titleArea";L.id="titleLabel";M.id="nextLvlBtn";M.textContent="NEXT";We.id="titShopDiv";un.id="titShopBtn";nt.id="titTreasureBtn";ot.id="titBugCollBtn";st.id="titKeyCollBtn";vn.id="titDictBtn";nt.classList.add("lock_img");ot.classList.add("lock_img");st.classList.add("lock_img");const Os=(e,t)=>{if(s[n.now_slot])return console.log("import tit",t),L.textContent=n.curr_boss.name,M.style.display="none",Vt.append(L,We,M),e.append(Vt)};M.addEventListener("click",()=>{M.classList.add("shopFin"),p.play()});un.addEventListener("click",()=>{const e=document.getElementById("middleArea");L.textContent="Shop",e.innerHTML="",dn(e),Zn(e),p.play()});nt.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Treasure",p.play()});ot.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Bug Collection",p.play()});st.addEventListener("click",()=>{document.getElementById("middleArea"),L.textContent="Keyboard",p.play()});vn.addEventListener("click",()=>{$n(),F(0),p.play()});const $n=()=>{const e=document.getElementById("middleArea");L.textContent="Dictionary",e.innerHTML="",dn(e),Cs(e)};window.addEventListener("animationend",e=>{e.animationName==="finBossAnim"?(L.textContent="Shop",We.append(un,nt,ot,st,vn),M.style.display="block"):e.animationName==="prolFightFinAnim"&&(We.innerHTML="",L.textContent="name: "+n.curr_boss.name,M.style.display="none")});const Te=document.createElement("div"),Pt=document.createElement("div"),k=document.createElement("div"),j=document.createElement("div");Te.id="gameArea";Pt.id="headArea";k.id="middleArea";j.id="keyBoardArea";window.addEventListener("keydown",e=>{if(e.keyCode===27){const t=document.getElementById("app");xo(t)}});const it=e=>{Fn(),s[n.now_slot].currLevel===0?(console.log("RDR tutorial"),Ko(e)):(Ct(e),console.log("RDR game"))};window.addEventListener("animationend",e=>{if(e.animationName==="tourFinAnim"){e.target.classList.remove("tourFin"),s[n.now_slot].currLevel=1,console.log("tourFin lvl",s[n.now_slot].currLevel);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="tour",it(t)}else if(e.animationName==="finBossAnim")e.target.classList.remove("finBoss"),console.log("scene now: ",n.curr_scene),k.innerHTML="",j.innerHTML="",dn(k),H(49),Zn(k),me(j),n.curr_scene="shop",ne.click();else if(e.animationName==="shopFinAnim"){e.target.classList.remove("shopFin"),console.log("next lvl");const t=document.querySelector("#app");t.innerHTML="",Ct(t)}else if(e.animationName==="prolFightFinAnim"){e.target.classList.remove("prolFightFin"),console.log("scene now: ",n.curr_scene);const t=document.querySelector("#app");t.innerHTML="",n.curr_scene="battle",ne.click(),Te.innerHTML="",k.innerHTML="",t.appendChild(Te),Os(Pt,s[n.now_slot].currLevel),me(j),re(k),In(k),Te.append(Pt,k,j),Fn(),Nn(t),s[n.now_slot].hint<12&&w()}else if(e.animationName==="prolPassFinAnim"){e.target.classList.remove("prolPassFin");const t=document.querySelector("#app");t.innerHTML="",s[n.now_slot].currLevel+=1,Ct(t)}else e.animationName==="bossWinAnim"&&(e.target.classList.remove("bossWinAnim"),console.log("you lose! back to lvl 1"),s[n.now_slot].currLevel=1,s[n.now_slot].challengeTime+=1,s[n.now_slot].currMoney=200,n.curr_scene="battle",ne.click())});const Gs=()=>{const e=document.querySelector("#app");qo(e)};Gs();gn.addEventListener("click",()=>{app.innerHTML="",it(app)});Mn.addEventListener("click",()=>{app.innerHTML="",it(app)});Dn.addEventListener("click",()=>{app.innerHTML="",it(app)});$.addEventListener("click",()=>{app.innerHTML="",mt(app)});window.addEventListener("animationend",()=>{event.animationName==="openImgAnim"&&mt(app),event.animationName==="openingFinAnim"?(event.target.classList.remove("openingFin"),console.log("opening finish"),app.removeChild(openingArea)):event.animationName==="bossWinAnim"&&(console.log("you lose! back to lvl 1"),app.innerHTML="",mt(app))});
